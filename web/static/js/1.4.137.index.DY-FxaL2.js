(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();/**
* @vue/shared v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Wc(n,e){const t=new Set(n.split(","));return i=>t.has(i)}const ft={},Ui=[],Bn=()=>{},fx=()=>!1,ba=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),qc=n=>n.startsWith("onUpdate:"),Lt=Object.assign,Vc=(n,e)=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)},px=Object.prototype.hasOwnProperty,Xe=(n,e)=>px.call(n,e),Me=Array.isArray,zi=n=>ya(n)==="[object Map]",Ep=n=>ya(n)==="[object Set]",Fe=n=>typeof n=="function",Et=n=>typeof n=="string",Xi=n=>typeof n=="symbol",mt=n=>n!==null&&typeof n=="object",Sp=n=>(mt(n)||Fe(n))&&Fe(n.then)&&Fe(n.catch),Tp=Object.prototype.toString,ya=n=>Tp.call(n),gx=n=>ya(n).slice(8,-1),Bp=n=>ya(n)==="[object Object]",Kc=n=>Et(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,Ir=Wc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),wa=n=>{const e=Object.create(null);return t=>e[t]||(e[t]=n(t))},mx=/-(\w)/g,Jn=wa(n=>n.replace(mx,(e,t)=>t?t.toUpperCase():"")),vx=/\B([A-Z])/g,Zi=wa(n=>n.replace(vx,"-$1").toLowerCase()),ka=wa(n=>n.charAt(0).toUpperCase()+n.slice(1)),Gl=wa(n=>n?`on${ka(n)}`:""),jo=(n,e)=>!Object.is(n,e),Yl=(n,e)=>{for(let t=0;t<n.length;t++)n[t](e)},na=(n,e,t)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value:t})},bx=n=>{const e=parseFloat(n);return isNaN(e)?n:e},yx=n=>{const e=Et(n)?Number(n):NaN;return isNaN(e)?n:e};let nf;const Ip=()=>nf||(nf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Gc(n){if(Me(n)){const e={};for(let t=0;t<n.length;t++){const i=n[t],r=Et(i)?_x(i):Gc(i);if(r)for(const a in r)e[a]=r[a]}return e}else if(Et(n)||mt(n))return n}const wx=/;(?![^(]*\))/g,kx=/:([^]+)/,xx=/\/\*[^]*?\*\//g;function _x(n){const e={};return n.replace(xx,"").split(wx).forEach(t=>{if(t){const i=t.split(kx);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function xa(n){let e="";if(Et(n))e=n;else if(Me(n))for(let t=0;t<n.length;t++){const i=xa(n[t]);i&&(e+=i+" ")}else if(mt(n))for(const t in n)n[t]&&(e+=t+" ");return e.trim()}const Cx="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ex=Wc(Cx);function Lp(n){return!!n||n===""}const Ap=n=>Et(n)?n:n==null?"":Me(n)||mt(n)&&(n.toString===Tp||!Fe(n.toString))?JSON.stringify(n,Mp,2):String(n),Mp=(n,e)=>e&&e.__v_isRef?Mp(n,e.value):zi(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[i,r],a)=>(t[Xl(i,a)+" =>"]=r,t),{})}:Ep(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>Xl(t))}:Xi(e)?Xl(e):mt(e)&&!Me(e)&&!Bp(e)?String(e):e,Xl=(n,e="")=>{var t;return Xi(n)?`Symbol(${(t=n.description)!=null?t:e})`:n};/**
* @vue/reactivity v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Dn;class Op{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Dn,!e&&Dn&&(this.index=(Dn.scopes||(Dn.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const t=Dn;try{return Dn=this,e()}finally{Dn=t}}}on(){Dn=this}off(){Dn=this.parent}stop(e){if(this._active){let t,i;for(t=0,i=this.effects.length;t<i;t++)this.effects[t].stop();for(t=0,i=this.cleanups.length;t<i;t++)this.cleanups[t]();if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function Sx(n){return new Op(n)}function Tx(n,e=Dn){e&&e.active&&e.effects.push(n)}function Bx(){return Dn}let hi;class Yc{constructor(e,t,i,r){this.fn=e,this.trigger=t,this.scheduler=i,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,Tx(this,r)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,vi();for(let e=0;e<this._depsLength;e++){const t=this.deps[e];if(t.computed&&(Ix(t.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),bi()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=Uo,t=hi;try{return Uo=!0,hi=this,this._runnings++,of(this),this.fn()}finally{rf(this),this._runnings--,hi=t,Uo=e}}stop(){var e;this.active&&(of(this),rf(this),(e=this.onStop)==null||e.call(this),this.active=!1)}}function Ix(n){return n.value}function of(n){n._trackId++,n._depsLength=0}function rf(n){if(n.deps.length>n._depsLength){for(let e=n._depsLength;e<n.deps.length;e++)Rp(n.deps[e],n);n.deps.length=n._depsLength}}function Rp(n,e){const t=n.get(e);t!==void 0&&e._trackId!==t&&(n.delete(e),n.size===0&&n.cleanup())}let Uo=!0,bc=0;const Pp=[];function vi(){Pp.push(Uo),Uo=!1}function bi(){const n=Pp.pop();Uo=n===void 0?!0:n}function Xc(){bc++}function Zc(){for(bc--;!bc&&yc.length;)yc.shift()()}function Np(n,e,t){if(e.get(n)!==n._trackId){e.set(n,n._trackId);const i=n.deps[n._depsLength];i!==e?(i&&Rp(i,n),n.deps[n._depsLength++]=e):n._depsLength++}}const yc=[];function Dp(n,e,t){Xc();for(const i of n.keys()){let r;i._dirtyLevel<e&&(r??(r=n.get(i)===i._trackId))&&(i._shouldSchedule||(i._shouldSchedule=i._dirtyLevel===0),i._dirtyLevel=e),i._shouldSchedule&&(r??(r=n.get(i)===i._trackId))&&(i.trigger(),(!i._runnings||i.allowRecurse)&&i._dirtyLevel!==2&&(i._shouldSchedule=!1,i.scheduler&&yc.push(i.scheduler)))}Zc()}const Fp=(n,e)=>{const t=new Map;return t.cleanup=n,t.computed=e,t},oa=new WeakMap,fi=Symbol(""),wc=Symbol("");function on(n,e,t){if(Uo&&hi){let i=oa.get(n);i||oa.set(n,i=new Map);let r=i.get(t);r||i.set(t,r=Fp(()=>i.delete(t))),Np(hi,r)}}function po(n,e,t,i,r,a){const l=oa.get(n);if(!l)return;let u=[];if(e==="clear")u=[...l.values()];else if(t==="length"&&Me(n)){const d=Number(i);l.forEach((h,g)=>{(g==="length"||!Xi(g)&&g>=d)&&u.push(h)})}else switch(t!==void 0&&u.push(l.get(t)),e){case"add":Me(n)?Kc(t)&&u.push(l.get("length")):(u.push(l.get(fi)),zi(n)&&u.push(l.get(wc)));break;case"delete":Me(n)||(u.push(l.get(fi)),zi(n)&&u.push(l.get(wc)));break;case"set":zi(n)&&u.push(l.get(fi));break}Xc();for(const d of u)d&&Dp(d,4);Zc()}function Lx(n,e){var t;return(t=oa.get(n))==null?void 0:t.get(e)}const Ax=Wc("__proto__,__v_isRef,__isVue"),Hp=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(Xi)),sf=Mx();function Mx(){const n={};return["includes","indexOf","lastIndexOf"].forEach(e=>{n[e]=function(...t){const i=Ze(this);for(let a=0,l=this.length;a<l;a++)on(i,"get",a+"");const r=i[e](...t);return r===-1||r===!1?i[e](...t.map(Ze)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{n[e]=function(...t){vi(),Xc();const i=Ze(this)[e].apply(this,t);return Zc(),bi(),i}}),n}function Ox(n){const e=Ze(this);return on(e,"has",n),e.hasOwnProperty(n)}class Up{constructor(e=!1,t=!1){this._isReadonly=e,this._shallow=t}get(e,t,i){const r=this._isReadonly,a=this._shallow;if(t==="__v_isReactive")return!r;if(t==="__v_isReadonly")return r;if(t==="__v_isShallow")return a;if(t==="__v_raw")return i===(r?a?Vx:Wp:a?jp:$p).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const l=Me(e);if(!r){if(l&&Xe(sf,t))return Reflect.get(sf,t,i);if(t==="hasOwnProperty")return Ox}const u=Reflect.get(e,t,i);return(Xi(t)?Hp.has(t):Ax(t))||(r||on(e,"get",t),a)?u:Kt(u)?l&&Kc(t)?u:u.value:mt(u)?r?Vp(u):Kr(u):u}}class zp extends Up{constructor(e=!1){super(!1,e)}set(e,t,i,r){let a=e[t];if(!this._shallow){const d=Vi(a);if(!ia(i)&&!Vi(i)&&(a=Ze(a),i=Ze(i)),!Me(e)&&Kt(a)&&!Kt(i))return d?!1:(a.value=i,!0)}const l=Me(e)&&Kc(t)?Number(t)<e.length:Xe(e,t),u=Reflect.set(e,t,i,r);return e===Ze(r)&&(l?jo(i,a)&&po(e,"set",t,i):po(e,"add",t,i)),u}deleteProperty(e,t){const i=Xe(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&i&&po(e,"delete",t,void 0),r}has(e,t){const i=Reflect.has(e,t);return(!Xi(t)||!Hp.has(t))&&on(e,"has",t),i}ownKeys(e){return on(e,"iterate",Me(e)?"length":fi),Reflect.ownKeys(e)}}class Rx extends Up{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const Px=new zp,Nx=new Rx,Dx=new zp(!0),Jc=n=>n,_a=n=>Reflect.getPrototypeOf(n);function zs(n,e,t=!1,i=!1){n=n.__v_raw;const r=Ze(n),a=Ze(e);t||(jo(e,a)&&on(r,"get",e),on(r,"get",a));const{has:l}=_a(r),u=i?Jc:t?nu:Dr;if(l.call(r,e))return u(n.get(e));if(l.call(r,a))return u(n.get(a));n!==r&&n.get(e)}function $s(n,e=!1){const t=this.__v_raw,i=Ze(t),r=Ze(n);return e||(jo(n,r)&&on(i,"has",n),on(i,"has",r)),n===r?t.has(n):t.has(n)||t.has(r)}function js(n,e=!1){return n=n.__v_raw,!e&&on(Ze(n),"iterate",fi),Reflect.get(n,"size",n)}function af(n){n=Ze(n);const e=Ze(this);return _a(e).has.call(e,n)||(e.add(n),po(e,"add",n,n)),this}function lf(n,e){e=Ze(e);const t=Ze(this),{has:i,get:r}=_a(t);let a=i.call(t,n);a||(n=Ze(n),a=i.call(t,n));const l=r.call(t,n);return t.set(n,e),a?jo(e,l)&&po(t,"set",n,e):po(t,"add",n,e),this}function cf(n){const e=Ze(this),{has:t,get:i}=_a(e);let r=t.call(e,n);r||(n=Ze(n),r=t.call(e,n)),i&&i.call(e,n);const a=e.delete(n);return r&&po(e,"delete",n,void 0),a}function uf(){const n=Ze(this),e=n.size!==0,t=n.clear();return e&&po(n,"clear",void 0,void 0),t}function Ws(n,e){return function(i,r){const a=this,l=a.__v_raw,u=Ze(l),d=e?Jc:n?nu:Dr;return!n&&on(u,"iterate",fi),l.forEach((h,g)=>i.call(r,d(h),d(g),a))}}function qs(n,e,t){return function(...i){const r=this.__v_raw,a=Ze(r),l=zi(a),u=n==="entries"||n===Symbol.iterator&&l,d=n==="keys"&&l,h=r[n](...i),g=t?Jc:e?nu:Dr;return!e&&on(a,"iterate",d?wc:fi),{next(){const{value:p,done:m}=h.next();return m?{value:p,done:m}:{value:u?[g(p[0]),g(p[1])]:g(p),done:m}},[Symbol.iterator](){return this}}}}function Bo(n){return function(...e){return n==="delete"?!1:n==="clear"?void 0:this}}function Fx(){const n={get(a){return zs(this,a)},get size(){return js(this)},has:$s,add:af,set:lf,delete:cf,clear:uf,forEach:Ws(!1,!1)},e={get(a){return zs(this,a,!1,!0)},get size(){return js(this)},has:$s,add:af,set:lf,delete:cf,clear:uf,forEach:Ws(!1,!0)},t={get(a){return zs(this,a,!0)},get size(){return js(this,!0)},has(a){return $s.call(this,a,!0)},add:Bo("add"),set:Bo("set"),delete:Bo("delete"),clear:Bo("clear"),forEach:Ws(!0,!1)},i={get(a){return zs(this,a,!0,!0)},get size(){return js(this,!0)},has(a){return $s.call(this,a,!0)},add:Bo("add"),set:Bo("set"),delete:Bo("delete"),clear:Bo("clear"),forEach:Ws(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(a=>{n[a]=qs(a,!1,!1),t[a]=qs(a,!0,!1),e[a]=qs(a,!1,!0),i[a]=qs(a,!0,!0)}),[n,t,e,i]}const[Hx,Ux,zx,$x]=Fx();function Qc(n,e){const t=e?n?$x:zx:n?Ux:Hx;return(i,r,a)=>r==="__v_isReactive"?!n:r==="__v_isReadonly"?n:r==="__v_raw"?i:Reflect.get(Xe(t,r)&&r in i?t:i,r,a)}const jx={get:Qc(!1,!1)},Wx={get:Qc(!1,!0)},qx={get:Qc(!0,!1)},$p=new WeakMap,jp=new WeakMap,Wp=new WeakMap,Vx=new WeakMap;function Kx(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Gx(n){return n.__v_skip||!Object.isExtensible(n)?0:Kx(gx(n))}function Kr(n){return Vi(n)?n:eu(n,!1,Px,jx,$p)}function qp(n){return eu(n,!1,Dx,Wx,jp)}function Vp(n){return eu(n,!0,Nx,qx,Wp)}function eu(n,e,t,i,r){if(!mt(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const a=r.get(n);if(a)return a;const l=Gx(n);if(l===0)return n;const u=new Proxy(n,l===2?i:t);return r.set(n,u),u}function $i(n){return Vi(n)?$i(n.__v_raw):!!(n&&n.__v_isReactive)}function Vi(n){return!!(n&&n.__v_isReadonly)}function ia(n){return!!(n&&n.__v_isShallow)}function Kp(n){return $i(n)||Vi(n)}function Ze(n){const e=n&&n.__v_raw;return e?Ze(e):n}function tu(n){return Object.isExtensible(n)&&na(n,"__v_skip",!0),n}const Dr=n=>mt(n)?Kr(n):n,nu=n=>mt(n)?Vp(n):n;class Gp{constructor(e,t,i,r){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Yc(()=>e(this._value),()=>Gs(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=i}get value(){const e=Ze(this);return(!e._cacheable||e.effect.dirty)&&jo(e._value,e._value=e.effect.run())&&Gs(e,4),Yp(e),e.effect._dirtyLevel>=2&&Gs(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function Yx(n,e,t=!1){let i,r;const a=Fe(n);return a?(i=n,r=Bn):(i=n.get,r=n.set),new Gp(i,r,a||!r,t)}function Yp(n){var e;Uo&&hi&&(n=Ze(n),Np(hi,(e=n.dep)!=null?e:n.dep=Fp(()=>n.dep=void 0,n instanceof Gp?n:void 0)))}function Gs(n,e=4,t){n=Ze(n);const i=n.dep;i&&Dp(i,e)}function Kt(n){return!!(n&&n.__v_isRef===!0)}function zo(n){return Xp(n,!1)}function Xx(n){return Xp(n,!0)}function Xp(n,e){return Kt(n)?n:new Zx(n,e)}class Zx{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:Ze(e),this._value=t?e:Dr(e)}get value(){return Yp(this),this._value}set value(e){const t=this.__v_isShallow||ia(e)||Vi(e);e=t?e:Ze(e),jo(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:Dr(e),Gs(this,4))}}function nn(n){return Kt(n)?n.value:n}const Jx={get:(n,e,t)=>nn(Reflect.get(n,e,t)),set:(n,e,t,i)=>{const r=n[e];return Kt(r)&&!Kt(t)?(r.value=t,!0):Reflect.set(n,e,t,i)}};function Zp(n){return $i(n)?n:new Proxy(n,Jx)}function Qx(n){const e=Me(n)?new Array(n.length):{};for(const t in n)e[t]=t_(n,t);return e}class e_{constructor(e,t,i){this._object=e,this._key=t,this._defaultValue=i,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Lx(Ze(this._object),this._key)}}function t_(n,e,t){const i=n[e];return Kt(i)?i:new e_(n,e,t)}/**
* @vue/runtime-core v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function $o(n,e,t,i){try{return i?n(...i):n()}catch(r){Ca(r,e,t)}}function In(n,e,t,i){if(Fe(n)){const a=$o(n,e,t,i);return a&&Sp(a)&&a.catch(l=>{Ca(l,e,t)}),a}const r=[];for(let a=0;a<n.length;a++)r.push(In(n[a],e,t,i));return r}function Ca(n,e,t,i=!0){const r=e?e.vnode:null;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${t}`;for(;a;){const h=a.ec;if(h){for(let g=0;g<h.length;g++)if(h[g](n,l,u)===!1)return}a=a.parent}const d=e.appContext.config.errorHandler;if(d){$o(d,null,10,[n,l,u]);return}}n_(n,t,r,i)}function n_(n,e,t,i=!0){console.error(n)}let Fr=!1,kc=!1;const Ft=[];let Yn=0;const ji=[];let Ro=null,li=0;const Jp=Promise.resolve();let ou=null;function Qp(n){const e=ou||Jp;return n?e.then(this?n.bind(this):n):e}function o_(n){let e=Yn+1,t=Ft.length;for(;e<t;){const i=e+t>>>1,r=Ft[i],a=Hr(r);a<n||a===n&&r.pre?e=i+1:t=i}return e}function iu(n){(!Ft.length||!Ft.includes(n,Fr&&n.allowRecurse?Yn+1:Yn))&&(n.id==null?Ft.push(n):Ft.splice(o_(n.id),0,n),eg())}function eg(){!Fr&&!kc&&(kc=!0,ou=Jp.then(ng))}function i_(n){const e=Ft.indexOf(n);e>Yn&&Ft.splice(e,1)}function r_(n){Me(n)?ji.push(...n):(!Ro||!Ro.includes(n,n.allowRecurse?li+1:li))&&ji.push(n),eg()}function df(n,e,t=Fr?Yn+1:0){for(;t<Ft.length;t++){const i=Ft[t];if(i&&i.pre){if(n&&i.id!==n.uid)continue;Ft.splice(t,1),t--,i()}}}function tg(n){if(ji.length){const e=[...new Set(ji)].sort((t,i)=>Hr(t)-Hr(i));if(ji.length=0,Ro){Ro.push(...e);return}for(Ro=e,li=0;li<Ro.length;li++)Ro[li]();Ro=null,li=0}}const Hr=n=>n.id==null?1/0:n.id,s_=(n,e)=>{const t=Hr(n)-Hr(e);if(t===0){if(n.pre&&!e.pre)return-1;if(e.pre&&!n.pre)return 1}return t};function ng(n){kc=!1,Fr=!0,Ft.sort(s_);try{for(Yn=0;Yn<Ft.length;Yn++){const e=Ft[Yn];e&&e.active!==!1&&$o(e,null,14)}}finally{Yn=0,Ft.length=0,tg(),Fr=!1,ou=null,(Ft.length||ji.length)&&ng()}}function a_(n,e,...t){if(n.isUnmounted)return;const i=n.vnode.props||ft;let r=t;const a=e.startsWith("update:"),l=a&&e.slice(7);if(l&&l in i){const g=`${l==="modelValue"?"model":l}Modifiers`,{number:p,trim:m}=i[g]||ft;m&&(r=t.map(k=>Et(k)?k.trim():k)),p&&(r=t.map(bx))}let u,d=i[u=Gl(e)]||i[u=Gl(Jn(e))];!d&&a&&(d=i[u=Gl(Zi(e))]),d&&In(d,n,6,r);const h=i[u+"Once"];if(h){if(!n.emitted)n.emitted={};else if(n.emitted[u])return;n.emitted[u]=!0,In(h,n,6,r)}}function og(n,e,t=!1){const i=e.emitsCache,r=i.get(n);if(r!==void 0)return r;const a=n.emits;let l={},u=!1;if(!Fe(n)){const d=h=>{const g=og(h,e,!0);g&&(u=!0,Lt(l,g))};!t&&e.mixins.length&&e.mixins.forEach(d),n.extends&&d(n.extends),n.mixins&&n.mixins.forEach(d)}return!a&&!u?(mt(n)&&i.set(n,null),null):(Me(a)?a.forEach(d=>l[d]=null):Lt(l,a),mt(n)&&i.set(n,l),l)}function Ea(n,e){return!n||!ba(e)?!1:(e=e.slice(2).replace(/Once$/,""),Xe(n,e[0].toLowerCase()+e.slice(1))||Xe(n,Zi(e))||Xe(n,e))}let Bt=null,Sa=null;function ra(n){const e=Bt;return Bt=n,Sa=n&&n.type.__scopeId||null,e}function l_(n){Sa=n}function c_(){Sa=null}function pn(n,e=Bt,t){if(!e||n._n)return n;const i=(...r)=>{i._d&&_f(-1);const a=ra(e);let l;try{l=n(...r)}finally{ra(a),i._d&&_f(1)}return l};return i._n=!0,i._c=!0,i._d=!0,i}function Zl(n){const{type:e,vnode:t,proxy:i,withProxy:r,props:a,propsOptions:[l],slots:u,attrs:d,emit:h,render:g,renderCache:p,data:m,setupState:k,ctx:v,inheritAttrs:b}=n;let w,_;const E=ra(n);try{if(t.shapeFlag&4){const M=r||i,O=M;w=Gn(g.call(O,M,p,a,k,m,v)),_=d}else{const M=e;w=Gn(M.length>1?M(a,{attrs:d,slots:u,emit:h}):M(a,null)),_=e.props?d:u_(d)}}catch(M){Or.length=0,Ca(M,n,1),w=at(Ln)}let S=w;if(_&&b!==!1){const M=Object.keys(_),{shapeFlag:O}=S;M.length&&O&7&&(l&&M.some(qc)&&(_=d_(_,l)),S=Wo(S,_))}return t.dirs&&(S=Wo(S),S.dirs=S.dirs?S.dirs.concat(t.dirs):t.dirs),t.transition&&(S.transition=t.transition),w=S,ra(E),w}const u_=n=>{let e;for(const t in n)(t==="class"||t==="style"||ba(t))&&((e||(e={}))[t]=n[t]);return e},d_=(n,e)=>{const t={};for(const i in n)(!qc(i)||!(i.slice(9)in e))&&(t[i]=n[i]);return t};function h_(n,e,t){const{props:i,children:r,component:a}=n,{props:l,children:u,patchFlag:d}=e,h=a.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&d>=0){if(d&1024)return!0;if(d&16)return i?hf(i,l,h):!!l;if(d&8){const g=e.dynamicProps;for(let p=0;p<g.length;p++){const m=g[p];if(l[m]!==i[m]&&!Ea(h,m))return!0}}}else return(r||u)&&(!u||!u.$stable)?!0:i===l?!1:i?l?hf(i,l,h):!0:!!l;return!1}function hf(n,e,t){const i=Object.keys(e);if(i.length!==Object.keys(n).length)return!0;for(let r=0;r<i.length;r++){const a=i[r];if(e[a]!==n[a]&&!Ea(t,a))return!0}return!1}function f_({vnode:n,parent:e},t){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===n&&(i.el=n.el),i===n)(n=e.vnode).el=t,e=e.parent;else break}}const ig="components";function p_(n,e){return sg(ig,n,!0,e)||n}const rg=Symbol.for("v-ndc");function g_(n){return Et(n)?sg(ig,n,!1)||n:n||rg}function sg(n,e,t=!0,i=!1){const r=Bt||Rt;if(r){const a=r.type;{const u=dC(a,!1);if(u&&(u===e||u===Jn(e)||u===ka(Jn(e))))return a}const l=ff(r[n]||a[n],e)||ff(r.appContext[n],e);return!l&&i?a:l}}function ff(n,e){return n&&(n[e]||n[Jn(e)]||n[ka(Jn(e))])}const m_=n=>n.__isSuspense;function v_(n,e){e&&e.pendingBranch?Me(n)?e.effects.push(...n):e.effects.push(n):r_(n)}const b_=Symbol.for("v-scx"),y_=()=>go(b_),Vs={};function Ys(n,e,t){return ag(n,e,t)}function ag(n,e,{immediate:t,deep:i,flush:r,once:a,onTrack:l,onTrigger:u}=ft){if(e&&a){const P=e;e=(...U)=>{P(...U),O()}}const d=Rt,h=P=>i===!0?P:ui(P,i===!1?1:void 0);let g,p=!1,m=!1;if(Kt(n)?(g=()=>n.value,p=ia(n)):$i(n)?(g=()=>h(n),p=!0):Me(n)?(m=!0,p=n.some(P=>$i(P)||ia(P)),g=()=>n.map(P=>{if(Kt(P))return P.value;if($i(P))return h(P);if(Fe(P))return $o(P,d,2)})):Fe(n)?e?g=()=>$o(n,d,2):g=()=>(k&&k(),In(n,d,3,[v])):g=Bn,e&&i){const P=g;g=()=>ui(P())}let k,v=P=>{k=S.onStop=()=>{$o(P,d,4),k=S.onStop=void 0}},b;if(Ma)if(v=Bn,e?t&&In(e,d,3,[g(),m?[]:void 0,v]):g(),r==="sync"){const P=y_();b=P.__watcherHandles||(P.__watcherHandles=[])}else return Bn;let w=m?new Array(n.length).fill(Vs):Vs;const _=()=>{if(!(!S.active||!S.dirty))if(e){const P=S.run();(i||p||(m?P.some((U,T)=>jo(U,w[T])):jo(P,w)))&&(k&&k(),In(e,d,3,[P,w===Vs?void 0:m&&w[0]===Vs?[]:w,v]),w=P)}else S.run()};_.allowRecurse=!!e;let E;r==="sync"?E=_:r==="post"?E=()=>tn(_,d&&d.suspense):(_.pre=!0,d&&(_.id=d.uid),E=()=>iu(_));const S=new Yc(g,Bn,E),M=Bx(),O=()=>{S.stop(),M&&Vc(M.effects,S)};return e?t?_():w=S.run():r==="post"?tn(S.run.bind(S),d&&d.suspense):S.run(),b&&b.push(O),O}function w_(n,e,t){const i=this.proxy,r=Et(n)?n.includes(".")?lg(i,n):()=>i[n]:n.bind(i,i);let a;Fe(e)?a=e:(a=e.handler,t=e);const l=Yr(this),u=ag(r,a.bind(i),t);return l(),u}function lg(n,e){const t=e.split(".");return()=>{let i=n;for(let r=0;r<t.length&&i;r++)i=i[t[r]];return i}}function ui(n,e,t=0,i){if(!mt(n)||n.__v_skip)return n;if(e&&e>0){if(t>=e)return n;t++}if(i=i||new Set,i.has(n))return n;if(i.add(n),Kt(n))ui(n.value,e,t,i);else if(Me(n))for(let r=0;r<n.length;r++)ui(n[r],e,t,i);else if(Ep(n)||zi(n))n.forEach(r=>{ui(r,e,t,i)});else if(Bp(n))for(const r in n)ui(n[r],e,t,i);return n}function k_(n,e){if(Bt===null)return n;const t=Oa(Bt)||Bt.proxy,i=n.dirs||(n.dirs=[]);for(let r=0;r<e.length;r++){let[a,l,u,d=ft]=e[r];a&&(Fe(a)&&(a={mounted:a,updated:a}),a.deep&&ui(l),i.push({dir:a,instance:t,value:l,oldValue:void 0,arg:u,modifiers:d}))}return n}function ni(n,e,t,i){const r=n.dirs,a=e&&e.dirs;for(let l=0;l<r.length;l++){const u=r[l];a&&(u.oldValue=a[l].value);let d=u.dir[i];d&&(vi(),In(d,t,8,[n.el,u,n,e]),bi())}}const Po=Symbol("_leaveCb"),Ks=Symbol("_enterCb");function x_(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ru(()=>{n.isMounted=!0}),fg(()=>{n.isUnmounting=!0}),n}const Sn=[Function,Array],cg={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Sn,onEnter:Sn,onAfterEnter:Sn,onEnterCancelled:Sn,onBeforeLeave:Sn,onLeave:Sn,onAfterLeave:Sn,onLeaveCancelled:Sn,onBeforeAppear:Sn,onAppear:Sn,onAfterAppear:Sn,onAppearCancelled:Sn},__={name:"BaseTransition",props:cg,setup(n,{slots:e}){const t=sC(),i=x_();let r;return()=>{const a=e.default&&dg(e.default(),!0);if(!a||!a.length)return;let l=a[0];if(a.length>1){for(const b of a)if(b.type!==Ln){l=b;break}}const u=Ze(n),{mode:d}=u;if(i.isLeaving)return Jl(l);const h=pf(l);if(!h)return Jl(l);const g=xc(h,u,i,t);_c(h,g);const p=t.subTree,m=p&&pf(p);let k=!1;const{getTransitionKey:v}=h.type;if(v){const b=v();r===void 0?r=b:b!==r&&(r=b,k=!0)}if(m&&m.type!==Ln&&(!ci(h,m)||k)){const b=xc(m,u,i,t);if(_c(m,b),d==="out-in")return i.isLeaving=!0,b.afterLeave=()=>{i.isLeaving=!1,t.update.active!==!1&&(t.effect.dirty=!0,t.update())},Jl(l);d==="in-out"&&h.type!==Ln&&(b.delayLeave=(w,_,E)=>{const S=ug(i,m);S[String(m.key)]=m,w[Po]=()=>{_(),w[Po]=void 0,delete g.delayedLeave},g.delayedLeave=E})}return l}}},C_=__;function ug(n,e){const{leavingVNodes:t}=n;let i=t.get(e.type);return i||(i=Object.create(null),t.set(e.type,i)),i}function xc(n,e,t,i){const{appear:r,mode:a,persisted:l=!1,onBeforeEnter:u,onEnter:d,onAfterEnter:h,onEnterCancelled:g,onBeforeLeave:p,onLeave:m,onAfterLeave:k,onLeaveCancelled:v,onBeforeAppear:b,onAppear:w,onAfterAppear:_,onAppearCancelled:E}=e,S=String(n.key),M=ug(t,n),O=(T,I)=>{T&&In(T,i,9,I)},P=(T,I)=>{const F=I[1];O(T,I),Me(T)?T.every(W=>W.length<=1)&&F():T.length<=1&&F()},U={mode:a,persisted:l,beforeEnter(T){let I=u;if(!t.isMounted)if(r)I=b||u;else return;T[Po]&&T[Po](!0);const F=M[S];F&&ci(n,F)&&F.el[Po]&&F.el[Po](),O(I,[T])},enter(T){let I=d,F=h,W=g;if(!t.isMounted)if(r)I=w||d,F=_||h,W=E||g;else return;let z=!1;const Z=T[Ks]=he=>{z||(z=!0,he?O(W,[T]):O(F,[T]),U.delayedLeave&&U.delayedLeave(),T[Ks]=void 0)};I?P(I,[T,Z]):Z()},leave(T,I){const F=String(n.key);if(T[Ks]&&T[Ks](!0),t.isUnmounting)return I();O(p,[T]);let W=!1;const z=T[Po]=Z=>{W||(W=!0,I(),Z?O(v,[T]):O(k,[T]),T[Po]=void 0,M[F]===n&&delete M[F])};M[F]=n,m?P(m,[T,z]):z()},clone(T){return xc(T,e,t,i)}};return U}function Jl(n){if(Ta(n))return n=Wo(n),n.children=null,n}function pf(n){return Ta(n)?n.children?n.children[0]:void 0:n}function _c(n,e){n.shapeFlag&6&&n.component?_c(n.component.subTree,e):n.shapeFlag&128?(n.ssContent.transition=e.clone(n.ssContent),n.ssFallback.transition=e.clone(n.ssFallback)):n.transition=e}function dg(n,e=!1,t){let i=[],r=0;for(let a=0;a<n.length;a++){let l=n[a];const u=t==null?l.key:String(t)+String(l.key!=null?l.key:a);l.type===hn?(l.patchFlag&128&&r++,i=i.concat(dg(l.children,e,u))):(e||l.type!==Ln)&&i.push(u!=null?Wo(l,{key:u}):l)}if(r>1)for(let a=0;a<i.length;a++)i[a].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function yi(n,e){return Fe(n)?Lt({name:n.name},e,{setup:n}):n}const Lr=n=>!!n.type.__asyncLoader,Ta=n=>n.type.__isKeepAlive;function E_(n,e){hg(n,"a",e)}function S_(n,e){hg(n,"da",e)}function hg(n,e,t=Rt){const i=n.__wdc||(n.__wdc=()=>{let r=t;for(;r;){if(r.isDeactivated)return;r=r.parent}return n()});if(Ba(e,i,t),t){let r=t.parent;for(;r&&r.parent;)Ta(r.parent.vnode)&&T_(i,e,t,r),r=r.parent}}function T_(n,e,t,i){const r=Ba(e,n,i,!0);pg(()=>{Vc(i[e],r)},t)}function Ba(n,e,t=Rt,i=!1){if(t){const r=t[n]||(t[n]=[]),a=e.__weh||(e.__weh=(...l)=>{if(t.isUnmounted)return;vi();const u=Yr(t),d=In(e,t,n,l);return u(),bi(),d});return i?r.unshift(a):r.push(a),a}}const vo=n=>(e,t=Rt)=>(!Ma||n==="sp")&&Ba(n,(...i)=>e(...i),t),B_=vo("bm"),ru=vo("m"),I_=vo("bu"),L_=vo("u"),fg=vo("bum"),pg=vo("um"),A_=vo("sp"),M_=vo("rtg"),O_=vo("rtc");function R_(n,e=Rt){Ba("ec",n,e)}function Ia(n,e,t={},i,r){if(Bt.isCE||Bt.parent&&Lr(Bt.parent)&&Bt.parent.isCE)return at("slot",t,i);let a=n[e];a&&a._c&&(a._d=!1),mn();const l=a&&gg(a(t)),u=Gr(hn,{key:t.key||l&&l.key||`_${e}`},l||[],l&&n._===1?64:-2);return!r&&u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),a&&a._c&&(a._d=!0),u}function gg(n){return n.some(e=>aa(e)?!(e.type===Ln||e.type===hn&&!gg(e.children)):!0)?n:null}const Cc=n=>n?Bg(n)?Oa(n)||n.proxy:Cc(n.parent):null,Ar=Lt(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>Cc(n.parent),$root:n=>Cc(n.root),$emit:n=>n.emit,$options:n=>su(n),$forceUpdate:n=>n.f||(n.f=()=>{n.effect.dirty=!0,iu(n.update)}),$nextTick:n=>n.n||(n.n=Qp.bind(n.proxy)),$watch:n=>w_.bind(n)}),Ql=(n,e)=>n!==ft&&!n.__isScriptSetup&&Xe(n,e),P_={get({_:n},e){const{ctx:t,setupState:i,data:r,props:a,accessCache:l,type:u,appContext:d}=n;let h;if(e[0]!=="$"){const k=l[e];if(k!==void 0)switch(k){case 1:return i[e];case 2:return r[e];case 4:return t[e];case 3:return a[e]}else{if(Ql(i,e))return l[e]=1,i[e];if(r!==ft&&Xe(r,e))return l[e]=2,r[e];if((h=n.propsOptions[0])&&Xe(h,e))return l[e]=3,a[e];if(t!==ft&&Xe(t,e))return l[e]=4,t[e];Ec&&(l[e]=0)}}const g=Ar[e];let p,m;if(g)return e==="$attrs"&&on(n,"get",e),g(n);if((p=u.__cssModules)&&(p=p[e]))return p;if(t!==ft&&Xe(t,e))return l[e]=4,t[e];if(m=d.config.globalProperties,Xe(m,e))return m[e]},set({_:n},e,t){const{data:i,setupState:r,ctx:a}=n;return Ql(r,e)?(r[e]=t,!0):i!==ft&&Xe(i,e)?(i[e]=t,!0):Xe(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(a[e]=t,!0)},has({_:{data:n,setupState:e,accessCache:t,ctx:i,appContext:r,propsOptions:a}},l){let u;return!!t[l]||n!==ft&&Xe(n,l)||Ql(e,l)||(u=a[0])&&Xe(u,l)||Xe(i,l)||Xe(Ar,l)||Xe(r.config.globalProperties,l)},defineProperty(n,e,t){return t.get!=null?n._.accessCache[e]=0:Xe(t,"value")&&this.set(n,e,t.value,null),Reflect.defineProperty(n,e,t)}};function gf(n){return Me(n)?n.reduce((e,t)=>(e[t]=null,e),{}):n}let Ec=!0;function N_(n){const e=su(n),t=n.proxy,i=n.ctx;Ec=!1,e.beforeCreate&&mf(e.beforeCreate,n,"bc");const{data:r,computed:a,methods:l,watch:u,provide:d,inject:h,created:g,beforeMount:p,mounted:m,beforeUpdate:k,updated:v,activated:b,deactivated:w,beforeDestroy:_,beforeUnmount:E,destroyed:S,unmounted:M,render:O,renderTracked:P,renderTriggered:U,errorCaptured:T,serverPrefetch:I,expose:F,inheritAttrs:W,components:z,directives:Z,filters:he}=e;if(h&&D_(h,i,null),l)for(const we in l){const J=l[we];Fe(J)&&(i[we]=J.bind(t))}if(r){const we=r.call(t,t);mt(we)&&(n.data=Kr(we))}if(Ec=!0,a)for(const we in a){const J=a[we],ae=Fe(J)?J.bind(t,t):Fe(J.get)?J.get.bind(t,t):Bn,pe=!Fe(J)&&Fe(J.set)?J.set.bind(t):Bn,_e=Ht({get:ae,set:pe});Object.defineProperty(i,we,{enumerable:!0,configurable:!0,get:()=>_e.value,set:Be=>_e.value=Be})}if(u)for(const we in u)mg(u[we],i,t,we);if(d){const we=Fe(d)?d.call(t):d;Reflect.ownKeys(we).forEach(J=>{Xs(J,we[J])})}g&&mf(g,n,"c");function me(we,J){Me(J)?J.forEach(ae=>we(ae.bind(t))):J&&we(J.bind(t))}if(me(B_,p),me(ru,m),me(I_,k),me(L_,v),me(E_,b),me(S_,w),me(R_,T),me(O_,P),me(M_,U),me(fg,E),me(pg,M),me(A_,I),Me(F))if(F.length){const we=n.exposed||(n.exposed={});F.forEach(J=>{Object.defineProperty(we,J,{get:()=>t[J],set:ae=>t[J]=ae})})}else n.exposed||(n.exposed={});O&&n.render===Bn&&(n.render=O),W!=null&&(n.inheritAttrs=W),z&&(n.components=z),Z&&(n.directives=Z)}function D_(n,e,t=Bn){Me(n)&&(n=Sc(n));for(const i in n){const r=n[i];let a;mt(r)?"default"in r?a=go(r.from||i,r.default,!0):a=go(r.from||i):a=go(r),Kt(a)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>a.value,set:l=>a.value=l}):e[i]=a}}function mf(n,e,t){In(Me(n)?n.map(i=>i.bind(e.proxy)):n.bind(e.proxy),e,t)}function mg(n,e,t,i){const r=i.includes(".")?lg(t,i):()=>t[i];if(Et(n)){const a=e[n];Fe(a)&&Ys(r,a)}else if(Fe(n))Ys(r,n.bind(t));else if(mt(n))if(Me(n))n.forEach(a=>mg(a,e,t,i));else{const a=Fe(n.handler)?n.handler.bind(t):e[n.handler];Fe(a)&&Ys(r,a,n)}}function su(n){const e=n.type,{mixins:t,extends:i}=e,{mixins:r,optionsCache:a,config:{optionMergeStrategies:l}}=n.appContext,u=a.get(e);let d;return u?d=u:!r.length&&!t&&!i?d=e:(d={},r.length&&r.forEach(h=>sa(d,h,l,!0)),sa(d,e,l)),mt(e)&&a.set(e,d),d}function sa(n,e,t,i=!1){const{mixins:r,extends:a}=e;a&&sa(n,a,t,!0),r&&r.forEach(l=>sa(n,l,t,!0));for(const l in e)if(!(i&&l==="expose")){const u=F_[l]||t&&t[l];n[l]=u?u(n[l],e[l]):e[l]}return n}const F_={data:vf,props:bf,emits:bf,methods:Er,computed:Er,beforeCreate:Wt,created:Wt,beforeMount:Wt,mounted:Wt,beforeUpdate:Wt,updated:Wt,beforeDestroy:Wt,beforeUnmount:Wt,destroyed:Wt,unmounted:Wt,activated:Wt,deactivated:Wt,errorCaptured:Wt,serverPrefetch:Wt,components:Er,directives:Er,watch:U_,provide:vf,inject:H_};function vf(n,e){return e?n?function(){return Lt(Fe(n)?n.call(this,this):n,Fe(e)?e.call(this,this):e)}:e:n}function H_(n,e){return Er(Sc(n),Sc(e))}function Sc(n){if(Me(n)){const e={};for(let t=0;t<n.length;t++)e[n[t]]=n[t];return e}return n}function Wt(n,e){return n?[...new Set([].concat(n,e))]:e}function Er(n,e){return n?Lt(Object.create(null),n,e):e}function bf(n,e){return n?Me(n)&&Me(e)?[...new Set([...n,...e])]:Lt(Object.create(null),gf(n),gf(e??{})):e}function U_(n,e){if(!n)return e;if(!e)return n;const t=Lt(Object.create(null),n);for(const i in e)t[i]=Wt(n[i],e[i]);return t}function vg(){return{app:null,config:{isNativeTag:fx,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let z_=0;function $_(n,e){return function(i,r=null){Fe(i)||(i=Lt({},i)),r!=null&&!mt(r)&&(r=null);const a=vg(),l=new WeakSet;let u=!1;const d=a.app={_uid:z_++,_component:i,_props:r,_container:null,_context:a,_instance:null,version:fC,get config(){return a.config},set config(h){},use(h,...g){return l.has(h)||(h&&Fe(h.install)?(l.add(h),h.install(d,...g)):Fe(h)&&(l.add(h),h(d,...g))),d},mixin(h){return a.mixins.includes(h)||a.mixins.push(h),d},component(h,g){return g?(a.components[h]=g,d):a.components[h]},directive(h,g){return g?(a.directives[h]=g,d):a.directives[h]},mount(h,g,p){if(!u){const m=at(i,r);return m.appContext=a,p===!0?p="svg":p===!1&&(p=void 0),g&&e?e(m,h):n(m,h,p),u=!0,d._container=h,h.__vue_app__=d,Oa(m.component)||m.component.proxy}},unmount(){u&&(n(null,d._container),delete d._container.__vue_app__)},provide(h,g){return a.provides[h]=g,d},runWithContext(h){const g=Mr;Mr=d;try{return h()}finally{Mr=g}}};return d}}let Mr=null;function Xs(n,e){if(Rt){let t=Rt.provides;const i=Rt.parent&&Rt.parent.provides;i===t&&(t=Rt.provides=Object.create(i)),t[n]=e}}function go(n,e,t=!1){const i=Rt||Bt;if(i||Mr){const r=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:Mr._context.provides;if(r&&n in r)return r[n];if(arguments.length>1)return t&&Fe(e)?e.call(i&&i.proxy):e}}function j_(n,e,t,i=!1){const r={},a={};na(a,Aa,1),n.propsDefaults=Object.create(null),bg(n,e,r,a);for(const l in n.propsOptions[0])l in r||(r[l]=void 0);t?n.props=i?r:qp(r):n.type.props?n.props=r:n.props=a,n.attrs=a}function W_(n,e,t,i){const{props:r,attrs:a,vnode:{patchFlag:l}}=n,u=Ze(r),[d]=n.propsOptions;let h=!1;if((i||l>0)&&!(l&16)){if(l&8){const g=n.vnode.dynamicProps;for(let p=0;p<g.length;p++){let m=g[p];if(Ea(n.emitsOptions,m))continue;const k=e[m];if(d)if(Xe(a,m))k!==a[m]&&(a[m]=k,h=!0);else{const v=Jn(m);r[v]=Tc(d,u,v,k,n,!1)}else k!==a[m]&&(a[m]=k,h=!0)}}}else{bg(n,e,r,a)&&(h=!0);let g;for(const p in u)(!e||!Xe(e,p)&&((g=Zi(p))===p||!Xe(e,g)))&&(d?t&&(t[p]!==void 0||t[g]!==void 0)&&(r[p]=Tc(d,u,p,void 0,n,!0)):delete r[p]);if(a!==u)for(const p in a)(!e||!Xe(e,p))&&(delete a[p],h=!0)}h&&po(n,"set","$attrs")}function bg(n,e,t,i){const[r,a]=n.propsOptions;let l=!1,u;if(e)for(let d in e){if(Ir(d))continue;const h=e[d];let g;r&&Xe(r,g=Jn(d))?!a||!a.includes(g)?t[g]=h:(u||(u={}))[g]=h:Ea(n.emitsOptions,d)||(!(d in i)||h!==i[d])&&(i[d]=h,l=!0)}if(a){const d=Ze(t),h=u||ft;for(let g=0;g<a.length;g++){const p=a[g];t[p]=Tc(r,d,p,h[p],n,!Xe(h,p))}}return l}function Tc(n,e,t,i,r,a){const l=n[t];if(l!=null){const u=Xe(l,"default");if(u&&i===void 0){const d=l.default;if(l.type!==Function&&!l.skipFactory&&Fe(d)){const{propsDefaults:h}=r;if(t in h)i=h[t];else{const g=Yr(r);i=h[t]=d.call(null,e),g()}}else i=d}l[0]&&(a&&!u?i=!1:l[1]&&(i===""||i===Zi(t))&&(i=!0))}return i}function yg(n,e,t=!1){const i=e.propsCache,r=i.get(n);if(r)return r;const a=n.props,l={},u=[];let d=!1;if(!Fe(n)){const g=p=>{d=!0;const[m,k]=yg(p,e,!0);Lt(l,m),k&&u.push(...k)};!t&&e.mixins.length&&e.mixins.forEach(g),n.extends&&g(n.extends),n.mixins&&n.mixins.forEach(g)}if(!a&&!d)return mt(n)&&i.set(n,Ui),Ui;if(Me(a))for(let g=0;g<a.length;g++){const p=Jn(a[g]);yf(p)&&(l[p]=ft)}else if(a)for(const g in a){const p=Jn(g);if(yf(p)){const m=a[g],k=l[p]=Me(m)||Fe(m)?{type:m}:Lt({},m);if(k){const v=xf(Boolean,k.type),b=xf(String,k.type);k[0]=v>-1,k[1]=b<0||v<b,(v>-1||Xe(k,"default"))&&u.push(p)}}}const h=[l,u];return mt(n)&&i.set(n,h),h}function yf(n){return n[0]!=="$"&&!Ir(n)}function wf(n){return n===null?"null":typeof n=="function"?n.name||"":typeof n=="object"&&n.constructor&&n.constructor.name||""}function kf(n,e){return wf(n)===wf(e)}function xf(n,e){return Me(e)?e.findIndex(t=>kf(t,n)):Fe(e)&&kf(e,n)?0:-1}const wg=n=>n[0]==="_"||n==="$stable",au=n=>Me(n)?n.map(Gn):[Gn(n)],q_=(n,e,t)=>{if(e._n)return e;const i=pn((...r)=>au(e(...r)),t);return i._c=!1,i},kg=(n,e,t)=>{const i=n._ctx;for(const r in n){if(wg(r))continue;const a=n[r];if(Fe(a))e[r]=q_(r,a,i);else if(a!=null){const l=au(a);e[r]=()=>l}}},xg=(n,e)=>{const t=au(e);n.slots.default=()=>t},V_=(n,e)=>{if(n.vnode.shapeFlag&32){const t=e._;t?(n.slots=Ze(e),na(e,"_",t)):kg(e,n.slots={})}else n.slots={},e&&xg(n,e);na(n.slots,Aa,1)},K_=(n,e,t)=>{const{vnode:i,slots:r}=n;let a=!0,l=ft;if(i.shapeFlag&32){const u=e._;u?t&&u===1?a=!1:(Lt(r,e),!t&&u===1&&delete r._):(a=!e.$stable,kg(e,r)),l=e}else e&&(xg(n,e),l={default:1});if(a)for(const u in r)!wg(u)&&l[u]==null&&delete r[u]};function Bc(n,e,t,i,r=!1){if(Me(n)){n.forEach((m,k)=>Bc(m,e&&(Me(e)?e[k]:e),t,i,r));return}if(Lr(i)&&!r)return;const a=i.shapeFlag&4?Oa(i.component)||i.component.proxy:i.el,l=r?null:a,{i:u,r:d}=n,h=e&&e.r,g=u.refs===ft?u.refs={}:u.refs,p=u.setupState;if(h!=null&&h!==d&&(Et(h)?(g[h]=null,Xe(p,h)&&(p[h]=null)):Kt(h)&&(h.value=null)),Fe(d))$o(d,u,12,[l,g]);else{const m=Et(d),k=Kt(d);if(m||k){const v=()=>{if(n.f){const b=m?Xe(p,d)?p[d]:g[d]:d.value;r?Me(b)&&Vc(b,a):Me(b)?b.includes(a)||b.push(a):m?(g[d]=[a],Xe(p,d)&&(p[d]=g[d])):(d.value=[a],n.k&&(g[n.k]=d.value))}else m?(g[d]=l,Xe(p,d)&&(p[d]=l)):k&&(d.value=l,n.k&&(g[n.k]=l))};l?(v.id=-1,tn(v,t)):v()}}}const tn=v_;function G_(n){return Y_(n)}function Y_(n,e){const t=Ip();t.__VUE__=!0;const{insert:i,remove:r,patchProp:a,createElement:l,createText:u,createComment:d,setText:h,setElementText:g,parentNode:p,nextSibling:m,setScopeId:k=Bn,insertStaticContent:v}=n,b=(B,A,H,K=null,q=null,re=null,ue=void 0,ne=null,Q=!!A.dynamicChildren)=>{if(B===A)return;B&&!ci(B,A)&&(K=j(B),Be(B,q,re,!0),B=null),A.patchFlag===-2&&(Q=!1,A.dynamicChildren=null);const{type:ee,ref:fe,shapeFlag:xe}=A;switch(ee){case La:w(B,A,H,K);break;case Ln:_(B,A,H,K);break;case tc:B==null&&E(A,H,K,ue);break;case hn:z(B,A,H,K,q,re,ue,ne,Q);break;default:xe&1?O(B,A,H,K,q,re,ue,ne,Q):xe&6?Z(B,A,H,K,q,re,ue,ne,Q):(xe&64||xe&128)&&ee.process(B,A,H,K,q,re,ue,ne,Q,ie)}fe!=null&&q&&Bc(fe,B&&B.ref,re,A||B,!A)},w=(B,A,H,K)=>{if(B==null)i(A.el=u(A.children),H,K);else{const q=A.el=B.el;A.children!==B.children&&h(q,A.children)}},_=(B,A,H,K)=>{B==null?i(A.el=d(A.children||""),H,K):A.el=B.el},E=(B,A,H,K)=>{[B.el,B.anchor]=v(B.children,A,H,K,B.el,B.anchor)},S=({el:B,anchor:A},H,K)=>{let q;for(;B&&B!==A;)q=m(B),i(B,H,K),B=q;i(A,H,K)},M=({el:B,anchor:A})=>{let H;for(;B&&B!==A;)H=m(B),r(B),B=H;r(A)},O=(B,A,H,K,q,re,ue,ne,Q)=>{A.type==="svg"?ue="svg":A.type==="math"&&(ue="mathml"),B==null?P(A,H,K,q,re,ue,ne,Q):I(B,A,q,re,ue,ne,Q)},P=(B,A,H,K,q,re,ue,ne)=>{let Q,ee;const{props:fe,shapeFlag:xe,transition:be,dirs:Le}=B;if(Q=B.el=l(B.type,re,fe&&fe.is,fe),xe&8?g(Q,B.children):xe&16&&T(B.children,Q,null,K,q,ec(B,re),ue,ne),Le&&ni(B,null,K,"created"),U(Q,B,B.scopeId,ue,K),fe){for(const He in fe)He!=="value"&&!Ir(He)&&a(Q,He,null,fe[He],re,B.children,K,q,ve);"value"in fe&&a(Q,"value",null,fe.value,re),(ee=fe.onVnodeBeforeMount)&&Vn(ee,K,B)}Le&&ni(B,null,K,"beforeMount");const Re=X_(q,be);Re&&be.beforeEnter(Q),i(Q,A,H),((ee=fe&&fe.onVnodeMounted)||Re||Le)&&tn(()=>{ee&&Vn(ee,K,B),Re&&be.enter(Q),Le&&ni(B,null,K,"mounted")},q)},U=(B,A,H,K,q)=>{if(H&&k(B,H),K)for(let re=0;re<K.length;re++)k(B,K[re]);if(q){let re=q.subTree;if(A===re){const ue=q.vnode;U(B,ue,ue.scopeId,ue.slotScopeIds,q.parent)}}},T=(B,A,H,K,q,re,ue,ne,Q=0)=>{for(let ee=Q;ee<B.length;ee++){const fe=B[ee]=ne?No(B[ee]):Gn(B[ee]);b(null,fe,A,H,K,q,re,ue,ne)}},I=(B,A,H,K,q,re,ue)=>{const ne=A.el=B.el;let{patchFlag:Q,dynamicChildren:ee,dirs:fe}=A;Q|=B.patchFlag&16;const xe=B.props||ft,be=A.props||ft;let Le;if(H&&oi(H,!1),(Le=be.onVnodeBeforeUpdate)&&Vn(Le,H,A,B),fe&&ni(A,B,H,"beforeUpdate"),H&&oi(H,!0),ee?F(B.dynamicChildren,ee,ne,H,K,ec(A,q),re):ue||J(B,A,ne,null,H,K,ec(A,q),re,!1),Q>0){if(Q&16)W(ne,A,xe,be,H,K,q);else if(Q&2&&xe.class!==be.class&&a(ne,"class",null,be.class,q),Q&4&&a(ne,"style",xe.style,be.style,q),Q&8){const Re=A.dynamicProps;for(let He=0;He<Re.length;He++){const et=Re[He],ut=xe[et],Ct=be[et];(Ct!==ut||et==="value")&&a(ne,et,ut,Ct,q,B.children,H,K,ve)}}Q&1&&B.children!==A.children&&g(ne,A.children)}else!ue&&ee==null&&W(ne,A,xe,be,H,K,q);((Le=be.onVnodeUpdated)||fe)&&tn(()=>{Le&&Vn(Le,H,A,B),fe&&ni(A,B,H,"updated")},K)},F=(B,A,H,K,q,re,ue)=>{for(let ne=0;ne<A.length;ne++){const Q=B[ne],ee=A[ne],fe=Q.el&&(Q.type===hn||!ci(Q,ee)||Q.shapeFlag&70)?p(Q.el):H;b(Q,ee,fe,null,K,q,re,ue,!0)}},W=(B,A,H,K,q,re,ue)=>{if(H!==K){if(H!==ft)for(const ne in H)!Ir(ne)&&!(ne in K)&&a(B,ne,H[ne],null,ue,A.children,q,re,ve);for(const ne in K){if(Ir(ne))continue;const Q=K[ne],ee=H[ne];Q!==ee&&ne!=="value"&&a(B,ne,ee,Q,ue,A.children,q,re,ve)}"value"in K&&a(B,"value",H.value,K.value,ue)}},z=(B,A,H,K,q,re,ue,ne,Q)=>{const ee=A.el=B?B.el:u(""),fe=A.anchor=B?B.anchor:u("");let{patchFlag:xe,dynamicChildren:be,slotScopeIds:Le}=A;Le&&(ne=ne?ne.concat(Le):Le),B==null?(i(ee,H,K),i(fe,H,K),T(A.children||[],H,fe,q,re,ue,ne,Q)):xe>0&&xe&64&&be&&B.dynamicChildren?(F(B.dynamicChildren,be,H,q,re,ue,ne),(A.key!=null||q&&A===q.subTree)&&_g(B,A,!0)):J(B,A,H,fe,q,re,ue,ne,Q)},Z=(B,A,H,K,q,re,ue,ne,Q)=>{A.slotScopeIds=ne,B==null?A.shapeFlag&512?q.ctx.activate(A,H,K,ue,Q):he(A,H,K,q,re,ue,Q):oe(B,A,Q)},he=(B,A,H,K,q,re,ue)=>{const ne=B.component=rC(B,K,q);if(Ta(B)&&(ne.ctx.renderer=ie),aC(ne),ne.asyncDep){if(q&&q.registerDep(ne,me),!B.el){const Q=ne.subTree=at(Ln);_(null,Q,A,H)}}else me(ne,B,A,H,q,re,ue)},oe=(B,A,H)=>{const K=A.component=B.component;if(h_(B,A,H))if(K.asyncDep&&!K.asyncResolved){we(K,A,H);return}else K.next=A,i_(K.update),K.effect.dirty=!0,K.update();else A.el=B.el,K.vnode=A},me=(B,A,H,K,q,re,ue)=>{const ne=()=>{if(B.isMounted){let{next:fe,bu:xe,u:be,parent:Le,vnode:Re}=B;{const ce=Cg(B);if(ce){fe&&(fe.el=Re.el,we(B,fe,ue)),ce.asyncDep.then(()=>{B.isUnmounted||ne()});return}}let He=fe,et;oi(B,!1),fe?(fe.el=Re.el,we(B,fe,ue)):fe=Re,xe&&Yl(xe),(et=fe.props&&fe.props.onVnodeBeforeUpdate)&&Vn(et,Le,fe,Re),oi(B,!0);const ut=Zl(B),Ct=B.subTree;B.subTree=ut,b(Ct,ut,p(Ct.el),j(Ct),B,q,re),fe.el=ut.el,He===null&&f_(B,ut.el),be&&tn(be,q),(et=fe.props&&fe.props.onVnodeUpdated)&&tn(()=>Vn(et,Le,fe,Re),q)}else{let fe;const{el:xe,props:be}=A,{bm:Le,m:Re,parent:He}=B,et=Lr(A);if(oi(B,!1),Le&&Yl(Le),!et&&(fe=be&&be.onVnodeBeforeMount)&&Vn(fe,He,A),oi(B,!0),xe&&Qe){const ut=()=>{B.subTree=Zl(B),Qe(xe,B.subTree,B,q,null)};et?A.type.__asyncLoader().then(()=>!B.isUnmounted&&ut()):ut()}else{const ut=B.subTree=Zl(B);b(null,ut,H,K,B,q,re),A.el=ut.el}if(Re&&tn(Re,q),!et&&(fe=be&&be.onVnodeMounted)){const ut=A;tn(()=>Vn(fe,He,ut),q)}(A.shapeFlag&256||He&&Lr(He.vnode)&&He.vnode.shapeFlag&256)&&B.a&&tn(B.a,q),B.isMounted=!0,A=H=K=null}},Q=B.effect=new Yc(ne,Bn,()=>iu(ee),B.scope),ee=B.update=()=>{Q.dirty&&Q.run()};ee.id=B.uid,oi(B,!0),ee()},we=(B,A,H)=>{A.component=B;const K=B.vnode.props;B.vnode=A,B.next=null,W_(B,A.props,K,H),K_(B,A.children,H),vi(),df(B),bi()},J=(B,A,H,K,q,re,ue,ne,Q=!1)=>{const ee=B&&B.children,fe=B?B.shapeFlag:0,xe=A.children,{patchFlag:be,shapeFlag:Le}=A;if(be>0){if(be&128){pe(ee,xe,H,K,q,re,ue,ne,Q);return}else if(be&256){ae(ee,xe,H,K,q,re,ue,ne,Q);return}}Le&8?(fe&16&&ve(ee,q,re),xe!==ee&&g(H,xe)):fe&16?Le&16?pe(ee,xe,H,K,q,re,ue,ne,Q):ve(ee,q,re,!0):(fe&8&&g(H,""),Le&16&&T(xe,H,K,q,re,ue,ne,Q))},ae=(B,A,H,K,q,re,ue,ne,Q)=>{B=B||Ui,A=A||Ui;const ee=B.length,fe=A.length,xe=Math.min(ee,fe);let be;for(be=0;be<xe;be++){const Le=A[be]=Q?No(A[be]):Gn(A[be]);b(B[be],Le,H,null,q,re,ue,ne,Q)}ee>fe?ve(B,q,re,!0,!1,xe):T(A,H,K,q,re,ue,ne,Q,xe)},pe=(B,A,H,K,q,re,ue,ne,Q)=>{let ee=0;const fe=A.length;let xe=B.length-1,be=fe-1;for(;ee<=xe&&ee<=be;){const Le=B[ee],Re=A[ee]=Q?No(A[ee]):Gn(A[ee]);if(ci(Le,Re))b(Le,Re,H,null,q,re,ue,ne,Q);else break;ee++}for(;ee<=xe&&ee<=be;){const Le=B[xe],Re=A[be]=Q?No(A[be]):Gn(A[be]);if(ci(Le,Re))b(Le,Re,H,null,q,re,ue,ne,Q);else break;xe--,be--}if(ee>xe){if(ee<=be){const Le=be+1,Re=Le<fe?A[Le].el:K;for(;ee<=be;)b(null,A[ee]=Q?No(A[ee]):Gn(A[ee]),H,Re,q,re,ue,ne,Q),ee++}}else if(ee>be)for(;ee<=xe;)Be(B[ee],q,re,!0),ee++;else{const Le=ee,Re=ee,He=new Map;for(ee=Re;ee<=be;ee++){const Ge=A[ee]=Q?No(A[ee]):Gn(A[ee]);Ge.key!=null&&He.set(Ge.key,ee)}let et,ut=0;const Ct=be-Re+1;let ce=!1,Ie=0;const qe=new Array(Ct);for(ee=0;ee<Ct;ee++)qe[ee]=0;for(ee=Le;ee<=xe;ee++){const Ge=B[ee];if(ut>=Ct){Be(Ge,q,re,!0);continue}let tt;if(Ge.key!=null)tt=He.get(Ge.key);else for(et=Re;et<=be;et++)if(qe[et-Re]===0&&ci(Ge,A[et])){tt=et;break}tt===void 0?Be(Ge,q,re,!0):(qe[tt-Re]=ee+1,tt>=Ie?Ie=tt:ce=!0,b(Ge,A[tt],H,null,q,re,ue,ne,Q),ut++)}const dt=ce?Z_(qe):Ui;for(et=dt.length-1,ee=Ct-1;ee>=0;ee--){const Ge=Re+ee,tt=A[Ge],Gt=Ge+1<fe?A[Ge+1].el:K;qe[ee]===0?b(null,tt,H,Gt,q,re,ue,ne,Q):ce&&(et<0||ee!==dt[et]?_e(tt,H,Gt,2):et--)}}},_e=(B,A,H,K,q=null)=>{const{el:re,type:ue,transition:ne,children:Q,shapeFlag:ee}=B;if(ee&6){_e(B.component.subTree,A,H,K);return}if(ee&128){B.suspense.move(A,H,K);return}if(ee&64){ue.move(B,A,H,ie);return}if(ue===hn){i(re,A,H);for(let xe=0;xe<Q.length;xe++)_e(Q[xe],A,H,K);i(B.anchor,A,H);return}if(ue===tc){S(B,A,H);return}if(K!==2&&ee&1&&ne)if(K===0)ne.beforeEnter(re),i(re,A,H),tn(()=>ne.enter(re),q);else{const{leave:xe,delayLeave:be,afterLeave:Le}=ne,Re=()=>i(re,A,H),He=()=>{xe(re,()=>{Re(),Le&&Le()})};be?be(re,Re,He):He()}else i(re,A,H)},Be=(B,A,H,K=!1,q=!1)=>{const{type:re,props:ue,ref:ne,children:Q,dynamicChildren:ee,shapeFlag:fe,patchFlag:xe,dirs:be}=B;if(ne!=null&&Bc(ne,null,H,B,!0),fe&256){A.ctx.deactivate(B);return}const Le=fe&1&&be,Re=!Lr(B);let He;if(Re&&(He=ue&&ue.onVnodeBeforeUnmount)&&Vn(He,A,B),fe&6)Oe(B.component,H,K);else{if(fe&128){B.suspense.unmount(H,K);return}Le&&ni(B,null,A,"beforeUnmount"),fe&64?B.type.remove(B,A,H,q,ie,K):ee&&(re!==hn||xe>0&&xe&64)?ve(ee,A,H,!1,!0):(re===hn&&xe&384||!q&&fe&16)&&ve(Q,A,H),K&&Ce(B)}(Re&&(He=ue&&ue.onVnodeUnmounted)||Le)&&tn(()=>{He&&Vn(He,A,B),Le&&ni(B,null,A,"unmounted")},H)},Ce=B=>{const{type:A,el:H,anchor:K,transition:q}=B;if(A===hn){ke(H,K);return}if(A===tc){M(B);return}const re=()=>{r(H),q&&!q.persisted&&q.afterLeave&&q.afterLeave()};if(B.shapeFlag&1&&q&&!q.persisted){const{leave:ue,delayLeave:ne}=q,Q=()=>ue(H,re);ne?ne(B.el,re,Q):Q()}else re()},ke=(B,A)=>{let H;for(;B!==A;)H=m(B),r(B),B=H;r(A)},Oe=(B,A,H)=>{const{bum:K,scope:q,update:re,subTree:ue,um:ne}=B;K&&Yl(K),q.stop(),re&&(re.active=!1,Be(ue,B,A,H)),ne&&tn(ne,A),tn(()=>{B.isUnmounted=!0},A),A&&A.pendingBranch&&!A.isUnmounted&&B.asyncDep&&!B.asyncResolved&&B.suspenseId===A.pendingId&&(A.deps--,A.deps===0&&A.resolve())},ve=(B,A,H,K=!1,q=!1,re=0)=>{for(let ue=re;ue<B.length;ue++)Be(B[ue],A,H,K,q)},j=B=>B.shapeFlag&6?j(B.component.subTree):B.shapeFlag&128?B.suspense.next():m(B.anchor||B.el);let le=!1;const se=(B,A,H)=>{B==null?A._vnode&&Be(A._vnode,null,null,!0):b(A._vnode||null,B,A,null,null,null,H),le||(le=!0,df(),tg(),le=!1),A._vnode=B},ie={p:b,um:Be,m:_e,r:Ce,mt:he,mc:T,pc:J,pbc:F,n:j,o:n};let je,Qe;return{render:se,hydrate:je,createApp:$_(se,je)}}function ec({type:n,props:e},t){return t==="svg"&&n==="foreignObject"||t==="mathml"&&n==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function oi({effect:n,update:e},t){n.allowRecurse=e.allowRecurse=t}function X_(n,e){return(!n||n&&!n.pendingBranch)&&e&&!e.persisted}function _g(n,e,t=!1){const i=n.children,r=e.children;if(Me(i)&&Me(r))for(let a=0;a<i.length;a++){const l=i[a];let u=r[a];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=r[a]=No(r[a]),u.el=l.el),t||_g(l,u)),u.type===La&&(u.el=l.el)}}function Z_(n){const e=n.slice(),t=[0];let i,r,a,l,u;const d=n.length;for(i=0;i<d;i++){const h=n[i];if(h!==0){if(r=t[t.length-1],n[r]<h){e[i]=r,t.push(i);continue}for(a=0,l=t.length-1;a<l;)u=a+l>>1,n[t[u]]<h?a=u+1:l=u;h<n[t[a]]&&(a>0&&(e[i]=t[a-1]),t[a]=i)}}for(a=t.length,l=t[a-1];a-- >0;)t[a]=l,l=e[l];return t}function Cg(n){const e=n.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Cg(e)}const J_=n=>n.__isTeleport,hn=Symbol.for("v-fgt"),La=Symbol.for("v-txt"),Ln=Symbol.for("v-cmt"),tc=Symbol.for("v-stc"),Or=[];let Fn=null;function mn(n=!1){Or.push(Fn=n?null:[])}function Q_(){Or.pop(),Fn=Or[Or.length-1]||null}let Ur=1;function _f(n){Ur+=n}function Eg(n){return n.dynamicChildren=Ur>0?Fn||Ui:null,Q_(),Ur>0&&Fn&&Fn.push(n),n}function qo(n,e,t,i,r,a){return Eg(It(n,e,t,i,r,a,!0))}function Gr(n,e,t,i,r){return Eg(at(n,e,t,i,r,!0))}function aa(n){return n?n.__v_isVNode===!0:!1}function ci(n,e){return n.type===e.type&&n.key===e.key}const Aa="__vInternal",Sg=({key:n})=>n??null,Zs=({ref:n,ref_key:e,ref_for:t})=>(typeof n=="number"&&(n=""+n),n!=null?Et(n)||Kt(n)||Fe(n)?{i:Bt,r:n,k:e,f:!!t}:n:null);function It(n,e=null,t=null,i=0,r=null,a=n===hn?0:1,l=!1,u=!1){const d={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&Sg(e),ref:e&&Zs(e),scopeId:Sa,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Bt};return u?(lu(d,t),a&128&&n.normalize(d)):t&&(d.shapeFlag|=Et(t)?8:16),Ur>0&&!l&&Fn&&(d.patchFlag>0||a&6)&&d.patchFlag!==32&&Fn.push(d),d}const at=eC;function eC(n,e=null,t=null,i=0,r=null,a=!1){if((!n||n===rg)&&(n=Ln),aa(n)){const u=Wo(n,e,!0);return t&&lu(u,t),Ur>0&&!a&&Fn&&(u.shapeFlag&6?Fn[Fn.indexOf(n)]=u:Fn.push(u)),u.patchFlag|=-2,u}if(hC(n)&&(n=n.__vccOpts),e){e=tC(e);let{class:u,style:d}=e;u&&!Et(u)&&(e.class=xa(u)),mt(d)&&(Kp(d)&&!Me(d)&&(d=Lt({},d)),e.style=Gc(d))}const l=Et(n)?1:m_(n)?128:J_(n)?64:mt(n)?4:Fe(n)?2:0;return It(n,e,t,i,r,l,a,!0)}function tC(n){return n?Kp(n)||Aa in n?Lt({},n):n:null}function Wo(n,e,t=!1){const{props:i,ref:r,patchFlag:a,children:l}=n,u=e?Tg(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:n.type,props:u,key:u&&Sg(u),ref:e&&e.ref?t&&r?Me(r)?r.concat(Zs(e)):[r,Zs(e)]:Zs(e):r,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:l,target:n.target,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==hn?a===-1?16:a|16:a,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:n.transition,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&Wo(n.ssContent),ssFallback:n.ssFallback&&Wo(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce}}function ho(n=" ",e=0){return at(La,null,n,e)}function nC(n="",e=!1){return e?(mn(),Gr(Ln,null,n)):at(Ln,null,n)}function Gn(n){return n==null||typeof n=="boolean"?at(Ln):Me(n)?at(hn,null,n.slice()):typeof n=="object"?No(n):at(La,null,String(n))}function No(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:Wo(n)}function lu(n,e){let t=0;const{shapeFlag:i}=n;if(e==null)e=null;else if(Me(e))t=16;else if(typeof e=="object")if(i&65){const r=e.default;r&&(r._c&&(r._d=!1),lu(n,r()),r._c&&(r._d=!0));return}else{t=32;const r=e._;!r&&!(Aa in e)?e._ctx=Bt:r===3&&Bt&&(Bt.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else Fe(e)?(e={default:e,_ctx:Bt},t=32):(e=String(e),i&64?(t=16,e=[ho(e)]):t=8);n.children=e,n.shapeFlag|=t}function Tg(...n){const e={};for(let t=0;t<n.length;t++){const i=n[t];for(const r in i)if(r==="class")e.class!==i.class&&(e.class=xa([e.class,i.class]));else if(r==="style")e.style=Gc([e.style,i.style]);else if(ba(r)){const a=e[r],l=i[r];l&&a!==l&&!(Me(a)&&a.includes(l))&&(e[r]=a?[].concat(a,l):l)}else r!==""&&(e[r]=i[r])}return e}function Vn(n,e,t,i=null){In(n,e,7,[t,i])}const oC=vg();let iC=0;function rC(n,e,t){const i=n.type,r=(e?e.appContext:n.appContext)||oC,a={uid:iC++,vnode:n,type:i,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new Op(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:yg(i,r),emitsOptions:og(i,r),emit:null,emitted:null,propsDefaults:ft,inheritAttrs:i.inheritAttrs,ctx:ft,data:ft,props:ft,attrs:ft,slots:ft,refs:ft,setupState:ft,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=a_.bind(null,a),n.ce&&n.ce(a),a}let Rt=null;const sC=()=>Rt||Bt;let la,Ic;{const n=Ip(),e=(t,i)=>{let r;return(r=n[t])||(r=n[t]=[]),r.push(i),a=>{r.length>1?r.forEach(l=>l(a)):r[0](a)}};la=e("__VUE_INSTANCE_SETTERS__",t=>Rt=t),Ic=e("__VUE_SSR_SETTERS__",t=>Ma=t)}const Yr=n=>{const e=Rt;return la(n),n.scope.on(),()=>{n.scope.off(),la(e)}},Cf=()=>{Rt&&Rt.scope.off(),la(null)};function Bg(n){return n.vnode.shapeFlag&4}let Ma=!1;function aC(n,e=!1){e&&Ic(e);const{props:t,children:i}=n.vnode,r=Bg(n);j_(n,t,r,e),V_(n,i);const a=r?lC(n,e):void 0;return e&&Ic(!1),a}function lC(n,e){const t=n.type;n.accessCache=Object.create(null),n.proxy=tu(new Proxy(n.ctx,P_));const{setup:i}=t;if(i){const r=n.setupContext=i.length>1?uC(n):null,a=Yr(n);vi();const l=$o(i,n,0,[n.props,r]);if(bi(),a(),Sp(l)){if(l.then(Cf,Cf),e)return l.then(u=>{Ef(n,u,e)}).catch(u=>{Ca(u,n,0)});n.asyncDep=l}else Ef(n,l,e)}else Ig(n,e)}function Ef(n,e,t){Fe(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:mt(e)&&(n.setupState=Zp(e)),Ig(n,t)}let Sf;function Ig(n,e,t){const i=n.type;if(!n.render){if(!e&&Sf&&!i.render){const r=i.template||su(n).template;if(r){const{isCustomElement:a,compilerOptions:l}=n.appContext.config,{delimiters:u,compilerOptions:d}=i,h=Lt(Lt({isCustomElement:a,delimiters:u},l),d);i.render=Sf(r,h)}}n.render=i.render||Bn}{const r=Yr(n);vi();try{N_(n)}finally{bi(),r()}}}function cC(n){return n.attrsProxy||(n.attrsProxy=new Proxy(n.attrs,{get(e,t){return on(n,"get","$attrs"),e[t]}}))}function uC(n){const e=t=>{n.exposed=t||{}};return{get attrs(){return cC(n)},slots:n.slots,emit:n.emit,expose:e}}function Oa(n){if(n.exposed)return n.exposeProxy||(n.exposeProxy=new Proxy(Zp(tu(n.exposed)),{get(e,t){if(t in e)return e[t];if(t in Ar)return Ar[t](n)},has(e,t){return t in e||t in Ar}}))}function dC(n,e=!0){return Fe(n)?n.displayName||n.name:n.name||e&&n.__name}function hC(n){return Fe(n)&&"__vccOpts"in n}const Ht=(n,e)=>Yx(n,e,Ma);function cu(n,e,t){const i=arguments.length;return i===2?mt(e)&&!Me(e)?aa(e)?at(n,null,[e]):at(n,e):at(n,null,e):(i>3?t=Array.prototype.slice.call(arguments,2):i===3&&aa(t)&&(t=[t]),at(n,e,t))}const fC="3.4.19";/**
* @vue/runtime-dom v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const pC="http://www.w3.org/2000/svg",gC="http://www.w3.org/1998/Math/MathML",Do=typeof document<"u"?document:null,Tf=Do&&Do.createElement("template"),mC={insert:(n,e,t)=>{e.insertBefore(n,t||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,t,i)=>{const r=e==="svg"?Do.createElementNS(pC,n):e==="mathml"?Do.createElementNS(gC,n):Do.createElement(n,t?{is:t}:void 0);return n==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:n=>Do.createTextNode(n),createComment:n=>Do.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>Do.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},insertStaticContent(n,e,t,i,r,a){const l=t?t.previousSibling:e.lastChild;if(r&&(r===a||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),t),!(r===a||!(r=r.nextSibling)););else{Tf.innerHTML=i==="svg"?`<svg>${n}</svg>`:i==="mathml"?`<math>${n}</math>`:n;const u=Tf.content;if(i==="svg"||i==="mathml"){const d=u.firstChild;for(;d.firstChild;)u.appendChild(d.firstChild);u.removeChild(d)}e.insertBefore(u,t)}return[l?l.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},Io="transition",mr="animation",zr=Symbol("_vtc"),uu=(n,{slots:e})=>cu(C_,vC(n),e);uu.displayName="Transition";const Lg={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};uu.props=Lt({},cg,Lg);const ii=(n,e=[])=>{Me(n)?n.forEach(t=>t(...e)):n&&n(...e)},Bf=n=>n?Me(n)?n.some(e=>e.length>1):n.length>1:!1;function vC(n){const e={};for(const z in n)z in Lg||(e[z]=n[z]);if(n.css===!1)return e;const{name:t="v",type:i,duration:r,enterFromClass:a=`${t}-enter-from`,enterActiveClass:l=`${t}-enter-active`,enterToClass:u=`${t}-enter-to`,appearFromClass:d=a,appearActiveClass:h=l,appearToClass:g=u,leaveFromClass:p=`${t}-leave-from`,leaveActiveClass:m=`${t}-leave-active`,leaveToClass:k=`${t}-leave-to`}=n,v=bC(r),b=v&&v[0],w=v&&v[1],{onBeforeEnter:_,onEnter:E,onEnterCancelled:S,onLeave:M,onLeaveCancelled:O,onBeforeAppear:P=_,onAppear:U=E,onAppearCancelled:T=S}=e,I=(z,Z,he)=>{ri(z,Z?g:u),ri(z,Z?h:l),he&&he()},F=(z,Z)=>{z._isLeaving=!1,ri(z,p),ri(z,k),ri(z,m),Z&&Z()},W=z=>(Z,he)=>{const oe=z?U:E,me=()=>I(Z,z,he);ii(oe,[Z,me]),If(()=>{ri(Z,z?d:a),Lo(Z,z?g:u),Bf(oe)||Lf(Z,i,b,me)})};return Lt(e,{onBeforeEnter(z){ii(_,[z]),Lo(z,a),Lo(z,l)},onBeforeAppear(z){ii(P,[z]),Lo(z,d),Lo(z,h)},onEnter:W(!1),onAppear:W(!0),onLeave(z,Z){z._isLeaving=!0;const he=()=>F(z,Z);Lo(z,p),kC(),Lo(z,m),If(()=>{z._isLeaving&&(ri(z,p),Lo(z,k),Bf(M)||Lf(z,i,w,he))}),ii(M,[z,he])},onEnterCancelled(z){I(z,!1),ii(S,[z])},onAppearCancelled(z){I(z,!0),ii(T,[z])},onLeaveCancelled(z){F(z),ii(O,[z])}})}function bC(n){if(n==null)return null;if(mt(n))return[nc(n.enter),nc(n.leave)];{const e=nc(n);return[e,e]}}function nc(n){return yx(n)}function Lo(n,e){e.split(/\s+/).forEach(t=>t&&n.classList.add(t)),(n[zr]||(n[zr]=new Set)).add(e)}function ri(n,e){e.split(/\s+/).forEach(i=>i&&n.classList.remove(i));const t=n[zr];t&&(t.delete(e),t.size||(n[zr]=void 0))}function If(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}let yC=0;function Lf(n,e,t,i){const r=n._endId=++yC,a=()=>{r===n._endId&&i()};if(t)return setTimeout(a,t);const{type:l,timeout:u,propCount:d}=wC(n,e);if(!l)return i();const h=l+"end";let g=0;const p=()=>{n.removeEventListener(h,m),a()},m=k=>{k.target===n&&++g>=d&&p()};setTimeout(()=>{g<d&&p()},u+1),n.addEventListener(h,m)}function wC(n,e){const t=window.getComputedStyle(n),i=v=>(t[v]||"").split(", "),r=i(`${Io}Delay`),a=i(`${Io}Duration`),l=Af(r,a),u=i(`${mr}Delay`),d=i(`${mr}Duration`),h=Af(u,d);let g=null,p=0,m=0;e===Io?l>0&&(g=Io,p=l,m=a.length):e===mr?h>0&&(g=mr,p=h,m=d.length):(p=Math.max(l,h),g=p>0?l>h?Io:mr:null,m=g?g===Io?a.length:d.length:0);const k=g===Io&&/\b(transform|all)(,|$)/.test(i(`${Io}Property`).toString());return{type:g,timeout:p,propCount:m,hasTransform:k}}function Af(n,e){for(;n.length<e.length;)n=n.concat(n);return Math.max(...e.map((t,i)=>Mf(t)+Mf(n[i])))}function Mf(n){return n==="auto"?0:Number(n.slice(0,-1).replace(",","."))*1e3}function kC(){return document.body.offsetHeight}function xC(n,e,t){const i=n[zr];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?n.removeAttribute("class"):t?n.setAttribute("class",e):n.className=e}const $r=Symbol("_vod"),_C={beforeMount(n,{value:e},{transition:t}){n[$r]=n.style.display==="none"?"":n.style.display,t&&e?t.beforeEnter(n):vr(n,e)},mounted(n,{value:e},{transition:t}){t&&e&&t.enter(n)},updated(n,{value:e,oldValue:t},{transition:i}){!e==!t&&(n.style.display===n[$r]||!e)||(i?e?(i.beforeEnter(n),vr(n,!0),i.enter(n)):i.leave(n,()=>{vr(n,!1)}):vr(n,e))},beforeUnmount(n,{value:e}){vr(n,e)}};function vr(n,e){n.style.display=e?n[$r]:"none"}const CC=Symbol(""),EC=/(^|;)\s*display\s*:/;function SC(n,e,t){const i=n.style,r=Et(t),a=i.display;let l=!1;if(t&&!r){if(e&&!Et(e))for(const u in e)t[u]==null&&Lc(i,u,"");for(const u in t)u==="display"&&(l=!0),Lc(i,u,t[u])}else if(r){if(e!==t){const u=i[CC];u&&(t+=";"+u),i.cssText=t,l=EC.test(t)}}else e&&n.removeAttribute("style");$r in n&&(n[$r]=l?i.display:"",i.display=a)}const Of=/\s*!important$/;function Lc(n,e,t){if(Me(t))t.forEach(i=>Lc(n,e,i));else if(t==null&&(t=""),e.startsWith("--"))n.setProperty(e,t);else{const i=TC(n,e);Of.test(t)?n.setProperty(Zi(i),t.replace(Of,""),"important"):n[i]=t}}const Rf=["Webkit","Moz","ms"],oc={};function TC(n,e){const t=oc[e];if(t)return t;let i=Jn(e);if(i!=="filter"&&i in n)return oc[e]=i;i=ka(i);for(let r=0;r<Rf.length;r++){const a=Rf[r]+i;if(a in n)return oc[e]=a}return e}const Pf="http://www.w3.org/1999/xlink";function BC(n,e,t,i,r){if(i&&e.startsWith("xlink:"))t==null?n.removeAttributeNS(Pf,e.slice(6,e.length)):n.setAttributeNS(Pf,e,t);else{const a=Ex(e);t==null||a&&!Lp(t)?n.removeAttribute(e):n.setAttribute(e,a?"":t)}}function IC(n,e,t,i,r,a,l){if(e==="innerHTML"||e==="textContent"){i&&l(i,r,a),n[e]=t??"";return}const u=n.tagName;if(e==="value"&&u!=="PROGRESS"&&!u.includes("-")){n._value=t;const h=u==="OPTION"?n.getAttribute("value"):n.value,g=t??"";h!==g&&(n.value=g),t==null&&n.removeAttribute(e);return}let d=!1;if(t===""||t==null){const h=typeof n[e];h==="boolean"?t=Lp(t):t==null&&h==="string"?(t="",d=!0):h==="number"&&(t=0,d=!0)}try{n[e]=t}catch{}d&&n.removeAttribute(e)}function LC(n,e,t,i){n.addEventListener(e,t,i)}function AC(n,e,t,i){n.removeEventListener(e,t,i)}const Nf=Symbol("_vei");function MC(n,e,t,i,r=null){const a=n[Nf]||(n[Nf]={}),l=a[e];if(i&&l)l.value=i;else{const[u,d]=OC(e);if(i){const h=a[e]=NC(i,r);LC(n,u,h,d)}else l&&(AC(n,u,l,d),a[e]=void 0)}}const Df=/(?:Once|Passive|Capture)$/;function OC(n){let e;if(Df.test(n)){e={};let i;for(;i=n.match(Df);)n=n.slice(0,n.length-i[0].length),e[i[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):Zi(n.slice(2)),e]}let ic=0;const RC=Promise.resolve(),PC=()=>ic||(RC.then(()=>ic=0),ic=Date.now());function NC(n,e){const t=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=t.attached)return;In(DC(i,t.value),e,5,[i])};return t.value=n,t.attached=PC(),t}function DC(n,e){if(Me(e)){const t=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{t.call(n),n._stopped=!0},e.map(i=>r=>!r._stopped&&i&&i(r))}else return e}const Ff=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,FC=(n,e,t,i,r,a,l,u,d)=>{const h=r==="svg";e==="class"?xC(n,i,h):e==="style"?SC(n,t,i):ba(e)?qc(e)||MC(n,e,t,i,l):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):HC(n,e,i,h))?IC(n,e,i,a,l,u,d):(e==="true-value"?n._trueValue=i:e==="false-value"&&(n._falseValue=i),BC(n,e,i,h))};function HC(n,e,t,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in n&&Ff(e)&&Fe(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=n.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Ff(e)&&Et(t)?!1:e in n}const UC=Lt({patchProp:FC},mC);let Hf;function zC(){return Hf||(Hf=G_(UC))}const $C=(...n)=>{const e=zC().createApp(...n),{mount:t}=e;return e.mount=i=>{const r=WC(i);if(!r)return;const a=e._component;!Fe(a)&&!a.render&&!a.template&&(a.template=r.innerHTML),r.innerHTML="";const l=t(r,!1,jC(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),l},e};function jC(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function WC(n){return Et(n)?document.querySelector(n):n}var qC=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */const VC=Symbol();var Uf;(function(n){n.direct="direct",n.patchObject="patch object",n.patchFunction="patch function"})(Uf||(Uf={}));function KC(){const n=Sx(!0),e=n.run(()=>zo({}));let t=[],i=[];const r=tu({install(a){r._a=a,a.provide(VC,r),a.config.globalProperties.$pinia=r,i.forEach(l=>t.push(l)),i=[]},use(a){return!this._a&&!qC?i.push(a):t.push(a),this},_p:t,_a:null,_e:n,_s:new Map,state:e});return r}const Ji=(n,e)=>{const t=n.__vccOpts||n;for(const[i,r]of e)t[i]=r;return t},GC={};function YC(n,e){const t=p_("router-view");return mn(),Gr(t)}const XC=Ji(GC,[["render",YC]]);/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Ni=typeof window<"u";function ZC(n){return n.__esModule||n[Symbol.toStringTag]==="Module"}const st=Object.assign;function rc(n,e){const t={};for(const i in e){const r=e[i];t[i]=Un(r)?r.map(n):n(r)}return t}const Rr=()=>{},Un=Array.isArray,JC=/\/$/,QC=n=>n.replace(JC,"");function sc(n,e,t="/"){let i,r={},a="",l="";const u=e.indexOf("#");let d=e.indexOf("?");return u<d&&u>=0&&(d=-1),d>-1&&(i=e.slice(0,d),a=e.slice(d+1,u>-1?u:e.length),r=n(a)),u>-1&&(i=i||e.slice(0,u),l=e.slice(u,e.length)),i=oE(i??e,t),{fullPath:i+(a&&"?")+a+l,path:i,query:r,hash:l}}function eE(n,e){const t=e.query?n(e.query):"";return e.path+(t&&"?")+t+(e.hash||"")}function zf(n,e){return!e||!n.toLowerCase().startsWith(e.toLowerCase())?n:n.slice(e.length)||"/"}function tE(n,e,t){const i=e.matched.length-1,r=t.matched.length-1;return i>-1&&i===r&&Ki(e.matched[i],t.matched[r])&&Ag(e.params,t.params)&&n(e.query)===n(t.query)&&e.hash===t.hash}function Ki(n,e){return(n.aliasOf||n)===(e.aliasOf||e)}function Ag(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(!nE(n[t],e[t]))return!1;return!0}function nE(n,e){return Un(n)?$f(n,e):Un(e)?$f(e,n):n===e}function $f(n,e){return Un(e)?n.length===e.length&&n.every((t,i)=>t===e[i]):n.length===1&&n[0]===e}function oE(n,e){if(n.startsWith("/"))return n;if(!n)return e;const t=e.split("/"),i=n.split("/"),r=i[i.length-1];(r===".."||r===".")&&i.push("");let a=t.length-1,l,u;for(l=0;l<i.length;l++)if(u=i[l],u!==".")if(u==="..")a>1&&a--;else break;return t.slice(0,a).join("/")+"/"+i.slice(l-(l===i.length?1:0)).join("/")}var jr;(function(n){n.pop="pop",n.push="push"})(jr||(jr={}));var Pr;(function(n){n.back="back",n.forward="forward",n.unknown=""})(Pr||(Pr={}));function iE(n){if(!n)if(Ni){const e=document.querySelector("base");n=e&&e.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),QC(n)}const rE=/^[^#]+#/;function sE(n,e){return n.replace(rE,"#")+e}function aE(n,e){const t=document.documentElement.getBoundingClientRect(),i=n.getBoundingClientRect();return{behavior:e.behavior,left:i.left-t.left-(e.left||0),top:i.top-t.top-(e.top||0)}}const Ra=()=>({left:window.pageXOffset,top:window.pageYOffset});function lE(n){let e;if("el"in n){const t=n.el,i=typeof t=="string"&&t.startsWith("#"),r=typeof t=="string"?i?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!r)return;e=aE(r,n)}else e=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function jf(n,e){return(history.state?history.state.position-e:-1)+n}const Ac=new Map;function cE(n,e){Ac.set(n,e)}function uE(n){const e=Ac.get(n);return Ac.delete(n),e}let dE=()=>location.protocol+"//"+location.host;function Mg(n,e){const{pathname:t,search:i,hash:r}=e,a=n.indexOf("#");if(a>-1){let u=r.includes(n.slice(a))?n.slice(a).length:1,d=r.slice(u);return d[0]!=="/"&&(d="/"+d),zf(d,"")}return zf(t,n)+i+r}function hE(n,e,t,i){let r=[],a=[],l=null;const u=({state:m})=>{const k=Mg(n,location),v=t.value,b=e.value;let w=0;if(m){if(t.value=k,e.value=m,l&&l===v){l=null;return}w=b?m.position-b.position:0}else i(k);r.forEach(_=>{_(t.value,v,{delta:w,type:jr.pop,direction:w?w>0?Pr.forward:Pr.back:Pr.unknown})})};function d(){l=t.value}function h(m){r.push(m);const k=()=>{const v=r.indexOf(m);v>-1&&r.splice(v,1)};return a.push(k),k}function g(){const{history:m}=window;m.state&&m.replaceState(st({},m.state,{scroll:Ra()}),"")}function p(){for(const m of a)m();a=[],window.removeEventListener("popstate",u),window.removeEventListener("beforeunload",g)}return window.addEventListener("popstate",u),window.addEventListener("beforeunload",g,{passive:!0}),{pauseListeners:d,listen:h,destroy:p}}function Wf(n,e,t,i=!1,r=!1){return{back:n,current:e,forward:t,replaced:i,position:window.history.length,scroll:r?Ra():null}}function fE(n){const{history:e,location:t}=window,i={value:Mg(n,t)},r={value:e.state};r.value||a(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function a(d,h,g){const p=n.indexOf("#"),m=p>-1?(t.host&&document.querySelector("base")?n:n.slice(p))+d:dE()+n+d;try{e[g?"replaceState":"pushState"](h,"",m),r.value=h}catch(k){console.error(k),t[g?"replace":"assign"](m)}}function l(d,h){const g=st({},e.state,Wf(r.value.back,d,r.value.forward,!0),h,{position:r.value.position});a(d,g,!0),i.value=d}function u(d,h){const g=st({},r.value,e.state,{forward:d,scroll:Ra()});a(g.current,g,!0);const p=st({},Wf(i.value,d,null),{position:g.position+1},h);a(d,p,!1),i.value=d}return{location:i,state:r,push:u,replace:l}}function pE(n){n=iE(n);const e=fE(n),t=hE(n,e.state,e.location,e.replace);function i(a,l=!0){l||t.pauseListeners(),history.go(a)}const r=st({location:"",base:n,go:i,createHref:sE.bind(null,n)},e,t);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function gE(n){return typeof n=="string"||n&&typeof n=="object"}function Og(n){return typeof n=="string"||typeof n=="symbol"}const Ao={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Rg=Symbol("");var qf;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(qf||(qf={}));function Gi(n,e){return st(new Error,{type:n,[Rg]:!0},e)}function lo(n,e){return n instanceof Error&&Rg in n&&(e==null||!!(n.type&e))}const Vf="[^/]+?",mE={sensitive:!1,strict:!1,start:!0,end:!0},vE=/[.+*?^${}()[\]/\\]/g;function bE(n,e){const t=st({},mE,e),i=[];let r=t.start?"^":"";const a=[];for(const h of n){const g=h.length?[]:[90];t.strict&&!h.length&&(r+="/");for(let p=0;p<h.length;p++){const m=h[p];let k=40+(t.sensitive?.25:0);if(m.type===0)p||(r+="/"),r+=m.value.replace(vE,"\\$&"),k+=40;else if(m.type===1){const{value:v,repeatable:b,optional:w,regexp:_}=m;a.push({name:v,repeatable:b,optional:w});const E=_||Vf;if(E!==Vf){k+=10;try{new RegExp(`(${E})`)}catch(M){throw new Error(`Invalid custom RegExp for param "${v}" (${E}): `+M.message)}}let S=b?`((?:${E})(?:/(?:${E}))*)`:`(${E})`;p||(S=w&&h.length<2?`(?:/${S})`:"/"+S),w&&(S+="?"),r+=S,k+=20,w&&(k+=-8),b&&(k+=-20),E===".*"&&(k+=-50)}g.push(k)}i.push(g)}if(t.strict&&t.end){const h=i.length-1;i[h][i[h].length-1]+=.7000000000000001}t.strict||(r+="/?"),t.end?r+="$":t.strict&&(r+="(?:/|$)");const l=new RegExp(r,t.sensitive?"":"i");function u(h){const g=h.match(l),p={};if(!g)return null;for(let m=1;m<g.length;m++){const k=g[m]||"",v=a[m-1];p[v.name]=k&&v.repeatable?k.split("/"):k}return p}function d(h){let g="",p=!1;for(const m of n){(!p||!g.endsWith("/"))&&(g+="/"),p=!1;for(const k of m)if(k.type===0)g+=k.value;else if(k.type===1){const{value:v,repeatable:b,optional:w}=k,_=v in h?h[v]:"";if(Un(_)&&!b)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const E=Un(_)?_.join("/"):_;if(!E)if(w)m.length<2&&(g.endsWith("/")?g=g.slice(0,-1):p=!0);else throw new Error(`Missing required param "${v}"`);g+=E}}return g||"/"}return{re:l,score:i,keys:a,parse:u,stringify:d}}function yE(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=e[t]-n[t];if(i)return i;t++}return n.length<e.length?n.length===1&&n[0]===80?-1:1:n.length>e.length?e.length===1&&e[0]===80?1:-1:0}function wE(n,e){let t=0;const i=n.score,r=e.score;for(;t<i.length&&t<r.length;){const a=yE(i[t],r[t]);if(a)return a;t++}if(Math.abs(r.length-i.length)===1){if(Kf(i))return 1;if(Kf(r))return-1}return r.length-i.length}function Kf(n){const e=n[n.length-1];return n.length>0&&e[e.length-1]<0}const kE={type:0,value:""},xE=/[a-zA-Z0-9_]/;function _E(n){if(!n)return[[]];if(n==="/")return[[kE]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function e(k){throw new Error(`ERR (${t})/"${h}": ${k}`)}let t=0,i=t;const r=[];let a;function l(){a&&r.push(a),a=[]}let u=0,d,h="",g="";function p(){h&&(t===0?a.push({type:0,value:h}):t===1||t===2||t===3?(a.length>1&&(d==="*"||d==="+")&&e(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),a.push({type:1,value:h,regexp:g,repeatable:d==="*"||d==="+",optional:d==="*"||d==="?"})):e("Invalid state to consume buffer"),h="")}function m(){h+=d}for(;u<n.length;){if(d=n[u++],d==="\\"&&t!==2){i=t,t=4;continue}switch(t){case 0:d==="/"?(h&&p(),l()):d===":"?(p(),t=1):m();break;case 4:m(),t=i;break;case 1:d==="("?t=2:xE.test(d)?m():(p(),t=0,d!=="*"&&d!=="?"&&d!=="+"&&u--);break;case 2:d===")"?g[g.length-1]=="\\"?g=g.slice(0,-1)+d:t=3:g+=d;break;case 3:p(),t=0,d!=="*"&&d!=="?"&&d!=="+"&&u--,g="";break;default:e("Unknown state");break}}return t===2&&e(`Unfinished custom RegExp for param "${h}"`),p(),l(),r}function CE(n,e,t){const i=bE(_E(n.path),t),r=st(i,{record:n,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function EE(n,e){const t=[],i=new Map;e=Xf({strict:!1,end:!0,sensitive:!1},e);function r(g){return i.get(g)}function a(g,p,m){const k=!m,v=SE(g);v.aliasOf=m&&m.record;const b=Xf(e,g),w=[v];if("alias"in g){const S=typeof g.alias=="string"?[g.alias]:g.alias;for(const M of S)w.push(st({},v,{components:m?m.record.components:v.components,path:M,aliasOf:m?m.record:v}))}let _,E;for(const S of w){const{path:M}=S;if(p&&M[0]!=="/"){const O=p.record.path,P=O[O.length-1]==="/"?"":"/";S.path=p.record.path+(M&&P+M)}if(_=CE(S,p,b),m?m.alias.push(_):(E=E||_,E!==_&&E.alias.push(_),k&&g.name&&!Yf(_)&&l(g.name)),v.children){const O=v.children;for(let P=0;P<O.length;P++)a(O[P],_,m&&m.children[P])}m=m||_,(_.record.components&&Object.keys(_.record.components).length||_.record.name||_.record.redirect)&&d(_)}return E?()=>{l(E)}:Rr}function l(g){if(Og(g)){const p=i.get(g);p&&(i.delete(g),t.splice(t.indexOf(p),1),p.children.forEach(l),p.alias.forEach(l))}else{const p=t.indexOf(g);p>-1&&(t.splice(p,1),g.record.name&&i.delete(g.record.name),g.children.forEach(l),g.alias.forEach(l))}}function u(){return t}function d(g){let p=0;for(;p<t.length&&wE(g,t[p])>=0&&(g.record.path!==t[p].record.path||!Pg(g,t[p]));)p++;t.splice(p,0,g),g.record.name&&!Yf(g)&&i.set(g.record.name,g)}function h(g,p){let m,k={},v,b;if("name"in g&&g.name){if(m=i.get(g.name),!m)throw Gi(1,{location:g});b=m.record.name,k=st(Gf(p.params,m.keys.filter(E=>!E.optional).map(E=>E.name)),g.params&&Gf(g.params,m.keys.map(E=>E.name))),v=m.stringify(k)}else if("path"in g)v=g.path,m=t.find(E=>E.re.test(v)),m&&(k=m.parse(v),b=m.record.name);else{if(m=p.name?i.get(p.name):t.find(E=>E.re.test(p.path)),!m)throw Gi(1,{location:g,currentLocation:p});b=m.record.name,k=st({},p.params,g.params),v=m.stringify(k)}const w=[];let _=m;for(;_;)w.unshift(_.record),_=_.parent;return{name:b,path:v,params:k,matched:w,meta:BE(w)}}return n.forEach(g=>a(g)),{addRoute:a,resolve:h,removeRoute:l,getRoutes:u,getRecordMatcher:r}}function Gf(n,e){const t={};for(const i of e)i in n&&(t[i]=n[i]);return t}function SE(n){return{path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:void 0,beforeEnter:n.beforeEnter,props:TE(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||null:n.component&&{default:n.component}}}function TE(n){const e={},t=n.props||!1;if("component"in n)e.default=t;else for(const i in n.components)e[i]=typeof t=="object"?t[i]:t;return e}function Yf(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function BE(n){return n.reduce((e,t)=>st(e,t.meta),{})}function Xf(n,e){const t={};for(const i in n)t[i]=i in e?e[i]:n[i];return t}function Pg(n,e){return e.children.some(t=>t===n||Pg(n,t))}const Ng=/#/g,IE=/&/g,LE=/\//g,AE=/=/g,ME=/\?/g,Dg=/\+/g,OE=/%5B/g,RE=/%5D/g,Fg=/%5E/g,PE=/%60/g,Hg=/%7B/g,NE=/%7C/g,Ug=/%7D/g,DE=/%20/g;function du(n){return encodeURI(""+n).replace(NE,"|").replace(OE,"[").replace(RE,"]")}function FE(n){return du(n).replace(Hg,"{").replace(Ug,"}").replace(Fg,"^")}function Mc(n){return du(n).replace(Dg,"%2B").replace(DE,"+").replace(Ng,"%23").replace(IE,"%26").replace(PE,"`").replace(Hg,"{").replace(Ug,"}").replace(Fg,"^")}function HE(n){return Mc(n).replace(AE,"%3D")}function UE(n){return du(n).replace(Ng,"%23").replace(ME,"%3F")}function zE(n){return n==null?"":UE(n).replace(LE,"%2F")}function ca(n){try{return decodeURIComponent(""+n)}catch{}return""+n}function $E(n){const e={};if(n===""||n==="?")return e;const i=(n[0]==="?"?n.slice(1):n).split("&");for(let r=0;r<i.length;++r){const a=i[r].replace(Dg," "),l=a.indexOf("="),u=ca(l<0?a:a.slice(0,l)),d=l<0?null:ca(a.slice(l+1));if(u in e){let h=e[u];Un(h)||(h=e[u]=[h]),h.push(d)}else e[u]=d}return e}function Zf(n){let e="";for(let t in n){const i=n[t];if(t=HE(t),i==null){i!==void 0&&(e+=(e.length?"&":"")+t);continue}(Un(i)?i.map(a=>a&&Mc(a)):[i&&Mc(i)]).forEach(a=>{a!==void 0&&(e+=(e.length?"&":"")+t,a!=null&&(e+="="+a))})}return e}function jE(n){const e={};for(const t in n){const i=n[t];i!==void 0&&(e[t]=Un(i)?i.map(r=>r==null?null:""+r):i==null?i:""+i)}return e}const WE=Symbol(""),Jf=Symbol(""),hu=Symbol(""),zg=Symbol(""),Oc=Symbol("");function br(){let n=[];function e(i){return n.push(i),()=>{const r=n.indexOf(i);r>-1&&n.splice(r,1)}}function t(){n=[]}return{add:e,list:()=>n.slice(),reset:t}}function Fo(n,e,t,i,r){const a=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise((l,u)=>{const d=p=>{p===!1?u(Gi(4,{from:t,to:e})):p instanceof Error?u(p):gE(p)?u(Gi(2,{from:e,to:p})):(a&&i.enterCallbacks[r]===a&&typeof p=="function"&&a.push(p),l())},h=n.call(i&&i.instances[r],e,t,d);let g=Promise.resolve(h);n.length<3&&(g=g.then(d)),g.catch(p=>u(p))})}function ac(n,e,t,i){const r=[];for(const a of n)for(const l in a.components){let u=a.components[l];if(!(e!=="beforeRouteEnter"&&!a.instances[l]))if(qE(u)){const h=(u.__vccOpts||u)[e];h&&r.push(Fo(h,t,i,a,l))}else{let d=u();r.push(()=>d.then(h=>{if(!h)return Promise.reject(new Error(`Couldn't resolve component "${l}" at "${a.path}"`));const g=ZC(h)?h.default:h;a.components[l]=g;const m=(g.__vccOpts||g)[e];return m&&Fo(m,t,i,a,l)()}))}}return r}function qE(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function Qf(n){const e=go(hu),t=go(zg),i=Ht(()=>e.resolve(nn(n.to))),r=Ht(()=>{const{matched:d}=i.value,{length:h}=d,g=d[h-1],p=t.matched;if(!g||!p.length)return-1;const m=p.findIndex(Ki.bind(null,g));if(m>-1)return m;const k=ep(d[h-2]);return h>1&&ep(g)===k&&p[p.length-1].path!==k?p.findIndex(Ki.bind(null,d[h-2])):m}),a=Ht(()=>r.value>-1&&YE(t.params,i.value.params)),l=Ht(()=>r.value>-1&&r.value===t.matched.length-1&&Ag(t.params,i.value.params));function u(d={}){return GE(d)?e[nn(n.replace)?"replace":"push"](nn(n.to)).catch(Rr):Promise.resolve()}return{route:i,href:Ht(()=>i.value.href),isActive:a,isExactActive:l,navigate:u}}const VE=yi({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Qf,setup(n,{slots:e}){const t=Kr(Qf(n)),{options:i}=go(hu),r=Ht(()=>({[tp(n.activeClass,i.linkActiveClass,"router-link-active")]:t.isActive,[tp(n.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const a=e.default&&e.default(t);return n.custom?a:cu("a",{"aria-current":t.isExactActive?n.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:r.value},a)}}}),KE=VE;function GE(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}function YE(n,e){for(const t in e){const i=e[t],r=n[t];if(typeof i=="string"){if(i!==r)return!1}else if(!Un(r)||r.length!==i.length||i.some((a,l)=>a!==r[l]))return!1}return!0}function ep(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const tp=(n,e,t)=>n??e??t,XE=yi({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:e,slots:t}){const i=go(Oc),r=Ht(()=>n.route||i.value),a=go(Jf,0),l=Ht(()=>{let h=nn(a);const{matched:g}=r.value;let p;for(;(p=g[h])&&!p.components;)h++;return h}),u=Ht(()=>r.value.matched[l.value]);Xs(Jf,Ht(()=>l.value+1)),Xs(WE,u),Xs(Oc,r);const d=zo();return Ys(()=>[d.value,u.value,n.name],([h,g,p],[m,k,v])=>{g&&(g.instances[p]=h,k&&k!==g&&h&&h===m&&(g.leaveGuards.size||(g.leaveGuards=k.leaveGuards),g.updateGuards.size||(g.updateGuards=k.updateGuards))),h&&g&&(!k||!Ki(g,k)||!m)&&(g.enterCallbacks[p]||[]).forEach(b=>b(h))},{flush:"post"}),()=>{const h=r.value,g=n.name,p=u.value,m=p&&p.components[g];if(!m)return np(t.default,{Component:m,route:h});const k=p.props[g],v=k?k===!0?h.params:typeof k=="function"?k(h):k:null,w=cu(m,st({},v,e,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(p.instances[g]=null)},ref:d}));return np(t.default,{Component:w,route:h})||w}}});function np(n,e){if(!n)return null;const t=n(e);return t.length===1?t[0]:t}const ZE=XE;function JE(n){const e=EE(n.routes,n),t=n.parseQuery||$E,i=n.stringifyQuery||Zf,r=n.history,a=br(),l=br(),u=br(),d=Xx(Ao);let h=Ao;Ni&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const g=rc.bind(null,j=>""+j),p=rc.bind(null,zE),m=rc.bind(null,ca);function k(j,le){let se,ie;return Og(j)?(se=e.getRecordMatcher(j),ie=le):ie=j,e.addRoute(ie,se)}function v(j){const le=e.getRecordMatcher(j);le&&e.removeRoute(le)}function b(){return e.getRoutes().map(j=>j.record)}function w(j){return!!e.getRecordMatcher(j)}function _(j,le){if(le=st({},le||d.value),typeof j=="string"){const A=sc(t,j,le.path),H=e.resolve({path:A.path},le),K=r.createHref(A.fullPath);return st(A,H,{params:m(H.params),hash:ca(A.hash),redirectedFrom:void 0,href:K})}let se;if("path"in j)se=st({},j,{path:sc(t,j.path,le.path).path});else{const A=st({},j.params);for(const H in A)A[H]==null&&delete A[H];se=st({},j,{params:p(A)}),le.params=p(le.params)}const ie=e.resolve(se,le),je=j.hash||"";ie.params=g(m(ie.params));const Qe=eE(i,st({},j,{hash:FE(je),path:ie.path})),B=r.createHref(Qe);return st({fullPath:Qe,hash:je,query:i===Zf?jE(j.query):j.query||{}},ie,{redirectedFrom:void 0,href:B})}function E(j){return typeof j=="string"?sc(t,j,d.value.path):st({},j)}function S(j,le){if(h!==j)return Gi(8,{from:le,to:j})}function M(j){return U(j)}function O(j){return M(st(E(j),{replace:!0}))}function P(j){const le=j.matched[j.matched.length-1];if(le&&le.redirect){const{redirect:se}=le;let ie=typeof se=="function"?se(j):se;return typeof ie=="string"&&(ie=ie.includes("?")||ie.includes("#")?ie=E(ie):{path:ie},ie.params={}),st({query:j.query,hash:j.hash,params:"path"in ie?{}:j.params},ie)}}function U(j,le){const se=h=_(j),ie=d.value,je=j.state,Qe=j.force,B=j.replace===!0,A=P(se);if(A)return U(st(E(A),{state:typeof A=="object"?st({},je,A.state):je,force:Qe,replace:B}),le||se);const H=se;H.redirectedFrom=le;let K;return!Qe&&tE(i,ie,se)&&(K=Gi(16,{to:H,from:ie}),_e(ie,ie,!0,!1)),(K?Promise.resolve(K):F(H,ie)).catch(q=>lo(q)?lo(q,2)?q:pe(q):J(q,H,ie)).then(q=>{if(q){if(lo(q,2))return U(st({replace:B},E(q.to),{state:typeof q.to=="object"?st({},je,q.to.state):je,force:Qe}),le||H)}else q=z(H,ie,!0,B,je);return W(H,ie,q),q})}function T(j,le){const se=S(j,le);return se?Promise.reject(se):Promise.resolve()}function I(j){const le=ke.values().next().value;return le&&typeof le.runWithContext=="function"?le.runWithContext(j):j()}function F(j,le){let se;const[ie,je,Qe]=QE(j,le);se=ac(ie.reverse(),"beforeRouteLeave",j,le);for(const A of ie)A.leaveGuards.forEach(H=>{se.push(Fo(H,j,le))});const B=T.bind(null,j,le);return se.push(B),ve(se).then(()=>{se=[];for(const A of a.list())se.push(Fo(A,j,le));return se.push(B),ve(se)}).then(()=>{se=ac(je,"beforeRouteUpdate",j,le);for(const A of je)A.updateGuards.forEach(H=>{se.push(Fo(H,j,le))});return se.push(B),ve(se)}).then(()=>{se=[];for(const A of Qe)if(A.beforeEnter)if(Un(A.beforeEnter))for(const H of A.beforeEnter)se.push(Fo(H,j,le));else se.push(Fo(A.beforeEnter,j,le));return se.push(B),ve(se)}).then(()=>(j.matched.forEach(A=>A.enterCallbacks={}),se=ac(Qe,"beforeRouteEnter",j,le),se.push(B),ve(se))).then(()=>{se=[];for(const A of l.list())se.push(Fo(A,j,le));return se.push(B),ve(se)}).catch(A=>lo(A,8)?A:Promise.reject(A))}function W(j,le,se){u.list().forEach(ie=>I(()=>ie(j,le,se)))}function z(j,le,se,ie,je){const Qe=S(j,le);if(Qe)return Qe;const B=le===Ao,A=Ni?history.state:{};se&&(ie||B?r.replace(j.fullPath,st({scroll:B&&A&&A.scroll},je)):r.push(j.fullPath,je)),d.value=j,_e(j,le,se,B),pe()}let Z;function he(){Z||(Z=r.listen((j,le,se)=>{if(!Oe.listening)return;const ie=_(j),je=P(ie);if(je){U(st(je,{replace:!0}),ie).catch(Rr);return}h=ie;const Qe=d.value;Ni&&cE(jf(Qe.fullPath,se.delta),Ra()),F(ie,Qe).catch(B=>lo(B,12)?B:lo(B,2)?(U(B.to,ie).then(A=>{lo(A,20)&&!se.delta&&se.type===jr.pop&&r.go(-1,!1)}).catch(Rr),Promise.reject()):(se.delta&&r.go(-se.delta,!1),J(B,ie,Qe))).then(B=>{B=B||z(ie,Qe,!1),B&&(se.delta&&!lo(B,8)?r.go(-se.delta,!1):se.type===jr.pop&&lo(B,20)&&r.go(-1,!1)),W(ie,Qe,B)}).catch(Rr)}))}let oe=br(),me=br(),we;function J(j,le,se){pe(j);const ie=me.list();return ie.length?ie.forEach(je=>je(j,le,se)):console.error(j),Promise.reject(j)}function ae(){return we&&d.value!==Ao?Promise.resolve():new Promise((j,le)=>{oe.add([j,le])})}function pe(j){return we||(we=!j,he(),oe.list().forEach(([le,se])=>j?se(j):le()),oe.reset()),j}function _e(j,le,se,ie){const{scrollBehavior:je}=n;if(!Ni||!je)return Promise.resolve();const Qe=!se&&uE(jf(j.fullPath,0))||(ie||!se)&&history.state&&history.state.scroll||null;return Qp().then(()=>je(j,le,Qe)).then(B=>B&&lE(B)).catch(B=>J(B,j,le))}const Be=j=>r.go(j);let Ce;const ke=new Set,Oe={currentRoute:d,listening:!0,addRoute:k,removeRoute:v,hasRoute:w,getRoutes:b,resolve:_,options:n,push:M,replace:O,go:Be,back:()=>Be(-1),forward:()=>Be(1),beforeEach:a.add,beforeResolve:l.add,afterEach:u.add,onError:me.add,isReady:ae,install(j){const le=this;j.component("RouterLink",KE),j.component("RouterView",ZE),j.config.globalProperties.$router=le,Object.defineProperty(j.config.globalProperties,"$route",{enumerable:!0,get:()=>nn(d)}),Ni&&!Ce&&d.value===Ao&&(Ce=!0,M(r.location).catch(je=>{}));const se={};for(const je in Ao)Object.defineProperty(se,je,{get:()=>d.value[je],enumerable:!0});j.provide(hu,le),j.provide(zg,qp(se)),j.provide(Oc,d);const ie=j.unmount;ke.add(j),j.unmount=function(){ke.delete(j),ke.size<1&&(h=Ao,Z&&Z(),Z=null,d.value=Ao,Ce=!1,we=!1),ie()}}};function ve(j){return j.reduce((le,se)=>le.then(()=>I(se)),Promise.resolve())}return Oe}function QE(n,e){const t=[],i=[],r=[],a=Math.max(e.matched.length,n.matched.length);for(let l=0;l<a;l++){const u=e.matched[l];u&&(n.matched.find(h=>Ki(h,u))?i.push(u):t.push(u));const d=n.matched[l];d&&(e.matched.find(h=>Ki(h,d))||r.push(d))}return[t,i,r]}const e2={},t2={class:"h-24 w-full fixed z-10 p-8 border-b border-b-gray-100 bg-white"},n2={class:"h-full w-full m-auto flex flex-row justify-start items-center"};function o2(n,e){return mn(),qo("div",t2,[It("div",n2,[Ia(n.$slots,"default")])])}const i2=Ji(e2,[["render",o2]]);(function(){try{if(typeof document<"u"){var n=document.createElement("style");n.appendChild(document.createTextNode(".ce-hint--align-start{text-align:left}.ce-hint--align-center{text-align:center}.ce-hint__description{opacity:.6;margin-top:3px}")),document.head.appendChild(n)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();var r2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pa(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function lc(){}Object.assign(lc,{default:lc,register:lc,revert:function(){},__esModule:!0});Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(n){const e=(this.document||this.ownerDocument).querySelectorAll(n);let t=e.length;for(;--t>=0&&e.item(t)!==this;);return t>-1});Element.prototype.closest||(Element.prototype.closest=function(n){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(n))return e;e=e.parentElement||e.parentNode}while(e!==null);return null});Element.prototype.prepend||(Element.prototype.prepend=function(n){const e=document.createDocumentFragment();Array.isArray(n)||(n=[n]),n.forEach(t=>{const i=t instanceof Node;e.appendChild(i?t:document.createTextNode(t))}),this.insertBefore(e,this.firstChild)});Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(n){n=arguments.length===0?!0:!!n;const e=this.parentNode,t=window.getComputedStyle(e,null),i=parseInt(t.getPropertyValue("border-top-width")),r=parseInt(t.getPropertyValue("border-left-width")),a=this.offsetTop-e.offsetTop<e.scrollTop,l=this.offsetTop-e.offsetTop+this.clientHeight-i>e.scrollTop+e.clientHeight,u=this.offsetLeft-e.offsetLeft<e.scrollLeft,d=this.offsetLeft-e.offsetLeft+this.clientWidth-r>e.scrollLeft+e.clientWidth,h=a&&!l;(a||l)&&n&&(e.scrollTop=this.offsetTop-e.offsetTop-e.clientHeight/2-i+this.clientHeight/2),(u||d)&&n&&(e.scrollLeft=this.offsetLeft-e.offsetLeft-e.clientWidth/2-r+this.clientWidth/2),(a||l||u||d)&&!n&&this.scrollIntoView(h)});window.requestIdleCallback=window.requestIdleCallback||function(n){const e=Date.now();return setTimeout(function(){n({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})},1)};window.cancelIdleCallback=window.cancelIdleCallback||function(n){clearTimeout(n)};let s2=(n=21)=>crypto.getRandomValues(new Uint8Array(n)).reduce((e,t)=>(t&=63,t<36?e+=t.toString(36):t<62?e+=(t-26).toString(36).toUpperCase():t>62?e+="-":e+="_",e),"");var $g=(n=>(n.VERBOSE="VERBOSE",n.INFO="INFO",n.WARN="WARN",n.ERROR="ERROR",n))($g||{});const Ne={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91,SLASH:191},a2={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4};function Xr(n,e,t="log",i,r="color: inherit"){if(!("console"in window)||!window.console[t])return;const a=["info","log","warn","error"].includes(t),l=[];switch(Xr.logLevel){case"ERROR":if(t!=="error")return;break;case"WARN":if(!["error","warn"].includes(t))return;break;case"INFO":if(!a||n)return;break}i&&l.push(i);const u="Editor.js 2.30.5";n&&(a?(l.unshift(`line-height: 1em;
            color: #006FEA;
            display: inline-block;
            font-size: 11px;
            line-height: 1em;
            background-color: #fff;
            padding: 4px 9px;
            border-radius: 30px;
            border: 1px solid rgba(56, 138, 229, 0.16);
            margin: 4px 5px 4px 0;`,r),e=`%c${u}%c ${e}`):e=`( ${u} )${e}`);try{a?i?console[t](`${e} %o`,...l):console[t](e,...l):console[t](e)}catch{}}Xr.logLevel="VERBOSE";function l2(n){Xr.logLevel=n}const ot=Xr.bind(window,!1),Tn=Xr.bind(window,!0);function gi(n){return Object.prototype.toString.call(n).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function bt(n){return gi(n)==="function"||gi(n)==="asyncfunction"}function Pt(n){return gi(n)==="object"}function mo(n){return gi(n)==="string"}function c2(n){return gi(n)==="boolean"}function op(n){return gi(n)==="number"}function ip(n){return gi(n)==="undefined"}function An(n){return n?Object.keys(n).length===0&&n.constructor===Object:!0}function jg(n){return n>47&&n<58||n===32||n===13||n===229||n>64&&n<91||n>95&&n<112||n>185&&n<193||n>218&&n<223}async function u2(n,e=()=>{},t=()=>{}){async function i(r,a,l){try{await r.function(r.data),await a(ip(r.data)?{}:r.data)}catch{l(ip(r.data)?{}:r.data)}}return n.reduce(async(r,a)=>(await r,i(a,e,t)),Promise.resolve())}function Wg(n){return Array.prototype.slice.call(n)}function ua(n,e){return function(){const t=this,i=arguments;window.setTimeout(()=>n.apply(t,i),e)}}function d2(n){return n.name.split(".").pop()}function h2(n){return/^[-\w]+\/([-+\w]+|\*)$/.test(n)}function rp(n,e,t){let i;return(...r)=>{const a=this,l=()=>{i=null,n.apply(a,r)};window.clearTimeout(i),i=window.setTimeout(l,e)}}function Rc(n,e,t=void 0){let i,r,a,l=null,u=0;t||(t={});const d=function(){u=t.leading===!1?0:Date.now(),l=null,a=n.apply(i,r),l||(i=r=null)};return function(){const h=Date.now();!u&&t.leading===!1&&(u=h);const g=e-(h-u);return i=this,r=arguments,g<=0||g>e?(l&&(clearTimeout(l),l=null),u=h,a=n.apply(i,r),l||(i=r=null)):!l&&t.trailing!==!1&&(l=setTimeout(d,g)),a}}function f2(){const n={win:!1,mac:!1,x11:!1,linux:!1},e=Object.keys(n).find(t=>window.navigator.appVersion.toLowerCase().indexOf(t)!==-1);return e&&(n[e]=!0),n}function da(n){return n[0].toUpperCase()+n.slice(1)}function Pc(n,...e){if(!e.length)return n;const t=e.shift();if(Pt(n)&&Pt(t))for(const i in t)Pt(t[i])?(n[i]||Object.assign(n,{[i]:{}}),Pc(n[i],t[i])):Object.assign(n,{[i]:t[i]});return Pc(n,...e)}function fu(n){const e=f2();return n=n.replace(/shift/gi,"⇧").replace(/backspace/gi,"⌫").replace(/enter/gi,"⏎").replace(/up/gi,"↑").replace(/left/gi,"→").replace(/down/gi,"↓").replace(/right/gi,"←").replace(/escape/gi,"⎋").replace(/insert/gi,"Ins").replace(/delete/gi,"␡").replace(/\+/gi," + "),e.mac?n=n.replace(/ctrl|cmd/gi,"⌘").replace(/alt/gi,"⌥"):n=n.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),n}function p2(n){try{return new URL(n).href}catch{}return n.substring(0,2)==="//"?window.location.protocol+n:window.location.origin+n}function g2(){return s2(10)}function m2(n){window.open(n,"_blank")}function v2(n=""){return`${n}${Math.floor(Math.random()*1e8).toString(16)}`}function Nc(n,e,t){const i=`«${e}» is deprecated and will be removed in the next major release. Please use the «${t}» instead.`;n&&Tn(i,"warn")}function Qi(n,e,t){const i=t.value?"value":"get",r=t[i],a=`#${e}Cache`;if(t[i]=function(...l){return this[a]===void 0&&(this[a]=r.apply(this,...l)),this[a]},i==="get"&&t.set){const l=t.set;t.set=function(u){delete n[a],l.apply(this,u)}}return t}const qg=650;function er(){return window.matchMedia(`(max-width: ${qg}px)`).matches}const Dc=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function b2(n,e){const t=Array.isArray(n)||Pt(n),i=Array.isArray(e)||Pt(e);return t||i?JSON.stringify(n)===JSON.stringify(e):n===e}let Y=class qt{static isSingleTag(e){return e.tagName&&["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(e.tagName)}static isLineBreakTag(e){return e&&e.tagName&&["BR","WBR"].includes(e.tagName)}static make(e,t=null,i={}){const r=document.createElement(e);if(Array.isArray(t)){const a=t.filter(l=>l!==void 0);r.classList.add(...a)}else t&&r.classList.add(t);for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a]);return r}static text(e){return document.createTextNode(e)}static append(e,t){Array.isArray(t)?t.forEach(i=>e.appendChild(i)):e.appendChild(t)}static prepend(e,t){Array.isArray(t)?(t=t.reverse(),t.forEach(i=>e.prepend(i))):e.prepend(t)}static swap(e,t){const i=document.createElement("div"),r=e.parentNode;r.insertBefore(i,e),r.insertBefore(e,t),r.insertBefore(t,i),r.removeChild(i)}static find(e=document,t){return e.querySelector(t)}static get(e){return document.getElementById(e)}static findAll(e=document,t){return e.querySelectorAll(t)}static get allInputsSelector(){return"[contenteditable=true], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map(e=>`input[type="${e}"]`).join(", ")}static findAllInputs(e){return Wg(e.querySelectorAll(qt.allInputsSelector)).reduce((t,i)=>qt.isNativeInput(i)||qt.containsOnlyInlineElements(i)?[...t,i]:[...t,...qt.getDeepestBlockElements(i)],[])}static getDeepestNode(e,t=!1){const i=t?"lastChild":"firstChild",r=t?"previousSibling":"nextSibling";if(e&&e.nodeType===Node.ELEMENT_NODE&&e[i]){let a=e[i];if(qt.isSingleTag(a)&&!qt.isNativeInput(a)&&!qt.isLineBreakTag(a))if(a[r])a=a[r];else if(a.parentNode[r])a=a.parentNode[r];else return a.parentNode;return this.getDeepestNode(a,t)}return e}static isElement(e){return op(e)?!1:e&&e.nodeType&&e.nodeType===Node.ELEMENT_NODE}static isFragment(e){return op(e)?!1:e&&e.nodeType&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE}static isContentEditable(e){return e.contentEditable==="true"}static isNativeInput(e){const t=["INPUT","TEXTAREA"];return e&&e.tagName?t.includes(e.tagName):!1}static canSetCaret(e){let t=!0;if(qt.isNativeInput(e))switch(e.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":t=!1;break}else t=qt.isContentEditable(e);return t}static isNodeEmpty(e,t){let i;return this.isSingleTag(e)&&!this.isLineBreakTag(e)?!1:(this.isElement(e)&&this.isNativeInput(e)?i=e.value:i=e.textContent.replace("​",""),t&&(i=i.replace(new RegExp(t,"g"),"")),i.trim().length===0)}static isLeaf(e){return e?e.childNodes.length===0:!1}static isEmpty(e,t){e.normalize();const i=[e];for(;i.length>0;)if(e=i.shift(),!!e){if(this.isLeaf(e)&&!this.isNodeEmpty(e,t))return!1;e.childNodes&&i.push(...Array.from(e.childNodes))}return!0}static isHTMLString(e){const t=qt.make("div");return t.innerHTML=e,t.childElementCount>0}static getContentLength(e){return qt.isNativeInput(e)?e.value.length:e.nodeType===Node.TEXT_NODE?e.length:e.textContent.length}static get blockElements(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}static containsOnlyInlineElements(e){let t;mo(e)?(t=document.createElement("div"),t.innerHTML=e):t=e;const i=r=>!qt.blockElements.includes(r.tagName.toLowerCase())&&Array.from(r.children).every(i);return Array.from(t.children).every(i)}static getDeepestBlockElements(e){return qt.containsOnlyInlineElements(e)?[e]:Array.from(e.children).reduce((t,i)=>[...t,...qt.getDeepestBlockElements(i)],[])}static getHolder(e){return mo(e)?document.getElementById(e):e}static isAnchor(e){return e.tagName.toLowerCase()==="a"}static offset(e){const t=e.getBoundingClientRect(),i=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop,a=t.top+r,l=t.left+i;return{top:a,left:l,bottom:a+t.height,right:l+t.width}}};function y2(n){return!/[^\t\n\r ]/.test(n)}function w2(n){const e=window.getComputedStyle(n),t=parseFloat(e.fontSize),i=parseFloat(e.lineHeight)||t*1.2,r=parseFloat(e.paddingTop),a=parseFloat(e.borderTopWidth),l=parseFloat(e.marginTop),u=t*.8,d=(i-t)/2;return l+a+r+d+u}function Vg(n){n.dataset.empty=Y.isEmpty(n)?"true":"false"}const k2={blockTunes:{toggler:{"Click to tune":"","or drag to move":""}},inlineToolbar:{converter:{"Convert to":""}},toolbar:{toolbox:{Add:""}},popover:{Filter:"","Nothing found":"","Convert to":""}},x2={Text:"",Link:"",Bold:"",Italic:""},_2={link:{"Add a link":""},stub:{"The block can not be displayed correctly.":""}},C2={delete:{Delete:"","Click to delete":""},moveUp:{"Move up":""},moveDown:{"Move down":""}},Kg={ui:k2,toolNames:x2,tools:_2,blockTunes:C2},Gg=class Di{static ui(e,t){return Di._t(e,t)}static t(e,t){return Di._t(e,t)}static setDictionary(e){Di.currentDictionary=e}static _t(e,t){const i=Di.getNamespace(e);return!i||!i[t]?t:i[t]}static getNamespace(e){return e.split(".").reduce((t,i)=>!t||!Object.keys(t).length?{}:t[i],Di.currentDictionary)}};Gg.currentDictionary=Kg;let Vt=Gg;class Yg extends Error{}class Zr{constructor(){this.subscribers={}}on(e,t){e in this.subscribers||(this.subscribers[e]=[]),this.subscribers[e].push(t)}once(e,t){e in this.subscribers||(this.subscribers[e]=[]);const i=r=>{const a=t(r),l=this.subscribers[e].indexOf(i);return l!==-1&&this.subscribers[e].splice(l,1),a};this.subscribers[e].push(i)}emit(e,t){An(this.subscribers)||!this.subscribers[e]||this.subscribers[e].reduce((i,r)=>{const a=r(i);return a!==void 0?a:i},t)}off(e,t){if(this.subscribers[e]===void 0){console.warn(`EventDispatcher .off(): there is no subscribers for event "${e.toString()}". Probably, .off() called before .on()`);return}for(let i=0;i<this.subscribers[e].length;i++)if(this.subscribers[e][i]===t){delete this.subscribers[e][i];break}}destroy(){this.subscribers={}}}function co(n){Object.setPrototypeOf(this,{get id(){return n.id},get name(){return n.name},get config(){return n.config},get holder(){return n.holder},get isEmpty(){return n.isEmpty},get selected(){return n.selected},set stretched(e){n.stretched=e},get stretched(){return n.stretched},get focusable(){return n.focusable},call(e,t){return n.call(e,t)},save(){return n.save()},validate(e){return n.validate(e)},dispatchChange(){n.dispatchChange()},getActiveToolboxEntry(){return n.getActiveToolboxEntry()}})}class Jr{constructor(){this.allListeners=[]}on(e,t,i,r=!1){const a=v2("l"),l={id:a,element:e,eventType:t,handler:i,options:r};if(!this.findOne(e,t,i))return this.allListeners.push(l),e.addEventListener(t,i,r),a}off(e,t,i,r){const a=this.findAll(e,t,i);a.forEach((l,u)=>{const d=this.allListeners.indexOf(a[u]);d>-1&&(this.allListeners.splice(d,1),l.element.removeEventListener(l.eventType,l.handler,l.options))})}offById(e){const t=this.findById(e);t&&t.element.removeEventListener(t.eventType,t.handler,t.options)}findOne(e,t,i){const r=this.findAll(e,t,i);return r.length>0?r[0]:null}findAll(e,t,i){let r;const a=e?this.findByEventTarget(e):[];return e&&t&&i?r=a.filter(l=>l.eventType===t&&l.handler===i):e&&t?r=a.filter(l=>l.eventType===t):r=a,r}removeAll(){this.allListeners.map(e=>{e.element.removeEventListener(e.eventType,e.handler,e.options)}),this.allListeners=[]}destroy(){this.removeAll()}findByEventTarget(e){return this.allListeners.filter(t=>{if(t.element===e)return t})}findByType(e){return this.allListeners.filter(t=>{if(t.eventType===e)return t})}findByHandler(e){return this.allListeners.filter(t=>{if(t.handler===e)return t})}findById(e){return this.allListeners.find(t=>t.id===e)}}let Ye=class Xg{constructor({config:e,eventsDispatcher:t}){if(this.nodes={},this.listeners=new Jr,this.readOnlyMutableListeners={on:(i,r,a,l=!1)=>{this.mutableListenerIds.push(this.listeners.on(i,r,a,l))},clearAll:()=>{for(const i of this.mutableListenerIds)this.listeners.offById(i);this.mutableListenerIds=[]}},this.mutableListenerIds=[],new.target===Xg)throw new TypeError("Constructors for abstract class Module are not allowed.");this.config=e,this.eventsDispatcher=t}set state(e){this.Editor=e}removeAllNodes(){for(const e in this.nodes){const t=this.nodes[e];t instanceof HTMLElement&&t.remove()}}get isRtl(){return this.config.i18n.direction==="rtl"}},Ae=class Mo{constructor(){this.instance=null,this.selection=null,this.savedSelectionRange=null,this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}static get CSS(){return{editorWrapper:"codex-editor",editorZone:"codex-editor__redactor"}}static get anchorNode(){const e=window.getSelection();return e?e.anchorNode:null}static get anchorElement(){const e=window.getSelection();if(!e)return null;const t=e.anchorNode;return t?Y.isElement(t)?t:t.parentElement:null}static get anchorOffset(){const e=window.getSelection();return e?e.anchorOffset:null}static get isCollapsed(){const e=window.getSelection();return e?e.isCollapsed:null}static get isAtEditor(){return this.isSelectionAtEditor(Mo.get())}static isSelectionAtEditor(e){if(!e)return!1;let t=e.anchorNode||e.focusNode;t&&t.nodeType===Node.TEXT_NODE&&(t=t.parentNode);let i=null;return t&&t instanceof Element&&(i=t.closest(`.${Mo.CSS.editorZone}`)),i?i.nodeType===Node.ELEMENT_NODE:!1}static isRangeAtEditor(e){if(!e)return;let t=e.startContainer;t&&t.nodeType===Node.TEXT_NODE&&(t=t.parentNode);let i=null;return t&&t instanceof Element&&(i=t.closest(`.${Mo.CSS.editorZone}`)),i?i.nodeType===Node.ELEMENT_NODE:!1}static get isSelectionExists(){return!!Mo.get().anchorNode}static get range(){return this.getRangeFromSelection(this.get())}static getRangeFromSelection(e){return e&&e.rangeCount?e.getRangeAt(0):null}static get rect(){let e=document.selection,t,i={x:0,y:0,width:0,height:0};if(e&&e.type!=="Control")return e=e,t=e.createRange(),i.x=t.boundingLeft,i.y=t.boundingTop,i.width=t.boundingWidth,i.height=t.boundingHeight,i;if(!window.getSelection)return ot("Method window.getSelection is not supported","warn"),i;if(e=window.getSelection(),e.rangeCount===null||isNaN(e.rangeCount))return ot("Method SelectionUtils.rangeCount is not supported","warn"),i;if(e.rangeCount===0)return i;if(t=e.getRangeAt(0).cloneRange(),t.getBoundingClientRect&&(i=t.getBoundingClientRect()),i.x===0&&i.y===0){const r=document.createElement("span");if(r.getBoundingClientRect){r.appendChild(document.createTextNode("​")),t.insertNode(r),i=r.getBoundingClientRect();const a=r.parentNode;a.removeChild(r),a.normalize()}}return i}static get text(){return window.getSelection?window.getSelection().toString():""}static get(){return window.getSelection()}static setCursor(e,t=0){const i=document.createRange(),r=window.getSelection();return Y.isNativeInput(e)?Y.canSetCaret(e)?(e.focus(),e.selectionStart=e.selectionEnd=t,e.getBoundingClientRect()):void 0:(i.setStart(e,t),i.setEnd(e,t),r.removeAllRanges(),r.addRange(i),i.getBoundingClientRect())}static isRangeInsideContainer(e){const t=Mo.range;return t===null?!1:e.contains(t.startContainer)}static addFakeCursor(){const e=Mo.range;if(e===null)return;const t=Y.make("span","codex-editor__fake-cursor");t.dataset.mutationFree="true",e.collapse(),e.insertNode(t)}static isFakeCursorInsideContainer(e){return Y.find(e,".codex-editor__fake-cursor")!==null}static removeFakeCursor(e=document.body){const t=Y.find(e,".codex-editor__fake-cursor");t&&t.remove()}removeFakeBackground(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}setFakeBackground(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0}save(){this.savedSelectionRange=Mo.range}restore(){if(!this.savedSelectionRange)return;const e=window.getSelection();e.removeAllRanges(),e.addRange(this.savedSelectionRange)}clearSaved(){this.savedSelectionRange=null}collapseToEnd(){const e=window.getSelection(),t=document.createRange();t.selectNodeContents(e.focusNode),t.collapse(!1),e.removeAllRanges(),e.addRange(t)}findParentTag(e,t,i=10){const r=window.getSelection();let a=null;return!r||!r.anchorNode||!r.focusNode?null:([r.anchorNode,r.focusNode].forEach(l=>{let u=i;for(;u>0&&l.parentNode&&!(l.tagName===e&&(a=l,t&&l.classList&&!l.classList.contains(t)&&(a=null),a));)l=l.parentNode,u--}),a)}expandToTag(e){const t=window.getSelection();t.removeAllRanges();const i=document.createRange();i.selectNodeContents(e),t.addRange(i)}};function E2(n,e){const{type:t,target:i,addedNodes:r,removedNodes:a}=n;return n.type==="attributes"&&n.attributeName==="data-empty"?!1:!!(e.contains(i)||t==="childList"&&(Array.from(r).some(l=>l===e)||Array.from(a).some(l=>l===e)))}const Fc="redactor dom changed",Zg="block changed",Jg="fake cursor is about to be toggled",Qg="fake cursor have been set",Wr="editor mobile layout toggled";function em(n,e){if(!n.conversionConfig)return!1;const t=n.conversionConfig[e];return bt(t)||mo(t)}function ha(n,e){return em(n.tool,e)}function tm(n,e){return Object.entries(n).some(([t,i])=>e[t]&&b2(e[t],i))}async function nm(n,e){const t=(await n.save()).data;return e.reduce((i,r)=>{if(!em(r,"import"))return i;const a=r.toolbox.filter(l=>{if(An(l)||!l.icon)return!1;if(l.data!==void 0){if(tm(l.data,t))return!1}else if(r.name===n.name)return!1;return!0});return i.push({...r,toolbox:a}),i},[])}function sp(n,e){return n.mergeable?n.name===e.name?!0:ha(e,"export")&&ha(n,"import"):!1}function S2(n,e){const t=e==null?void 0:e.export;return bt(t)?t(n):mo(t)?n[t]:(t!==void 0&&ot("Conversion «export» property must be a string or function. String means key of saved data object to export. Function should export processed string to export."),"")}function ap(n,e){const t=e==null?void 0:e.import;return bt(t)?t(n):mo(t)?{[t]:n}:(t!==void 0&&ot("Conversion «import» property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data."),{})}var gt=(n=>(n.Default="default",n.Separator="separator",n.Html="html",n))(gt||{}),uo=(n=>(n.APPEND_CALLBACK="appendCallback",n.RENDERED="rendered",n.MOVED="moved",n.UPDATED="updated",n.REMOVED="removed",n.ON_PASTE="onPaste",n))(uo||{});let fo=class Oo extends Zr{constructor({id:e=g2(),data:t,tool:i,readOnly:r,tunesData:a},l){super(),this.cachedInputs=[],this.toolRenderedElement=null,this.tunesInstances=new Map,this.defaultTunesInstances=new Map,this.unavailableTunesData={},this.inputIndex=0,this.editorEventBus=null,this.handleFocus=()=>{this.dropInputsCache(),this.updateCurrentInput()},this.didMutated=(u=void 0)=>{const d=u===void 0,h=u instanceof InputEvent;!d&&!h&&this.detectToolRootChange(u);let g;d||h?g=!0:g=!(u.length>0&&u.every(p=>{const{addedNodes:m,removedNodes:k,target:v}=p;return[...Array.from(m),...Array.from(k),v].some(b=>(Y.isElement(b)||(b=b.parentElement),b&&b.closest('[data-mutation-free="true"]')!==null))})),g&&(this.dropInputsCache(),this.updateCurrentInput(),this.toggleInputsEmptyMark(),this.call("updated"),this.emit("didMutated",this))},this.name=i.name,this.id=e,this.settings=i.settings,this.config=i.settings.config||{},this.editorEventBus=l||null,this.blockAPI=new co(this),this.tool=i,this.toolInstance=i.create(t,this.blockAPI,r),this.tunes=i.tunes,this.composeTunes(a),this.holder=this.compose(),window.requestIdleCallback(()=>{this.watchBlockMutations(),this.addInputEvents(),this.toggleInputsEmptyMark()})}static get CSS(){return{wrapper:"ce-block",wrapperStretched:"ce-block--stretched",content:"ce-block__content",selected:"ce-block--selected",dropTarget:"ce-block--drop-target"}}get inputs(){if(this.cachedInputs.length!==0)return this.cachedInputs;const e=Y.findAllInputs(this.holder);return this.inputIndex>e.length-1&&(this.inputIndex=e.length-1),this.cachedInputs=e,e}get currentInput(){return this.inputs[this.inputIndex]}set currentInput(e){const t=this.inputs.findIndex(i=>i===e||i.contains(e));t!==-1&&(this.inputIndex=t)}get firstInput(){return this.inputs[0]}get lastInput(){const e=this.inputs;return e[e.length-1]}get nextInput(){return this.inputs[this.inputIndex+1]}get previousInput(){return this.inputs[this.inputIndex-1]}get data(){return this.save().then(e=>e&&!An(e.data)?e.data:{})}get sanitize(){return this.tool.sanitizeConfig}get mergeable(){return bt(this.toolInstance.merge)}get focusable(){return this.inputs.length!==0}get isEmpty(){const e=Y.isEmpty(this.pluginsContent,"/"),t=!this.hasMedia;return e&&t}get hasMedia(){const e=["img","iframe","video","audio","source","input","textarea","twitterwidget"];return!!this.holder.querySelector(e.join(","))}set selected(e){var t,i;this.holder.classList.toggle(Oo.CSS.selected,e);const r=e===!0&&Ae.isRangeInsideContainer(this.holder),a=e===!1&&Ae.isFakeCursorInsideContainer(this.holder);(r||a)&&((t=this.editorEventBus)==null||t.emit(Jg,{state:e}),r?Ae.addFakeCursor():Ae.removeFakeCursor(this.holder),(i=this.editorEventBus)==null||i.emit(Qg,{state:e}))}get selected(){return this.holder.classList.contains(Oo.CSS.selected)}set stretched(e){this.holder.classList.toggle(Oo.CSS.wrapperStretched,e)}get stretched(){return this.holder.classList.contains(Oo.CSS.wrapperStretched)}set dropTarget(e){this.holder.classList.toggle(Oo.CSS.dropTarget,e)}get pluginsContent(){return this.toolRenderedElement}call(e,t){if(bt(this.toolInstance[e])){e==="appendCallback"&&ot("`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead","warn");try{this.toolInstance[e].call(this.toolInstance,t)}catch(i){ot(`Error during '${e}' call: ${i.message}`,"error")}}}async mergeWith(e){await this.toolInstance.merge(e)}async save(){const e=await this.toolInstance.save(this.pluginsContent),t=this.unavailableTunesData;[...this.tunesInstances.entries(),...this.defaultTunesInstances.entries()].forEach(([a,l])=>{if(bt(l.save))try{t[a]=l.save()}catch(u){ot(`Tune ${l.constructor.name} save method throws an Error %o`,"warn",u)}});const i=window.performance.now();let r;return Promise.resolve(e).then(a=>(r=window.performance.now(),{id:this.id,tool:this.name,data:a,tunes:t,time:r-i})).catch(a=>{ot(`Saving process for ${this.name} tool failed due to the ${a}`,"log","red")})}async validate(e){let t=!0;return this.toolInstance.validate instanceof Function&&(t=await this.toolInstance.validate(e)),t}getTunes(){const e=[],t=[],i=typeof this.toolInstance.renderSettings=="function"?this.toolInstance.renderSettings():[];return Y.isElement(i)?e.push({type:gt.Html,element:i}):Array.isArray(i)?e.push(...i):e.push(i),[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].map(r=>r.render()).forEach(r=>{Y.isElement(r)?t.push({type:gt.Html,element:r}):Array.isArray(r)?t.push(...r):t.push(r)}),{toolTunes:e,commonTunes:t}}updateCurrentInput(){this.currentInput=Y.isNativeInput(document.activeElement)||!Ae.anchorNode?document.activeElement:Ae.anchorNode}dispatchChange(){this.didMutated()}destroy(){this.unwatchBlockMutations(),this.removeInputEvents(),super.destroy(),bt(this.toolInstance.destroy)&&this.toolInstance.destroy()}async getActiveToolboxEntry(){const e=this.tool.toolbox;if(e.length===1)return Promise.resolve(this.tool.toolbox[0]);const t=await this.data,i=e;return i==null?void 0:i.find(r=>tm(r.data,t))}async exportDataAsString(){const e=await this.data;return S2(e,this.tool.conversionConfig)}compose(){const e=Y.make("div",Oo.CSS.wrapper),t=Y.make("div",Oo.CSS.content),i=this.toolInstance.render();e.dataset.id=this.id,this.toolRenderedElement=i,t.appendChild(this.toolRenderedElement);let r=t;return[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].forEach(a=>{if(bt(a.wrap))try{r=a.wrap(r)}catch(l){ot(`Tune ${a.constructor.name} wrap method throws an Error %o`,"warn",l)}}),e.appendChild(r),e}composeTunes(e){Array.from(this.tunes.values()).forEach(t=>{(t.isInternal?this.defaultTunesInstances:this.tunesInstances).set(t.name,t.create(e[t.name],this.blockAPI))}),Object.entries(e).forEach(([t,i])=>{this.tunesInstances.has(t)||(this.unavailableTunesData[t]=i)})}addInputEvents(){this.inputs.forEach(e=>{e.addEventListener("focus",this.handleFocus),Y.isNativeInput(e)&&e.addEventListener("input",this.didMutated)})}removeInputEvents(){this.inputs.forEach(e=>{e.removeEventListener("focus",this.handleFocus),Y.isNativeInput(e)&&e.removeEventListener("input",this.didMutated)})}watchBlockMutations(){var e;this.redactorDomChangedCallback=t=>{const{mutations:i}=t;i.some(r=>E2(r,this.toolRenderedElement))&&this.didMutated(i)},(e=this.editorEventBus)==null||e.on(Fc,this.redactorDomChangedCallback)}unwatchBlockMutations(){var e;(e=this.editorEventBus)==null||e.off(Fc,this.redactorDomChangedCallback)}detectToolRootChange(e){e.forEach(t=>{if(Array.from(t.removedNodes).includes(this.toolRenderedElement)){const i=t.addedNodes[t.addedNodes.length-1];this.toolRenderedElement=i}})}dropInputsCache(){this.cachedInputs=[]}toggleInputsEmptyMark(){this.inputs.forEach(Vg)}};class T2 extends Ye{constructor(){super(...arguments),this.insert=(e=this.config.defaultBlock,t={},i={},r,a,l,u)=>{const d=this.Editor.BlockManager.insert({id:u,tool:e,data:t,index:r,needToFocus:a,replace:l});return new co(d)},this.composeBlockData=async e=>{const t=this.Editor.Tools.blockTools.get(e);return new fo({tool:t,api:this.Editor.API,readOnly:!0,data:{},tunesData:{}}).data},this.update=async(e,t,i)=>{const{BlockManager:r}=this.Editor,a=r.getBlockById(e);if(a===void 0)throw new Error(`Block with id "${e}" not found`);const l=await r.update(a,t,i);return new co(l)},this.convert=async(e,t,i)=>{var r,a;const{BlockManager:l,Tools:u}=this.Editor,d=l.getBlockById(e);if(!d)throw new Error(`Block with id "${e}" not found`);const h=u.blockTools.get(d.name),g=u.blockTools.get(t);if(!g)throw new Error(`Block Tool with type "${t}" not found`);const p=((r=h==null?void 0:h.conversionConfig)==null?void 0:r.export)!==void 0,m=((a=g.conversionConfig)==null?void 0:a.import)!==void 0;if(p&&m){const k=await l.convert(d,t,i);return new co(k)}else{const k=[p?!1:da(d.name),m?!1:da(t)].filter(Boolean).join(" and ");throw new Error(`Conversion from "${d.name}" to "${t}" is not possible. ${k} tool(s) should provide a "conversionConfig"`)}},this.insertMany=(e,t=this.Editor.BlockManager.blocks.length-1)=>{this.validateIndex(t);const i=e.map(({id:r,type:a,data:l})=>this.Editor.BlockManager.composeBlock({id:r,tool:a||this.config.defaultBlock,data:l}));return this.Editor.BlockManager.insertMany(i,t),i.map(r=>new co(r))}}get methods(){return{clear:()=>this.clear(),render:e=>this.render(e),renderFromHTML:e=>this.renderFromHTML(e),delete:e=>this.delete(e),swap:(e,t)=>this.swap(e,t),move:(e,t)=>this.move(e,t),getBlockByIndex:e=>this.getBlockByIndex(e),getById:e=>this.getById(e),getCurrentBlockIndex:()=>this.getCurrentBlockIndex(),getBlockIndex:e=>this.getBlockIndex(e),getBlocksCount:()=>this.getBlocksCount(),getBlockByElement:e=>this.getBlockByElement(e),stretchBlock:(e,t=!0)=>this.stretchBlock(e,t),insertNewBlock:()=>this.insertNewBlock(),insert:this.insert,insertMany:this.insertMany,update:this.update,composeBlockData:this.composeBlockData,convert:this.convert}}getBlocksCount(){return this.Editor.BlockManager.blocks.length}getCurrentBlockIndex(){return this.Editor.BlockManager.currentBlockIndex}getBlockIndex(e){const t=this.Editor.BlockManager.getBlockById(e);if(!t){Tn("There is no block with id `"+e+"`","warn");return}return this.Editor.BlockManager.getBlockIndex(t)}getBlockByIndex(e){const t=this.Editor.BlockManager.getBlockByIndex(e);if(t===void 0){Tn("There is no block at index `"+e+"`","warn");return}return new co(t)}getById(e){const t=this.Editor.BlockManager.getBlockById(e);return t===void 0?(Tn("There is no block with id `"+e+"`","warn"),null):new co(t)}getBlockByElement(e){const t=this.Editor.BlockManager.getBlock(e);if(t===void 0){Tn("There is no block corresponding to element `"+e+"`","warn");return}return new co(t)}swap(e,t){ot("`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead","info"),this.Editor.BlockManager.swap(e,t)}move(e,t){this.Editor.BlockManager.move(e,t)}delete(e=this.Editor.BlockManager.currentBlockIndex){try{const t=this.Editor.BlockManager.getBlockByIndex(e);this.Editor.BlockManager.removeBlock(t)}catch(t){Tn(t,"warn");return}this.Editor.BlockManager.blocks.length===0&&this.Editor.BlockManager.insert(),this.Editor.BlockManager.currentBlock&&this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END),this.Editor.Toolbar.close()}async clear(){await this.Editor.BlockManager.clear(!0),this.Editor.InlineToolbar.close()}async render(e){if(e===void 0||e.blocks===void 0)throw new Error("Incorrect data passed to the render() method");this.Editor.ModificationsObserver.disable(),await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(e.blocks),this.Editor.ModificationsObserver.enable()}renderFromHTML(e){return this.Editor.BlockManager.clear(),this.Editor.Paste.processText(e,!0)}stretchBlock(e,t=!0){Nc(!0,"blocks.stretchBlock()","BlockAPI");const i=this.Editor.BlockManager.getBlockByIndex(e);i&&(i.stretched=t)}insertNewBlock(){ot("Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.","warn"),this.insert()}validateIndex(e){if(typeof e!="number")throw new Error("Index should be a number");if(e<0)throw new Error("Index should be greater than or equal to 0");if(e===null)throw new Error("Index should be greater than or equal to 0")}}function B2(n,e){return typeof n=="number"?e.BlockManager.getBlockByIndex(n):typeof n=="string"?e.BlockManager.getBlockById(n):e.BlockManager.getBlockById(n.id)}class I2 extends Ye{constructor(){super(...arguments),this.setToFirstBlock=(e=this.Editor.Caret.positions.DEFAULT,t=0)=>this.Editor.BlockManager.firstBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.firstBlock,e,t),!0):!1,this.setToLastBlock=(e=this.Editor.Caret.positions.DEFAULT,t=0)=>this.Editor.BlockManager.lastBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.lastBlock,e,t),!0):!1,this.setToPreviousBlock=(e=this.Editor.Caret.positions.DEFAULT,t=0)=>this.Editor.BlockManager.previousBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.previousBlock,e,t),!0):!1,this.setToNextBlock=(e=this.Editor.Caret.positions.DEFAULT,t=0)=>this.Editor.BlockManager.nextBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.nextBlock,e,t),!0):!1,this.setToBlock=(e,t=this.Editor.Caret.positions.DEFAULT,i=0)=>{const r=B2(e,this.Editor);return r===void 0?!1:(this.Editor.Caret.setToBlock(r,t,i),!0)},this.focus=(e=!1)=>e?this.setToLastBlock(this.Editor.Caret.positions.END):this.setToFirstBlock(this.Editor.Caret.positions.START)}get methods(){return{setToFirstBlock:this.setToFirstBlock,setToLastBlock:this.setToLastBlock,setToPreviousBlock:this.setToPreviousBlock,setToNextBlock:this.setToNextBlock,setToBlock:this.setToBlock,focus:this.focus}}}class L2 extends Ye{get methods(){return{emit:(e,t)=>this.emit(e,t),off:(e,t)=>this.off(e,t),on:(e,t)=>this.on(e,t)}}on(e,t){this.eventsDispatcher.on(e,t)}emit(e,t){this.eventsDispatcher.emit(e,t)}off(e,t){this.eventsDispatcher.off(e,t)}}class pu extends Ye{static getNamespace(e,t){return t?`blockTunes.${e}`:`tools.${e}`}get methods(){return{t:()=>{Tn("I18n.t() method can be accessed only from Tools","warn")}}}getMethodsForTool(e,t){return Object.assign(this.methods,{t:i=>Vt.t(pu.getNamespace(e,t),i)})}}class A2 extends Ye{get methods(){return{blocks:this.Editor.BlocksAPI.methods,caret:this.Editor.CaretAPI.methods,tools:this.Editor.ToolsAPI.methods,events:this.Editor.EventsAPI.methods,listeners:this.Editor.ListenersAPI.methods,notifier:this.Editor.NotifierAPI.methods,sanitizer:this.Editor.SanitizerAPI.methods,saver:this.Editor.SaverAPI.methods,selection:this.Editor.SelectionAPI.methods,styles:this.Editor.StylesAPI.classes,toolbar:this.Editor.ToolbarAPI.methods,inlineToolbar:this.Editor.InlineToolbarAPI.methods,tooltip:this.Editor.TooltipAPI.methods,i18n:this.Editor.I18nAPI.methods,readOnly:this.Editor.ReadOnlyAPI.methods,ui:this.Editor.UiAPI.methods}}getMethodsForTool(e,t){return Object.assign(this.methods,{i18n:this.Editor.I18nAPI.getMethodsForTool(e,t)})}}class M2 extends Ye{get methods(){return{close:()=>this.close(),open:()=>this.open()}}open(){this.Editor.InlineToolbar.tryToShow()}close(){this.Editor.InlineToolbar.close()}}class O2 extends Ye{get methods(){return{on:(e,t,i,r)=>this.on(e,t,i,r),off:(e,t,i,r)=>this.off(e,t,i,r),offById:e=>this.offById(e)}}on(e,t,i,r){return this.listeners.on(e,t,i,r)}off(e,t,i,r){this.listeners.off(e,t,i,r)}offById(e){this.listeners.offById(e)}}var om={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(window,function(){return function(t){var i={};function r(a){if(i[a])return i[a].exports;var l=i[a]={i:a,l:!1,exports:{}};return t[a].call(l.exports,l,l.exports,r),l.l=!0,l.exports}return r.m=t,r.c=i,r.d=function(a,l,u){r.o(a,l)||Object.defineProperty(a,l,{enumerable:!0,get:u})},r.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},r.t=function(a,l){if(1&l&&(a=r(a)),8&l||4&l&&typeof a=="object"&&a&&a.__esModule)return a;var u=Object.create(null);if(r.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:a}),2&l&&typeof a!="string")for(var d in a)r.d(u,d,(function(h){return a[h]}).bind(null,d));return u},r.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return r.d(l,"a",l),l},r.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},r.p="/",r(r.s=0)}([function(t,i,r){r(1),t.exports=function(){var a=r(6),l="cdx-notify--bounce-in",u=null;return{show:function(d){if(d.message){(function(){if(u)return!0;u=a.getWrapper(),document.body.appendChild(u)})();var h=null,g=d.time||8e3;switch(d.type){case"confirm":h=a.confirm(d);break;case"prompt":h=a.prompt(d);break;default:h=a.alert(d),window.setTimeout(function(){h.remove()},g)}u.appendChild(h),h.classList.add(l)}}}}()},function(t,i,r){var a=r(2);typeof a=="string"&&(a=[[t.i,a,""]]);var l={hmr:!0,transform:void 0,insertInto:void 0};r(4)(a,l),a.locals&&(t.exports=a.locals)},function(t,i,r){(t.exports=r(3)(!1)).push([t.i,`.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:'';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:'';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}`,""])},function(t,i){t.exports=function(r){var a=[];return a.toString=function(){return this.map(function(l){var u=function(d,h){var g=d[1]||"",p=d[3];if(!p)return g;if(h&&typeof btoa=="function"){var m=(v=p,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(v))))+" */"),k=p.sources.map(function(b){return"/*# sourceURL="+p.sourceRoot+b+" */"});return[g].concat(k).concat([m]).join(`
`)}var v;return[g].join(`
`)}(l,r);return l[2]?"@media "+l[2]+"{"+u+"}":u}).join("")},a.i=function(l,u){typeof l=="string"&&(l=[[null,l,""]]);for(var d={},h=0;h<this.length;h++){var g=this[h][0];typeof g=="number"&&(d[g]=!0)}for(h=0;h<l.length;h++){var p=l[h];typeof p[0]=="number"&&d[p[0]]||(u&&!p[2]?p[2]=u:u&&(p[2]="("+p[2]+") and ("+u+")"),a.push(p))}},a}},function(t,i,r){var a,l,u={},d=(a=function(){return window&&document&&document.all&&!window.atob},function(){return l===void 0&&(l=a.apply(this,arguments)),l}),h=function(T){var I={};return function(F){if(typeof F=="function")return F();if(I[F]===void 0){var W=(function(z){return document.querySelector(z)}).call(this,F);if(window.HTMLIFrameElement&&W instanceof window.HTMLIFrameElement)try{W=W.contentDocument.head}catch{W=null}I[F]=W}return I[F]}}(),g=null,p=0,m=[],k=r(5);function v(T,I){for(var F=0;F<T.length;F++){var W=T[F],z=u[W.id];if(z){z.refs++;for(var Z=0;Z<z.parts.length;Z++)z.parts[Z](W.parts[Z]);for(;Z<W.parts.length;Z++)z.parts.push(M(W.parts[Z],I))}else{var he=[];for(Z=0;Z<W.parts.length;Z++)he.push(M(W.parts[Z],I));u[W.id]={id:W.id,refs:1,parts:he}}}}function b(T,I){for(var F=[],W={},z=0;z<T.length;z++){var Z=T[z],he=I.base?Z[0]+I.base:Z[0],oe={css:Z[1],media:Z[2],sourceMap:Z[3]};W[he]?W[he].parts.push(oe):F.push(W[he]={id:he,parts:[oe]})}return F}function w(T,I){var F=h(T.insertInto);if(!F)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var W=m[m.length-1];if(T.insertAt==="top")W?W.nextSibling?F.insertBefore(I,W.nextSibling):F.appendChild(I):F.insertBefore(I,F.firstChild),m.push(I);else if(T.insertAt==="bottom")F.appendChild(I);else{if(typeof T.insertAt!="object"||!T.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var z=h(T.insertInto+" "+T.insertAt.before);F.insertBefore(I,z)}}function _(T){if(T.parentNode===null)return!1;T.parentNode.removeChild(T);var I=m.indexOf(T);I>=0&&m.splice(I,1)}function E(T){var I=document.createElement("style");return T.attrs.type===void 0&&(T.attrs.type="text/css"),S(I,T.attrs),w(T,I),I}function S(T,I){Object.keys(I).forEach(function(F){T.setAttribute(F,I[F])})}function M(T,I){var F,W,z,Z;if(I.transform&&T.css){if(!(Z=I.transform(T.css)))return function(){};T.css=Z}if(I.singleton){var he=p++;F=g||(g=E(I)),W=U.bind(null,F,he,!1),z=U.bind(null,F,he,!0)}else T.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(F=function(oe){var me=document.createElement("link");return oe.attrs.type===void 0&&(oe.attrs.type="text/css"),oe.attrs.rel="stylesheet",S(me,oe.attrs),w(oe,me),me}(I),W=(function(oe,me,we){var J=we.css,ae=we.sourceMap,pe=me.convertToAbsoluteUrls===void 0&&ae;(me.convertToAbsoluteUrls||pe)&&(J=k(J)),ae&&(J+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(ae))))+" */");var _e=new Blob([J],{type:"text/css"}),Be=oe.href;oe.href=URL.createObjectURL(_e),Be&&URL.revokeObjectURL(Be)}).bind(null,F,I),z=function(){_(F),F.href&&URL.revokeObjectURL(F.href)}):(F=E(I),W=(function(oe,me){var we=me.css,J=me.media;if(J&&oe.setAttribute("media",J),oe.styleSheet)oe.styleSheet.cssText=we;else{for(;oe.firstChild;)oe.removeChild(oe.firstChild);oe.appendChild(document.createTextNode(we))}}).bind(null,F),z=function(){_(F)});return W(T),function(oe){if(oe){if(oe.css===T.css&&oe.media===T.media&&oe.sourceMap===T.sourceMap)return;W(T=oe)}else z()}}t.exports=function(T,I){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(I=I||{}).attrs=typeof I.attrs=="object"?I.attrs:{},I.singleton||typeof I.singleton=="boolean"||(I.singleton=d()),I.insertInto||(I.insertInto="head"),I.insertAt||(I.insertAt="bottom");var F=b(T,I);return v(F,I),function(W){for(var z=[],Z=0;Z<F.length;Z++){var he=F[Z];(oe=u[he.id]).refs--,z.push(oe)}for(W&&v(b(W,I),I),Z=0;Z<z.length;Z++){var oe;if((oe=z[Z]).refs===0){for(var me=0;me<oe.parts.length;me++)oe.parts[me]();delete u[oe.id]}}}};var O,P=(O=[],function(T,I){return O[T]=I,O.filter(Boolean).join(`
`)});function U(T,I,F,W){var z=F?"":W.css;if(T.styleSheet)T.styleSheet.cssText=P(I,z);else{var Z=document.createTextNode(z),he=T.childNodes;he[I]&&T.removeChild(he[I]),he.length?T.insertBefore(Z,he[I]):T.appendChild(Z)}}},function(t,i){t.exports=function(r){var a=typeof window<"u"&&window.location;if(!a)throw new Error("fixUrls requires window.location");if(!r||typeof r!="string")return r;var l=a.protocol+"//"+a.host,u=l+a.pathname.replace(/\/[^\/]*$/,"/");return r.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(d,h){var g,p=h.trim().replace(/^"(.*)"$/,function(m,k){return k}).replace(/^'(.*)'$/,function(m,k){return k});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(p)?d:(g=p.indexOf("//")===0?p:p.indexOf("/")===0?l+p:u+p.replace(/^\.\//,""),"url("+JSON.stringify(g)+")")})}},function(t,i,r){var a,l,u,d,h,g,p,m,k;t.exports=(a="cdx-notifies",l="cdx-notify",u="cdx-notify__cross",d="cdx-notify__button--confirm",h="cdx-notify__button--cancel",g="cdx-notify__input",p="cdx-notify__button",m="cdx-notify__btns-wrapper",{alert:k=function(v){var b=document.createElement("DIV"),w=document.createElement("DIV"),_=v.message,E=v.style;return b.classList.add(l),E&&b.classList.add(l+"--"+E),b.innerHTML=_,w.classList.add(u),w.addEventListener("click",b.remove.bind(b)),b.appendChild(w),b},confirm:function(v){var b=k(v),w=document.createElement("div"),_=document.createElement("button"),E=document.createElement("button"),S=b.querySelector("."+u),M=v.cancelHandler,O=v.okHandler;return w.classList.add(m),_.innerHTML=v.okText||"Confirm",E.innerHTML=v.cancelText||"Cancel",_.classList.add(p),E.classList.add(p),_.classList.add(d),E.classList.add(h),M&&typeof M=="function"&&(E.addEventListener("click",M),S.addEventListener("click",M)),O&&typeof O=="function"&&_.addEventListener("click",O),_.addEventListener("click",b.remove.bind(b)),E.addEventListener("click",b.remove.bind(b)),w.appendChild(_),w.appendChild(E),b.appendChild(w),b},prompt:function(v){var b=k(v),w=document.createElement("div"),_=document.createElement("button"),E=document.createElement("input"),S=b.querySelector("."+u),M=v.cancelHandler,O=v.okHandler;return w.classList.add(m),_.innerHTML=v.okText||"Ok",_.classList.add(p),_.classList.add(d),E.classList.add(g),v.placeholder&&E.setAttribute("placeholder",v.placeholder),v.default&&(E.value=v.default),v.inputType&&(E.type=v.inputType),M&&typeof M=="function"&&S.addEventListener("click",M),O&&typeof O=="function"&&_.addEventListener("click",function(){O(E.value)}),_.addEventListener("click",b.remove.bind(b)),w.appendChild(E),w.appendChild(_),b.appendChild(w),b},getWrapper:function(){var v=document.createElement("DIV");return v.classList.add(a),v}})}])})})(om);var R2=om.exports;const P2=Pa(R2);class N2{show(e){P2.show(e)}}class D2 extends Ye{constructor({config:e,eventsDispatcher:t}){super({config:e,eventsDispatcher:t}),this.notifier=new N2}get methods(){return{show:e=>this.show(e)}}show(e){return this.notifier.show(e)}}class F2 extends Ye{get methods(){const e=()=>this.isEnabled;return{toggle:t=>this.toggle(t),get isEnabled(){return e()}}}toggle(e){return this.Editor.ReadOnly.toggle(e)}get isEnabled(){return this.Editor.ReadOnly.isEnabled}}var im={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(r2,function(){function t(p){var m=p.tags,k=Object.keys(m),v=k.map(function(b){return typeof m[b]}).every(function(b){return b==="object"||b==="boolean"||b==="function"});if(!v)throw new Error("The configuration was invalid");this.config=p}var i=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"];function r(p){return i.indexOf(p.nodeName)!==-1}var a=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];function l(p){return a.indexOf(p.nodeName)!==-1}t.prototype.clean=function(p){const m=document.implementation.createHTMLDocument(),k=m.createElement("div");return k.innerHTML=p,this._sanitize(m,k),k.innerHTML},t.prototype._sanitize=function(p,m){var k=u(p,m),v=k.firstChild();if(v)do{if(v.nodeType===Node.TEXT_NODE)if(v.data.trim()===""&&(v.previousElementSibling&&r(v.previousElementSibling)||v.nextElementSibling&&r(v.nextElementSibling))){m.removeChild(v),this._sanitize(p,m);break}else continue;if(v.nodeType===Node.COMMENT_NODE){m.removeChild(v),this._sanitize(p,m);break}var b=l(v),w;b&&(w=Array.prototype.some.call(v.childNodes,r));var _=!!m.parentNode,E=r(m)&&r(v)&&_,S=v.nodeName.toLowerCase(),M=d(this.config,S,v),O=b&&w;if(O||h(v,M)||!this.config.keepNestedBlockElements&&E){if(!(v.nodeName==="SCRIPT"||v.nodeName==="STYLE"))for(;v.childNodes.length>0;)m.insertBefore(v.childNodes[0],v);m.removeChild(v),this._sanitize(p,m);break}for(var P=0;P<v.attributes.length;P+=1){var U=v.attributes[P];g(U,M,v)&&(v.removeAttribute(U.name),P=P-1)}this._sanitize(p,v)}while(v=k.nextSibling())};function u(p,m){return p.createTreeWalker(m,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}function d(p,m,k){return typeof p.tags[m]=="function"?p.tags[m](k):p.tags[m]}function h(p,m){return typeof m>"u"?!0:typeof m=="boolean"?!m:!1}function g(p,m,k){var v=p.name.toLowerCase();return m===!0?!1:typeof m[v]=="function"?!m[v](p.value,k):typeof m[v]>"u"||m[v]===!1?!0:typeof m[v]=="string"?m[v]!==p.value:!1}return t})})(im);var H2=im.exports;const U2=Pa(H2);function gu(n,e){return n.map(t=>{const i=bt(e)?e(t.tool):e;return An(i)||(t.data=mu(t.data,i)),t})}function Xn(n,e={}){const t={tags:e};return new U2(t).clean(n)}function mu(n,e){return Array.isArray(n)?z2(n,e):Pt(n)?$2(n,e):mo(n)?j2(n,e):n}function z2(n,e){return n.map(t=>mu(t,e))}function $2(n,e){const t={};for(const i in n){if(!Object.prototype.hasOwnProperty.call(n,i))continue;const r=n[i],a=W2(e[i])?e[i]:e;t[i]=mu(r,a)}return t}function j2(n,e){return Pt(e)?Xn(n,e):e===!1?Xn(n,{}):n}function W2(n){return Pt(n)||c2(n)||bt(n)}class q2 extends Ye{get methods(){return{clean:(e,t)=>this.clean(e,t)}}clean(e,t){return Xn(e,t)}}class V2 extends Ye{get methods(){return{save:()=>this.save()}}save(){const e="Editor's content can not be saved in read-only mode";return this.Editor.ReadOnly.isEnabled?(Tn(e,"warn"),Promise.reject(new Error(e))):this.Editor.Saver.save()}}class K2 extends Ye{constructor(){super(...arguments),this.selectionUtils=new Ae}get methods(){return{findParentTag:(e,t)=>this.findParentTag(e,t),expandToTag:e=>this.expandToTag(e),save:()=>this.selectionUtils.save(),restore:()=>this.selectionUtils.restore(),setFakeBackground:()=>this.selectionUtils.setFakeBackground(),removeFakeBackground:()=>this.selectionUtils.removeFakeBackground()}}findParentTag(e,t){return this.selectionUtils.findParentTag(e,t)}expandToTag(e){this.selectionUtils.expandToTag(e)}}class G2 extends Ye{get methods(){return{getBlockTools:()=>Array.from(this.Editor.Tools.blockTools.values())}}}class Y2 extends Ye{get classes(){return{block:"cdx-block",inlineToolButton:"ce-inline-tool",inlineToolButtonActive:"ce-inline-tool--active",input:"cdx-input",loader:"cdx-loader",button:"cdx-button",settingsButton:"cdx-settings-button",settingsButtonActive:"cdx-settings-button--active"}}}class X2 extends Ye{get methods(){return{close:()=>this.close(),open:()=>this.open(),toggleBlockSettings:e=>this.toggleBlockSettings(e),toggleToolbox:e=>this.toggleToolbox(e)}}open(){this.Editor.Toolbar.moveAndOpen()}close(){this.Editor.Toolbar.close()}toggleBlockSettings(e){if(this.Editor.BlockManager.currentBlockIndex===-1){Tn("Could't toggle the Toolbar because there is no block selected ","warn");return}e??!this.Editor.BlockSettings.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.open()):this.Editor.BlockSettings.close()}toggleToolbox(e){if(this.Editor.BlockManager.currentBlockIndex===-1){Tn("Could't toggle the Toolbox because there is no block selected ","warn");return}e??!this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()):this.Editor.Toolbar.toolbox.close()}}var rm={exports:{}};/*!
 * CodeX.Tooltips
 * 
 * @version 1.0.5
 * 
 * @licence MIT
 * @author CodeX <https://codex.so>
 * 
 * 
 */(function(n,e){(function(t,i){n.exports=i()})(window,function(){return function(t){var i={};function r(a){if(i[a])return i[a].exports;var l=i[a]={i:a,l:!1,exports:{}};return t[a].call(l.exports,l,l.exports,r),l.l=!0,l.exports}return r.m=t,r.c=i,r.d=function(a,l,u){r.o(a,l)||Object.defineProperty(a,l,{enumerable:!0,get:u})},r.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},r.t=function(a,l){if(1&l&&(a=r(a)),8&l||4&l&&typeof a=="object"&&a&&a.__esModule)return a;var u=Object.create(null);if(r.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:a}),2&l&&typeof a!="string")for(var d in a)r.d(u,d,(function(h){return a[h]}).bind(null,d));return u},r.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return r.d(l,"a",l),l},r.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},r.p="",r(r.s=0)}([function(t,i,r){t.exports=r(1)},function(t,i,r){r.r(i),r.d(i,"default",function(){return a});class a{constructor(){this.nodes={wrapper:null,content:null},this.showed=!1,this.offsetTop=10,this.offsetLeft=10,this.offsetRight=10,this.hidingDelay=0,this.handleWindowScroll=()=>{this.showed&&this.hide(!0)},this.loadStyles(),this.prepare(),window.addEventListener("scroll",this.handleWindowScroll,{passive:!0})}get CSS(){return{tooltip:"ct",tooltipContent:"ct__content",tooltipShown:"ct--shown",placement:{left:"ct--left",bottom:"ct--bottom",right:"ct--right",top:"ct--top"}}}show(u,d,h){this.nodes.wrapper||this.prepare(),this.hidingTimeout&&clearTimeout(this.hidingTimeout);const g=Object.assign({placement:"bottom",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,delay:70,hidingDelay:0},h);if(g.hidingDelay&&(this.hidingDelay=g.hidingDelay),this.nodes.content.innerHTML="",typeof d=="string")this.nodes.content.appendChild(document.createTextNode(d));else{if(!(d instanceof Node))throw Error("[CodeX Tooltip] Wrong type of «content» passed. It should be an instance of Node or String. But "+typeof d+" given.");this.nodes.content.appendChild(d)}switch(this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)),g.placement){case"top":this.placeTop(u,g);break;case"left":this.placeLeft(u,g);break;case"right":this.placeRight(u,g);break;case"bottom":default:this.placeBottom(u,g)}g&&g.delay?this.showingTimeout=setTimeout(()=>{this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0},g.delay):(this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0)}hide(u=!1){if(this.hidingDelay&&!u)return this.hidingTimeout&&clearTimeout(this.hidingTimeout),void(this.hidingTimeout=setTimeout(()=>{this.hide(!0)},this.hidingDelay));this.nodes.wrapper.classList.remove(this.CSS.tooltipShown),this.showed=!1,this.showingTimeout&&clearTimeout(this.showingTimeout)}onHover(u,d,h){u.addEventListener("mouseenter",()=>{this.show(u,d,h)}),u.addEventListener("mouseleave",()=>{this.hide()})}destroy(){this.nodes.wrapper.remove(),window.removeEventListener("scroll",this.handleWindowScroll)}prepare(){this.nodes.wrapper=this.make("div",this.CSS.tooltip),this.nodes.content=this.make("div",this.CSS.tooltipContent),this.append(this.nodes.wrapper,this.nodes.content),this.append(document.body,this.nodes.wrapper)}loadStyles(){const u="codex-tooltips-style";if(document.getElementById(u))return;const d=r(2),h=this.make("style",null,{textContent:d.toString(),id:u});this.prepend(document.head,h)}placeBottom(u,d){const h=u.getBoundingClientRect(),g=h.left+u.clientWidth/2-this.nodes.wrapper.offsetWidth/2,p=h.bottom+window.pageYOffset+this.offsetTop+d.marginTop;this.applyPlacement("bottom",g,p)}placeTop(u,d){const h=u.getBoundingClientRect(),g=h.left+u.clientWidth/2-this.nodes.wrapper.offsetWidth/2,p=h.top+window.pageYOffset-this.nodes.wrapper.clientHeight-this.offsetTop;this.applyPlacement("top",g,p)}placeLeft(u,d){const h=u.getBoundingClientRect(),g=h.left-this.nodes.wrapper.offsetWidth-this.offsetLeft-d.marginLeft,p=h.top+window.pageYOffset+u.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("left",g,p)}placeRight(u,d){const h=u.getBoundingClientRect(),g=h.right+this.offsetRight+d.marginRight,p=h.top+window.pageYOffset+u.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("right",g,p)}applyPlacement(u,d,h){this.nodes.wrapper.classList.add(this.CSS.placement[u]),this.nodes.wrapper.style.left=d+"px",this.nodes.wrapper.style.top=h+"px"}make(u,d=null,h={}){const g=document.createElement(u);Array.isArray(d)?g.classList.add(...d):d&&g.classList.add(d);for(const p in h)h.hasOwnProperty(p)&&(g[p]=h[p]);return g}append(u,d){Array.isArray(d)?d.forEach(h=>u.appendChild(h)):u.appendChild(d)}prepend(u,d){Array.isArray(d)?(d=d.reverse()).forEach(h=>u.prepend(h)):u.prepend(d)}}},function(t,i){t.exports=`.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}`}]).default})})(rm);var Z2=rm.exports;const J2=Pa(Z2);let Hn=null;function vu(){Hn||(Hn=new J2)}function Q2(n,e,t){vu(),Hn==null||Hn.show(n,e,t)}function fa(n=!1){vu(),Hn==null||Hn.hide(n)}function pa(n,e,t){vu(),Hn==null||Hn.onHover(n,e,t)}function eS(){Hn==null||Hn.destroy(),Hn=null}class tS extends Ye{constructor({config:e,eventsDispatcher:t}){super({config:e,eventsDispatcher:t})}get methods(){return{show:(e,t,i)=>this.show(e,t,i),hide:()=>this.hide(),onHover:(e,t,i)=>this.onHover(e,t,i)}}show(e,t,i){Q2(e,t,i)}hide(){fa()}onHover(e,t,i){pa(e,t,i)}}class nS extends Ye{get methods(){return{nodes:this.editorNodes}}get editorNodes(){return{wrapper:this.Editor.UI.nodes.wrapper,redactor:this.Editor.UI.nodes.redactor}}}function sm(n,e){const t={};return Object.entries(n).forEach(([i,r])=>{if(Pt(r)){const a=e?`${e}.${i}`:i;Object.values(r).every(l=>mo(l))?t[i]=a:t[i]=sm(r,a);return}t[i]=r}),t}const gn=sm(Kg);function oS(n,e){const t={};return Object.keys(n).forEach(i=>{const r=e[i];r!==void 0?t[r]=n[i]:t[i]=n[i]}),t}const am=class Sr{constructor(e,t){this.cursor=-1,this.items=[],this.items=e||[],this.focusedCssClass=t}get currentItem(){return this.cursor===-1?null:this.items[this.cursor]}setCursor(e){e<this.items.length&&e>=-1&&(this.dropCursor(),this.cursor=e,this.items[this.cursor].classList.add(this.focusedCssClass))}setItems(e){this.items=e}next(){this.cursor=this.leafNodesAndReturnIndex(Sr.directions.RIGHT)}previous(){this.cursor=this.leafNodesAndReturnIndex(Sr.directions.LEFT)}dropCursor(){this.cursor!==-1&&(this.items[this.cursor].classList.remove(this.focusedCssClass),this.cursor=-1)}leafNodesAndReturnIndex(e){if(this.items.length===0)return this.cursor;let t=this.cursor;return t===-1?t=e===Sr.directions.RIGHT?-1:0:this.items[t].classList.remove(this.focusedCssClass),e===Sr.directions.RIGHT?t=(t+1)%this.items.length:t=(this.items.length+t-1)%this.items.length,Y.canSetCaret(this.items[t])&&ua(()=>Ae.setCursor(this.items[t]),50)(),this.items[t].classList.add(this.focusedCssClass),t}};am.directions={RIGHT:"right",LEFT:"left"};let yr=am;class mi{constructor(e){this.iterator=null,this.activated=!1,this.flipCallbacks=[],this.onKeyDown=t=>{if(this.isEventReadyForHandling(t))switch(mi.usedKeys.includes(t.keyCode)&&t.preventDefault(),t.keyCode){case Ne.TAB:this.handleTabPress(t);break;case Ne.LEFT:case Ne.UP:this.flipLeft();break;case Ne.RIGHT:case Ne.DOWN:this.flipRight();break;case Ne.ENTER:this.handleEnterPress(t);break}},this.iterator=new yr(e.items,e.focusedItemClass),this.activateCallback=e.activateCallback,this.allowedKeys=e.allowedKeys||mi.usedKeys}get isActivated(){return this.activated}static get usedKeys(){return[Ne.TAB,Ne.LEFT,Ne.RIGHT,Ne.ENTER,Ne.UP,Ne.DOWN]}activate(e,t){this.activated=!0,e&&this.iterator.setItems(e),t!==void 0&&this.iterator.setCursor(t),document.addEventListener("keydown",this.onKeyDown,!0)}deactivate(){this.activated=!1,this.dropCursor(),document.removeEventListener("keydown",this.onKeyDown)}focusFirst(){this.dropCursor(),this.flipRight()}flipLeft(){this.iterator.previous(),this.flipCallback()}flipRight(){this.iterator.next(),this.flipCallback()}hasFocus(){return!!this.iterator.currentItem}onFlip(e){this.flipCallbacks.push(e)}removeOnFlip(e){this.flipCallbacks=this.flipCallbacks.filter(t=>t!==e)}dropCursor(){this.iterator.dropCursor()}isEventReadyForHandling(e){return this.activated&&this.allowedKeys.includes(e.keyCode)}handleTabPress(e){switch(e.shiftKey?yr.directions.LEFT:yr.directions.RIGHT){case yr.directions.RIGHT:this.flipRight();break;case yr.directions.LEFT:this.flipLeft();break}}handleEnterPress(e){this.activated&&(this.iterator.currentItem&&(e.stopPropagation(),e.preventDefault(),this.iterator.currentItem.click()),bt(this.activateCallback)&&this.activateCallback(this.iterator.currentItem))}flipCallback(){this.iterator.currentItem&&this.iterator.currentItem.scrollIntoViewIfNeeded(),this.flipCallbacks.forEach(e=>e())}}const iS='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 12L9 7.1C9 7.04477 9.04477 7 9.1 7H10.4C11.5 7 14 7.1 14 9.5C14 9.5 14 12 11 12M9 12V16.8C9 16.9105 9.08954 17 9.2 17H12.5C14 17 15 16 15 14.5C15 11.7046 11 12 11 12M9 12H11"/></svg>',rS='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10"/></svg>',sS='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.5 17.5L9.64142 12.6414C9.56331 12.5633 9.56331 12.4367 9.64142 12.3586L14.5 7.5"/></svg>',aS='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.58284 17.5L14.4414 12.6414C14.5195 12.5633 14.5195 12.4367 14.4414 12.3586L9.58284 7.5"/></svg>',lS='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 15L11.8586 10.1414C11.9367 10.0633 12.0633 10.0633 12.1414 10.1414L17 15"/></svg>',cS='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',uS='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/></svg>',dS='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13.34 10C12.4223 12.7337 11 17 11 17"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.21 7H14.2"/></svg>',lp='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72"/></svg>',hS='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 7.29999H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 7.29999H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.30999 12H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 12H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 16.7H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 16.7H14.59"/></svg>',fS='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>',lm='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M11.5 17.5L5 11M5 11V15.5M5 11H9.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12.5 6.5L19 13M19 13V8.5M19 13H14.5"/></svg>',pS='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="10.5" cy="10.5" r="5.5" stroke="currentColor" stroke-width="2"/><line x1="15.4142" x2="19" y1="15" y2="18.5858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',gS='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.4701 8.2475 16.5781 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8796 8.49999"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.24517 12.3883C8.24517 12.3883 7.97171 12.6922 7.47504 13.2161C6.58051 14.1598 6.55467 15.6408 7.44666 16.5869V16.5869C8.37653 17.5731 9.93744 17.5961 10.8959 16.6376L12.1452 15.3883"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6.39064 9.03238L7.58432 9.06668C8.17551 9.08366 8.6522 8.58665 8.61056 7.99669L8.5271 6.81397"/><line x1="12.1142" x2="11.7" y1="12.2" y2="11.7858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',mS='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><line x1="12" x2="12" y1="9" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 15.02V15.01"/></svg>',vS="__",bS="--";function Vo(n){return(e,t)=>[[n,e].filter(i=>!!i).join(vS),t].filter(i=>!!i).join(bS)}const wr=Vo("ce-hint"),kr={root:wr(),alignedStart:wr(null,"align-left"),alignedCenter:wr(null,"align-center"),title:wr("title"),description:wr("description")};class yS{constructor(e){this.nodes={root:Y.make("div",[kr.root,e.alignment==="center"?kr.alignedCenter:kr.alignedStart]),title:Y.make("div",kr.title,{textContent:e.title})},this.nodes.root.appendChild(this.nodes.title),e.description!==void 0&&(this.nodes.description=Y.make("div",kr.description,{textContent:e.description}),this.nodes.root.appendChild(this.nodes.description))}getElement(){return this.nodes.root}}class bu{constructor(e){this.params=e}get name(){if(this.params!==void 0&&"name"in this.params)return this.params.name}destroy(){fa()}onChildrenOpen(){var e;this.params!==void 0&&"children"in this.params&&typeof((e=this.params.children)==null?void 0:e.onOpen)=="function"&&this.params.children.onOpen()}onChildrenClose(){var e;this.params!==void 0&&"children"in this.params&&typeof((e=this.params.children)==null?void 0:e.onClose)=="function"&&this.params.children.onClose()}handleClick(){var e,t;this.params!==void 0&&"onActivate"in this.params&&((t=(e=this.params).onActivate)==null||t.call(e,this.params))}addHint(e,t){const i=new yS(t);pa(e,i.getElement(),{placement:t.position,hidingDelay:100})}get children(){var e;return this.params!==void 0&&"children"in this.params&&((e=this.params.children)==null?void 0:e.items)!==void 0?this.params.children.items:[]}get hasChildren(){return this.children.length>0}get isChildrenOpen(){var e;return this.params!==void 0&&"children"in this.params&&((e=this.params.children)==null?void 0:e.isOpen)===!0}get isChildrenFlippable(){var e;return!(this.params===void 0||!("children"in this.params)||((e=this.params.children)==null?void 0:e.isFlippable)===!1)}get isChildrenSearchable(){var e;return this.params!==void 0&&"children"in this.params&&((e=this.params.children)==null?void 0:e.searchable)===!0}get closeOnActivate(){return this.params!==void 0&&"closeOnActivate"in this.params&&this.params.closeOnActivate}get isActive(){return this.params===void 0||!("isActive"in this.params)?!1:typeof this.params.isActive=="function"?this.params.isActive():this.params.isActive===!0}}const dn=Vo("ce-popover-item"),wt={container:dn(),active:dn(null,"active"),disabled:dn(null,"disabled"),focused:dn(null,"focused"),hidden:dn(null,"hidden"),confirmationState:dn(null,"confirmation"),noHover:dn(null,"no-hover"),noFocus:dn(null,"no-focus"),title:dn("title"),secondaryTitle:dn("secondary-title"),icon:dn("icon"),iconTool:dn("icon","tool"),iconChevronRight:dn("icon","chevron-right"),wobbleAnimation:Vo("wobble")()};class di extends bu{constructor(e,t){super(e),this.params=e,this.nodes={root:null,icon:null},this.confirmationState=null,this.removeSpecialFocusBehavior=()=>{var i;(i=this.nodes.root)==null||i.classList.remove(wt.noFocus)},this.removeSpecialHoverBehavior=()=>{var i;(i=this.nodes.root)==null||i.classList.remove(wt.noHover)},this.onErrorAnimationEnd=()=>{var i,r;(i=this.nodes.icon)==null||i.classList.remove(wt.wobbleAnimation),(r=this.nodes.icon)==null||r.removeEventListener("animationend",this.onErrorAnimationEnd)},this.nodes.root=this.make(e,t)}get isDisabled(){return this.params.isDisabled===!0}get toggle(){return this.params.toggle}get title(){return this.params.title}get isConfirmationStateEnabled(){return this.confirmationState!==null}get isFocused(){return this.nodes.root===null?!1:this.nodes.root.classList.contains(wt.focused)}getElement(){return this.nodes.root}handleClick(){if(this.isConfirmationStateEnabled&&this.confirmationState!==null){this.activateOrEnableConfirmationMode(this.confirmationState);return}this.activateOrEnableConfirmationMode(this.params)}toggleActive(e){var t;(t=this.nodes.root)==null||t.classList.toggle(wt.active,e)}toggleHidden(e){var t;(t=this.nodes.root)==null||t.classList.toggle(wt.hidden,e)}reset(){this.isConfirmationStateEnabled&&this.disableConfirmationMode()}onFocus(){this.disableSpecialHoverAndFocusBehavior()}make(e,t){var i,r;const a=(t==null?void 0:t.wrapperTag)||"div",l=Y.make(a,wt.container,{type:a==="button"?"button":void 0});return e.name&&(l.dataset.itemName=e.name),this.nodes.icon=Y.make("div",[wt.icon,wt.iconTool],{innerHTML:e.icon||uS}),l.appendChild(this.nodes.icon),e.title!==void 0&&l.appendChild(Y.make("div",wt.title,{innerHTML:e.title||""})),e.secondaryLabel&&l.appendChild(Y.make("div",wt.secondaryTitle,{textContent:e.secondaryLabel})),this.hasChildren&&l.appendChild(Y.make("div",[wt.icon,wt.iconChevronRight],{innerHTML:aS})),this.isActive&&l.classList.add(wt.active),e.isDisabled&&l.classList.add(wt.disabled),e.hint!==void 0&&((i=t==null?void 0:t.hint)==null?void 0:i.enabled)!==!1&&this.addHint(l,{...e.hint,position:((r=t==null?void 0:t.hint)==null?void 0:r.position)||"right"}),l}enableConfirmationMode(e){if(this.nodes.root===null)return;const t={...this.params,...e,confirmation:"confirmation"in e?e.confirmation:void 0},i=this.make(t);this.nodes.root.innerHTML=i.innerHTML,this.nodes.root.classList.add(wt.confirmationState),this.confirmationState=e,this.enableSpecialHoverAndFocusBehavior()}disableConfirmationMode(){if(this.nodes.root===null)return;const e=this.make(this.params);this.nodes.root.innerHTML=e.innerHTML,this.nodes.root.classList.remove(wt.confirmationState),this.confirmationState=null,this.disableSpecialHoverAndFocusBehavior()}enableSpecialHoverAndFocusBehavior(){var e,t,i;(e=this.nodes.root)==null||e.classList.add(wt.noHover),(t=this.nodes.root)==null||t.classList.add(wt.noFocus),(i=this.nodes.root)==null||i.addEventListener("mouseleave",this.removeSpecialHoverBehavior,{once:!0})}disableSpecialHoverAndFocusBehavior(){var e;this.removeSpecialFocusBehavior(),this.removeSpecialHoverBehavior(),(e=this.nodes.root)==null||e.removeEventListener("mouseleave",this.removeSpecialHoverBehavior)}activateOrEnableConfirmationMode(e){var t;if(!("confirmation"in e)||e.confirmation===void 0)try{(t=e.onActivate)==null||t.call(e,e),this.disableConfirmationMode()}catch{this.animateError()}else this.enableConfirmationMode(e.confirmation)}animateError(){var e,t,i;(e=this.nodes.icon)!=null&&e.classList.contains(wt.wobbleAnimation)||((t=this.nodes.icon)==null||t.classList.add(wt.wobbleAnimation),(i=this.nodes.icon)==null||i.addEventListener("animationend",this.onErrorAnimationEnd))}}const cc=Vo("ce-popover-item-separator"),uc={container:cc(),line:cc("line"),hidden:cc(null,"hidden")};class cm extends bu{constructor(){super(),this.nodes={root:Y.make("div",uc.container),line:Y.make("div",uc.line)},this.nodes.root.appendChild(this.nodes.line)}getElement(){return this.nodes.root}toggleHidden(e){var t;(t=this.nodes.root)==null||t.classList.toggle(uc.hidden,e)}}var Zn=(n=>(n.Closed="closed",n.ClosedOnActivate="closed-on-activate",n))(Zn||{});const jt=Vo("ce-popover"),_t={popover:jt(),popoverContainer:jt("container"),popoverOpenTop:jt(null,"open-top"),popoverOpenLeft:jt(null,"open-left"),popoverOpened:jt(null,"opened"),search:jt("search"),nothingFoundMessage:jt("nothing-found-message"),nothingFoundMessageDisplayed:jt("nothing-found-message","displayed"),items:jt("items"),overlay:jt("overlay"),overlayHidden:jt("overlay","hidden"),popoverNested:jt(null,"nested"),getPopoverNestedClass:n=>jt(null,`nested-level-${n.toString()}`),popoverInline:jt(null,"inline"),popoverHeader:jt("header")};var Wi=(n=>(n.NestingLevel="--nesting-level",n.PopoverHeight="--popover-height",n.InlinePopoverWidth="--inline-popover-width",n.TriggerItemLeft="--trigger-item-left",n.TriggerItemTop="--trigger-item-top",n))(Wi||{});const cp=Vo("ce-popover-item-html"),up={root:cp(),hidden:cp(null,"hidden")};class qr extends bu{constructor(e,t){var i,r;super(e),this.nodes={root:Y.make("div",up.root)},this.nodes.root.appendChild(e.element),e.name&&(this.nodes.root.dataset.itemName=e.name),e.hint!==void 0&&((i=t==null?void 0:t.hint)==null?void 0:i.enabled)!==!1&&this.addHint(this.nodes.root,{...e.hint,position:((r=t==null?void 0:t.hint)==null?void 0:r.position)||"right"})}getElement(){return this.nodes.root}toggleHidden(e){var t;(t=this.nodes.root)==null||t.classList.toggle(up.hidden,e)}getControls(){const e=this.nodes.root.querySelectorAll(`button, ${Y.allInputsSelector}`);return Array.from(e)}}class um extends Zr{constructor(e,t={}){super(),this.params=e,this.itemsRenderParams=t,this.listeners=new Jr,this.messages={nothingFound:"Nothing found",search:"Search"},this.items=this.buildItems(e.items),e.messages&&(this.messages={...this.messages,...e.messages}),this.nodes={},this.nodes.popoverContainer=Y.make("div",[_t.popoverContainer]),this.nodes.nothingFoundMessage=Y.make("div",[_t.nothingFoundMessage],{textContent:this.messages.nothingFound}),this.nodes.popoverContainer.appendChild(this.nodes.nothingFoundMessage),this.nodes.items=Y.make("div",[_t.items]),this.items.forEach(i=>{const r=i.getElement();r!==null&&this.nodes.items.appendChild(r)}),this.nodes.popoverContainer.appendChild(this.nodes.items),this.listeners.on(this.nodes.popoverContainer,"click",i=>this.handleClick(i)),this.nodes.popover=Y.make("div",[_t.popover,this.params.class]),this.nodes.popover.appendChild(this.nodes.popoverContainer)}get itemsDefault(){return this.items.filter(e=>e instanceof di)}getElement(){return this.nodes.popover}show(){this.nodes.popover.classList.add(_t.popoverOpened),this.search!==void 0&&this.search.focus()}hide(){this.nodes.popover.classList.remove(_t.popoverOpened),this.nodes.popover.classList.remove(_t.popoverOpenTop),this.itemsDefault.forEach(e=>e.reset()),this.search!==void 0&&this.search.clear(),this.emit(Zn.Closed)}destroy(){var e;this.items.forEach(t=>t.destroy()),this.nodes.popover.remove(),this.listeners.removeAll(),(e=this.search)==null||e.destroy()}activateItemByName(e){const t=this.items.find(i=>i.name===e);this.handleItemClick(t)}buildItems(e){return e.map(t=>{switch(t.type){case gt.Separator:return new cm;case gt.Html:return new qr(t,this.itemsRenderParams[gt.Html]);default:return new di(t,this.itemsRenderParams[gt.Default])}})}getTargetItem(e){return this.items.filter(t=>t instanceof di||t instanceof qr).find(t=>{const i=t.getElement();return i===null?!1:e.composedPath().includes(i)})}handleItemClick(e){if(!("isDisabled"in e&&e.isDisabled)){if(e.hasChildren){this.showNestedItems(e),"handleClick"in e&&typeof e.handleClick=="function"&&e.handleClick();return}this.itemsDefault.filter(t=>t!==e).forEach(t=>t.reset()),"handleClick"in e&&typeof e.handleClick=="function"&&e.handleClick(),this.toggleItemActivenessIfNeeded(e),e.closeOnActivate&&(this.hide(),this.emit(Zn.ClosedOnActivate))}}handleClick(e){const t=this.getTargetItem(e);t!==void 0&&this.handleItemClick(t)}toggleItemActivenessIfNeeded(e){if(e instanceof di&&(e.toggle===!0&&e.toggleActive(),typeof e.toggle=="string")){const t=this.itemsDefault.filter(i=>i.toggle===e.toggle);if(t.length===1){e.toggleActive();return}t.forEach(i=>{i.toggleActive(i===e)})}}}var ga=(n=>(n.Search="search",n))(ga||{});const dc=Vo("cdx-search-field"),hc={wrapper:dc(),icon:dc("icon"),input:dc("input")};class wS extends Zr{constructor({items:e,placeholder:t}){super(),this.listeners=new Jr,this.items=e,this.wrapper=Y.make("div",hc.wrapper);const i=Y.make("div",hc.icon,{innerHTML:pS});this.input=Y.make("input",hc.input,{placeholder:t,tabIndex:-1}),this.wrapper.appendChild(i),this.wrapper.appendChild(this.input),this.listeners.on(this.input,"input",()=>{this.searchQuery=this.input.value,this.emit(ga.Search,{query:this.searchQuery,items:this.foundItems})})}getElement(){return this.wrapper}focus(){this.input.focus()}clear(){this.input.value="",this.searchQuery="",this.emit(ga.Search,{query:"",items:this.foundItems})}destroy(){this.listeners.removeAll()}get foundItems(){return this.items.filter(e=>this.checkItem(e))}checkItem(e){var t,i;const r=((t=e.title)==null?void 0:t.toLowerCase())||"",a=(i=this.searchQuery)==null?void 0:i.toLowerCase();return a!==void 0?r.includes(a):!1}}var kS=Object.defineProperty,xS=Object.getOwnPropertyDescriptor,_S=(n,e,t,i)=>{for(var r=xS(e,t),a=n.length-1,l;a>=0;a--)(l=n[a])&&(r=l(e,t,r)||r);return r&&kS(e,t,r),r};const dm=class hm extends um{constructor(e,t){super(e,t),this.nestingLevel=0,this.nestedPopoverTriggerItem=null,this.previouslyHoveredItem=null,this.scopeElement=document.body,this.hide=()=>{var i;super.hide(),this.destroyNestedPopoverIfExists(),(i=this.flipper)==null||i.deactivate(),this.previouslyHoveredItem=null},this.onFlip=()=>{const i=this.itemsDefault.find(r=>r.isFocused);i==null||i.onFocus()},this.onSearch=i=>{var r;const a=i.query==="",l=i.items.length===0;this.items.forEach(d=>{let h=!1;d instanceof di?h=!i.items.includes(d):(d instanceof cm||d instanceof qr)&&(h=l||!a),d.toggleHidden(h)}),this.toggleNothingFoundMessage(l);const u=i.query===""?this.flippableElements:i.items.map(d=>d.getElement());(r=this.flipper)!=null&&r.isActivated&&(this.flipper.deactivate(),this.flipper.activate(u))},e.nestingLevel!==void 0&&(this.nestingLevel=e.nestingLevel),this.nestingLevel>0&&this.nodes.popover.classList.add(_t.popoverNested),e.scopeElement!==void 0&&(this.scopeElement=e.scopeElement),this.nodes.popoverContainer!==null&&this.listeners.on(this.nodes.popoverContainer,"mouseover",i=>this.handleHover(i)),e.searchable&&this.addSearch(),e.flippable!==!1&&(this.flipper=new mi({items:this.flippableElements,focusedItemClass:wt.focused,allowedKeys:[Ne.TAB,Ne.UP,Ne.DOWN,Ne.ENTER]}),this.flipper.onFlip(this.onFlip))}hasFocus(){return this.flipper===void 0?!1:this.flipper.hasFocus()}get scrollTop(){return this.nodes.items===null?0:this.nodes.items.scrollTop}get offsetTop(){return this.nodes.popoverContainer===null?0:this.nodes.popoverContainer.offsetTop}show(){var e;this.nodes.popover.style.setProperty(Wi.PopoverHeight,this.size.height+"px"),this.shouldOpenBottom||this.nodes.popover.classList.add(_t.popoverOpenTop),this.shouldOpenRight||this.nodes.popover.classList.add(_t.popoverOpenLeft),super.show(),(e=this.flipper)==null||e.activate(this.flippableElements)}destroy(){this.hide(),super.destroy()}showNestedItems(e){this.nestedPopover!==null&&this.nestedPopover!==void 0||(this.nestedPopoverTriggerItem=e,this.showNestedPopoverForItem(e))}handleHover(e){const t=this.getTargetItem(e);t!==void 0&&this.previouslyHoveredItem!==t&&(this.destroyNestedPopoverIfExists(),this.previouslyHoveredItem=t,t.hasChildren&&this.showNestedPopoverForItem(t))}setTriggerItemPosition(e,t){const i=t.getElement(),r=(i?i.offsetTop:0)-this.scrollTop,a=this.offsetTop+r;e.style.setProperty(Wi.TriggerItemTop,a+"px")}destroyNestedPopoverIfExists(){var e,t;this.nestedPopover===void 0||this.nestedPopover===null||(this.nestedPopover.off(Zn.ClosedOnActivate,this.hide),this.nestedPopover.hide(),this.nestedPopover.destroy(),this.nestedPopover.getElement().remove(),this.nestedPopover=null,(e=this.flipper)==null||e.activate(this.flippableElements),(t=this.nestedPopoverTriggerItem)==null||t.onChildrenClose())}showNestedPopoverForItem(e){var t;this.nestedPopover=new hm({searchable:e.isChildrenSearchable,items:e.children,nestingLevel:this.nestingLevel+1,flippable:e.isChildrenFlippable,messages:this.messages}),e.onChildrenOpen(),this.nestedPopover.on(Zn.ClosedOnActivate,this.hide);const i=this.nestedPopover.getElement();return this.nodes.popover.appendChild(i),this.setTriggerItemPosition(i,e),i.style.setProperty(Wi.NestingLevel,this.nestedPopover.nestingLevel.toString()),this.nestedPopover.show(),(t=this.flipper)==null||t.deactivate(),this.nestedPopover}get shouldOpenBottom(){if(this.nodes.popover===void 0||this.nodes.popover===null)return!1;const e=this.nodes.popoverContainer.getBoundingClientRect(),t=this.scopeElement.getBoundingClientRect(),i=this.size.height,r=e.top+i,a=e.top-i,l=Math.min(window.innerHeight,t.bottom);return a<t.top||r<=l}get shouldOpenRight(){if(this.nodes.popover===void 0||this.nodes.popover===null)return!1;const e=this.nodes.popover.getBoundingClientRect(),t=this.scopeElement.getBoundingClientRect(),i=this.size.width,r=e.right+i,a=e.left-i,l=Math.min(window.innerWidth,t.right);return a<t.left||r<=l}get size(){var e;const t={height:0,width:0};if(this.nodes.popover===null)return t;const i=this.nodes.popover.cloneNode(!0);i.style.visibility="hidden",i.style.position="absolute",i.style.top="-1000px",i.classList.add(_t.popoverOpened),(e=i.querySelector("."+_t.popoverNested))==null||e.remove(),document.body.appendChild(i);const r=i.querySelector("."+_t.popoverContainer);return t.height=r.offsetHeight,t.width=r.offsetWidth,i.remove(),t}get flippableElements(){return this.items.map(e=>{if(e instanceof di)return e.getElement();if(e instanceof qr)return e.getControls()}).flat().filter(e=>e!=null)}addSearch(){this.search=new wS({items:this.itemsDefault,placeholder:this.messages.search}),this.search.on(ga.Search,this.onSearch);const e=this.search.getElement();e.classList.add(_t.search),this.nodes.popoverContainer.insertBefore(e,this.nodes.popoverContainer.firstChild)}toggleNothingFoundMessage(e){this.nodes.nothingFoundMessage.classList.toggle(_t.nothingFoundMessageDisplayed,e)}};_S([Qi],dm.prototype,"size");let yu=dm;class CS extends yu{constructor(e){const t=!er();super({...e,class:_t.popoverInline},{[gt.Default]:{wrapperTag:"button",hint:{position:"top",alignment:"center",enabled:t}},[gt.Html]:{hint:{position:"top",alignment:"center",enabled:t}}}),this.items.forEach(i=>{!(i instanceof di)&&!(i instanceof qr)||i.hasChildren&&i.isChildrenOpen&&this.showNestedItems(i)})}get offsetLeft(){return this.nodes.popoverContainer===null?0:this.nodes.popoverContainer.offsetLeft}show(){this.nestingLevel===0&&this.nodes.popover.style.setProperty(Wi.InlinePopoverWidth,this.size.width+"px"),super.show()}handleHover(){}setTriggerItemPosition(e,t){const i=t.getElement(),r=i?i.offsetLeft:0,a=this.offsetLeft+r;e.style.setProperty(Wi.TriggerItemLeft,a+"px")}showNestedItems(e){if(this.nestedPopoverTriggerItem===e){this.destroyNestedPopoverIfExists(),this.nestedPopoverTriggerItem=null;return}super.showNestedItems(e)}showNestedPopoverForItem(e){const t=super.showNestedPopoverForItem(e);return t.getElement().classList.add(_t.getPopoverNestedClass(t.nestingLevel)),t}handleItemClick(e){var t;e!==this.nestedPopoverTriggerItem&&((t=this.nestedPopoverTriggerItem)==null||t.handleClick(),super.destroyNestedPopoverIfExists()),super.handleItemClick(e)}}const fm=class Tr{constructor(){this.scrollPosition=null}lock(){Dc?this.lockHard():document.body.classList.add(Tr.CSS.scrollLocked)}unlock(){Dc?this.unlockHard():document.body.classList.remove(Tr.CSS.scrollLocked)}lockHard(){this.scrollPosition=window.pageYOffset,document.documentElement.style.setProperty("--window-scroll-offset",`${this.scrollPosition}px`),document.body.classList.add(Tr.CSS.scrollLockedHard)}unlockHard(){document.body.classList.remove(Tr.CSS.scrollLockedHard),this.scrollPosition!==null&&window.scrollTo(0,this.scrollPosition),this.scrollPosition=null}};fm.CSS={scrollLocked:"ce-scroll-locked",scrollLockedHard:"ce-scroll-locked--hard"};let ES=fm;const fc=Vo("ce-popover-header"),pc={root:fc(),text:fc("text"),backButton:fc("back-button")};class SS{constructor({text:e,onBackButtonClick:t}){this.listeners=new Jr,this.text=e,this.onBackButtonClick=t,this.nodes={root:Y.make("div",[pc.root]),backButton:Y.make("button",[pc.backButton]),text:Y.make("div",[pc.text])},this.nodes.backButton.innerHTML=sS,this.nodes.root.appendChild(this.nodes.backButton),this.listeners.on(this.nodes.backButton,"click",this.onBackButtonClick),this.nodes.text.innerText=this.text,this.nodes.root.appendChild(this.nodes.text)}getElement(){return this.nodes.root}destroy(){this.nodes.root.remove(),this.listeners.destroy()}}class TS{constructor(){this.history=[]}push(e){this.history.push(e)}pop(){return this.history.pop()}get currentTitle(){return this.history.length===0?"":this.history[this.history.length-1].title}get currentItems(){return this.history.length===0?[]:this.history[this.history.length-1].items}reset(){for(;this.history.length>1;)this.pop()}}class pm extends um{constructor(e){super(e,{[gt.Default]:{hint:{enabled:!1}},[gt.Html]:{hint:{enabled:!1}}}),this.scrollLocker=new ES,this.history=new TS,this.isHidden=!0,this.nodes.overlay=Y.make("div",[_t.overlay,_t.overlayHidden]),this.nodes.popover.insertBefore(this.nodes.overlay,this.nodes.popover.firstChild),this.listeners.on(this.nodes.overlay,"click",()=>{this.hide()}),this.history.push({items:e.items})}show(){this.nodes.overlay.classList.remove(_t.overlayHidden),super.show(),this.scrollLocker.lock(),this.isHidden=!1}hide(){this.isHidden||(super.hide(),this.nodes.overlay.classList.add(_t.overlayHidden),this.scrollLocker.unlock(),this.history.reset(),this.isHidden=!0)}destroy(){super.destroy(),this.scrollLocker.unlock()}showNestedItems(e){this.updateItemsAndHeader(e.children,e.title),this.history.push({title:e.title,items:e.children})}updateItemsAndHeader(e,t){if(this.header!==null&&this.header!==void 0&&(this.header.destroy(),this.header=null),t!==void 0){this.header=new SS({text:t,onBackButtonClick:()=>{this.history.pop(),this.updateItemsAndHeader(this.history.currentItems,this.history.currentTitle)}});const i=this.header.getElement();i!==null&&this.nodes.popoverContainer.insertBefore(i,this.nodes.popoverContainer.firstChild)}this.items.forEach(i=>{var r;return(r=i.getElement())==null?void 0:r.remove()}),this.items=this.buildItems(e),this.items.forEach(i=>{var r;const a=i.getElement();a!==null&&((r=this.nodes.items)==null||r.appendChild(a))})}}class BS extends Ye{constructor(){super(...arguments),this.opened=!1,this.selection=new Ae,this.popover=null,this.close=()=>{this.opened&&(this.opened=!1,Ae.isAtEditor||this.selection.restore(),this.selection.clearSaved(),!this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted&&this.Editor.BlockManager.currentBlock&&this.Editor.BlockSelection.unselectBlock(this.Editor.BlockManager.currentBlock),this.eventsDispatcher.emit(this.events.closed),this.popover&&(this.popover.off(Zn.Closed,this.onPopoverClose),this.popover.destroy(),this.popover.getElement().remove(),this.popover=null))},this.onPopoverClose=()=>{this.close()}}get events(){return{opened:"block-settings-opened",closed:"block-settings-closed"}}get CSS(){return{settings:"ce-settings"}}get flipper(){var e;if(this.popover!==null)return"flipper"in this.popover?(e=this.popover)==null?void 0:e.flipper:void 0}make(){this.nodes.wrapper=Y.make("div",[this.CSS.settings]),this.eventsDispatcher.on(Wr,this.close)}destroy(){this.removeAllNodes(),this.listeners.destroy(),this.eventsDispatcher.off(Wr,this.close)}async open(e=this.Editor.BlockManager.currentBlock){var t;this.opened=!0,this.selection.save(),this.Editor.BlockSelection.selectBlock(e),this.Editor.BlockSelection.clearCache();const{toolTunes:i,commonTunes:r}=e.getTunes();this.eventsDispatcher.emit(this.events.opened);const a=er()?pm:yu;this.popover=new a({searchable:!0,items:await this.getTunesItems(e,r,i),scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:Vt.ui(gn.ui.popover,"Nothing found"),search:Vt.ui(gn.ui.popover,"Filter")}}),this.popover.on(Zn.Closed,this.onPopoverClose),(t=this.nodes.wrapper)==null||t.append(this.popover.getElement()),this.popover.show()}getElement(){return this.nodes.wrapper}async getTunesItems(e,t,i){const r=[];i!==void 0&&i.length>0&&(r.push(...i),r.push({type:gt.Separator}));const a=Array.from(this.Editor.Tools.blockTools.values()),l=(await nm(e,a)).reduce((u,d)=>(d.toolbox.forEach(h=>{u.push({icon:h.icon,title:Vt.t(gn.toolNames,h.title),name:d.name,closeOnActivate:!0,onActivate:async()=>{const{BlockManager:g,Caret:p,Toolbar:m}=this.Editor,k=await g.convert(e,d.name,h.data);m.close(),p.setToBlock(k,p.positions.END)}})}),u),[]);return l.length>0&&(r.push({icon:lm,name:"convert-to",title:Vt.ui(gn.ui.popover,"Convert to"),children:{searchable:!0,items:l}}),r.push({type:gt.Separator})),r.push(...t),r.map(u=>this.resolveTuneAliases(u))}resolveTuneAliases(e){if(e.type===gt.Separator||e.type===gt.Html)return e;const t=oS(e,{label:"title"});return e.confirmation&&(t.confirmation=this.resolveTuneAliases(e.confirmation)),t}}var gm={exports:{}};/*!
 * Library for handling keyboard shortcuts
 * @copyright CodeX (https://codex.so)
 * @license MIT
 * @author CodeX (https://codex.so)
 * @version 1.2.0
 */(function(n,e){(function(t,i){n.exports=i()})(window,function(){return function(t){var i={};function r(a){if(i[a])return i[a].exports;var l=i[a]={i:a,l:!1,exports:{}};return t[a].call(l.exports,l,l.exports,r),l.l=!0,l.exports}return r.m=t,r.c=i,r.d=function(a,l,u){r.o(a,l)||Object.defineProperty(a,l,{enumerable:!0,get:u})},r.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},r.t=function(a,l){if(1&l&&(a=r(a)),8&l||4&l&&typeof a=="object"&&a&&a.__esModule)return a;var u=Object.create(null);if(r.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:a}),2&l&&typeof a!="string")for(var d in a)r.d(u,d,(function(h){return a[h]}).bind(null,d));return u},r.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return r.d(l,"a",l),l},r.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},r.p="",r(r.s=0)}([function(t,i,r){function a(d,h){for(var g=0;g<h.length;g++){var p=h[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,p.key,p)}}function l(d,h,g){return h&&a(d.prototype,h),g&&a(d,g),d}r.r(i);var u=function(){function d(h){var g=this;(function(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")})(this,d),this.commands={},this.keys={},this.name=h.name,this.parseShortcutName(h.name),this.element=h.on,this.callback=h.callback,this.executeShortcut=function(p){g.execute(p)},this.element.addEventListener("keydown",this.executeShortcut,!1)}return l(d,null,[{key:"supportedCommands",get:function(){return{SHIFT:["SHIFT"],CMD:["CMD","CONTROL","COMMAND","WINDOWS","CTRL"],ALT:["ALT","OPTION"]}}},{key:"keyCodes",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,".":190}}}]),l(d,[{key:"parseShortcutName",value:function(h){h=h.split("+");for(var g=0;g<h.length;g++){h[g]=h[g].toUpperCase();var p=!1;for(var m in d.supportedCommands)if(d.supportedCommands[m].includes(h[g])){p=this.commands[m]=!0;break}p||(this.keys[h[g]]=!0)}for(var k in d.supportedCommands)this.commands[k]||(this.commands[k]=!1)}},{key:"execute",value:function(h){var g,p={CMD:h.ctrlKey||h.metaKey,SHIFT:h.shiftKey,ALT:h.altKey},m=!0;for(g in this.commands)this.commands[g]!==p[g]&&(m=!1);var k,v=!0;for(k in this.keys)v=v&&h.keyCode===d.keyCodes[k];m&&v&&this.callback(h)}},{key:"remove",value:function(){this.element.removeEventListener("keydown",this.executeShortcut)}}]),d}();i.default=u}]).default})})(gm);var IS=gm.exports;const LS=Pa(IS);class AS{constructor(){this.registeredShortcuts=new Map}add(e){if(this.findShortcut(e.on,e.name))throw Error(`Shortcut ${e.name} is already registered for ${e.on}. Please remove it before add a new handler.`);const t=new LS({name:e.name,on:e.on,callback:e.handler}),i=this.registeredShortcuts.get(e.on)||[];this.registeredShortcuts.set(e.on,[...i,t])}remove(e,t){const i=this.findShortcut(e,t);if(!i)return;i.remove();const r=this.registeredShortcuts.get(e);this.registeredShortcuts.set(e,r.filter(a=>a!==i))}findShortcut(e,t){return(this.registeredShortcuts.get(e)||[]).find(({name:i})=>i===t)}}const Yi=new AS;var MS=Object.defineProperty,OS=Object.getOwnPropertyDescriptor,mm=(n,e,t,i)=>{for(var r=OS(e,t),a=n.length-1,l;a>=0;a--)(l=n[a])&&(r=l(e,t,r)||r);return r&&MS(e,t,r),r},Js=(n=>(n.Opened="toolbox-opened",n.Closed="toolbox-closed",n.BlockAdded="toolbox-block-added",n))(Js||{});const wu=class vm extends Zr{constructor({api:e,tools:t,i18nLabels:i}){super(),this.opened=!1,this.listeners=new Jr,this.popover=null,this.handleMobileLayoutToggle=()=>{this.destroyPopover(),this.initPopover()},this.onPopoverClose=()=>{this.opened=!1,this.emit("toolbox-closed")},this.api=e,this.tools=t,this.i18nLabels=i,this.enableShortcuts(),this.nodes={toolbox:Y.make("div",vm.CSS.toolbox)},this.initPopover(),this.api.events.on(Wr,this.handleMobileLayoutToggle)}get isEmpty(){return this.toolsToBeDisplayed.length===0}static get CSS(){return{toolbox:"ce-toolbox"}}getElement(){return this.nodes.toolbox}hasFocus(){if(this.popover!==null)return"hasFocus"in this.popover?this.popover.hasFocus():void 0}destroy(){var e;super.destroy(),this.nodes&&this.nodes.toolbox&&this.nodes.toolbox.remove(),this.removeAllShortcuts(),(e=this.popover)==null||e.off(Zn.Closed,this.onPopoverClose),this.listeners.destroy(),this.api.events.off(Wr,this.handleMobileLayoutToggle)}toolButtonActivated(e,t){this.insertNewBlock(e,t)}open(){var e;this.isEmpty||((e=this.popover)==null||e.show(),this.opened=!0,this.emit("toolbox-opened"))}close(){var e;(e=this.popover)==null||e.hide(),this.opened=!1,this.emit("toolbox-closed")}toggle(){this.opened?this.close():this.open()}initPopover(){var e;const t=er()?pm:yu;this.popover=new t({scopeElement:this.api.ui.nodes.redactor,searchable:!0,messages:{nothingFound:this.i18nLabels.nothingFound,search:this.i18nLabels.filter},items:this.toolboxItemsToBeDisplayed}),this.popover.on(Zn.Closed,this.onPopoverClose),(e=this.nodes.toolbox)==null||e.append(this.popover.getElement())}destroyPopover(){this.popover!==null&&(this.popover.hide(),this.popover.off(Zn.Closed,this.onPopoverClose),this.popover.destroy(),this.popover=null),this.nodes.toolbox!==null&&(this.nodes.toolbox.innerHTML="")}get toolsToBeDisplayed(){const e=[];return this.tools.forEach(t=>{t.toolbox&&e.push(t)}),e}get toolboxItemsToBeDisplayed(){const e=(t,i)=>({icon:t.icon,title:Vt.t(gn.toolNames,t.title||da(i.name)),name:i.name,onActivate:()=>{this.toolButtonActivated(i.name,t.data)},secondaryLabel:i.shortcut?fu(i.shortcut):""});return this.toolsToBeDisplayed.reduce((t,i)=>(Array.isArray(i.toolbox)?i.toolbox.forEach(r=>{t.push(e(r,i))}):i.toolbox!==void 0&&t.push(e(i.toolbox,i)),t),[])}enableShortcuts(){this.toolsToBeDisplayed.forEach(e=>{const t=e.shortcut;t&&this.enableShortcutForTool(e.name,t)})}enableShortcutForTool(e,t){Yi.add({name:t,on:this.api.ui.nodes.redactor,handler:async i=>{i.preventDefault();const r=this.api.blocks.getCurrentBlockIndex(),a=this.api.blocks.getBlockByIndex(r);if(a)try{const l=await this.api.blocks.convert(a.id,e);this.api.caret.setToBlock(l,"end");return}catch{}this.insertNewBlock(e)}})}removeAllShortcuts(){this.toolsToBeDisplayed.forEach(e=>{const t=e.shortcut;t&&Yi.remove(this.api.ui.nodes.redactor,t)})}async insertNewBlock(e,t){const i=this.api.blocks.getCurrentBlockIndex(),r=this.api.blocks.getBlockByIndex(i);if(!r)return;const a=r.isEmpty?i:i+1;let l;if(t){const d=await this.api.blocks.composeBlockData(e);l=Object.assign(d,t)}const u=this.api.blocks.insert(e,l,void 0,a,void 0,r.isEmpty);u.call(uo.APPEND_CALLBACK),this.api.caret.setToBlock(a),this.emit("toolbox-block-added",{block:u}),this.api.toolbar.close()}};mm([Qi],wu.prototype,"toolsToBeDisplayed");mm([Qi],wu.prototype,"toolboxItemsToBeDisplayed");let RS=wu;const bm="block hovered";async function PS(n,e){const t=navigator.keyboard;return t&&(await t.getLayoutMap()).get(n)||e}class NS extends Ye{constructor({config:e,eventsDispatcher:t}){super({config:e,eventsDispatcher:t}),this.toolboxInstance=null}get CSS(){return{toolbar:"ce-toolbar",content:"ce-toolbar__content",actions:"ce-toolbar__actions",actionsOpened:"ce-toolbar__actions--opened",toolbarOpened:"ce-toolbar--opened",openedToolboxHolderModifier:"codex-editor--toolbox-opened",plusButton:"ce-toolbar__plus",plusButtonShortcut:"ce-toolbar__plus-shortcut",settingsToggler:"ce-toolbar__settings-btn",settingsTogglerHidden:"ce-toolbar__settings-btn--hidden"}}get opened(){return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened)}get toolbox(){var e;return{opened:(e=this.toolboxInstance)==null?void 0:e.opened,close:()=>{var t;(t=this.toolboxInstance)==null||t.close()},open:()=>{if(this.toolboxInstance===null){ot("toolbox.open() called before initialization is finished","warn");return}this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.toolboxInstance.open()},toggle:()=>{if(this.toolboxInstance===null){ot("toolbox.toggle() called before initialization is finished","warn");return}this.toolboxInstance.toggle()},hasFocus:()=>{var t;return(t=this.toolboxInstance)==null?void 0:t.hasFocus()}}}get blockActions(){return{hide:()=>{this.nodes.actions.classList.remove(this.CSS.actionsOpened)},show:()=>{this.nodes.actions.classList.add(this.CSS.actionsOpened)}}}get blockTunesToggler(){return{hide:()=>this.nodes.settingsToggler.classList.add(this.CSS.settingsTogglerHidden),show:()=>this.nodes.settingsToggler.classList.remove(this.CSS.settingsTogglerHidden)}}toggleReadOnly(e){e?(this.destroy(),this.Editor.BlockSettings.destroy(),this.disableModuleBindings()):window.requestIdleCallback(()=>{this.drawUI(),this.enableModuleBindings()},{timeout:2e3})}moveAndOpen(e=this.Editor.BlockManager.currentBlock){if(this.toolboxInstance===null){ot("Can't open Toolbar since Editor initialization is not finished yet","warn");return}if(this.toolboxInstance.opened&&this.toolboxInstance.close(),this.Editor.BlockSettings.opened&&this.Editor.BlockSettings.close(),!e)return;this.hoveredBlock=e;const t=e.holder,{isMobile:i}=this.Editor.UI;let r;const a=20,l=e.firstInput,u=t.getBoundingClientRect(),d=l!==void 0?l.getBoundingClientRect():null,h=d!==null?d.top-u.top:null,g=h!==null?h>a:void 0;if(i)r=t.offsetTop+t.offsetHeight;else if(l===void 0||g){const p=parseInt(window.getComputedStyle(e.pluginsContent).paddingTop);r=t.offsetTop+p}else{const p=w2(l),m=parseInt(window.getComputedStyle(this.nodes.plusButton).height,10);r=t.offsetTop+p-m+8+h}this.nodes.wrapper.style.top=`${Math.floor(r)}px`,this.Editor.BlockManager.blocks.length===1&&e.isEmpty?this.blockTunesToggler.hide():this.blockTunesToggler.show(),this.open()}close(){var e,t;this.Editor.ReadOnly.isEnabled||((e=this.nodes.wrapper)==null||e.classList.remove(this.CSS.toolbarOpened),this.blockActions.hide(),(t=this.toolboxInstance)==null||t.close(),this.Editor.BlockSettings.close(),this.reset())}reset(){this.nodes.wrapper.style.top="unset"}open(e=!0){this.nodes.wrapper.classList.add(this.CSS.toolbarOpened),e?this.blockActions.show():this.blockActions.hide()}async make(){this.nodes.wrapper=Y.make("div",this.CSS.toolbar),["content","actions"].forEach(a=>{this.nodes[a]=Y.make("div",this.CSS[a])}),Y.append(this.nodes.wrapper,this.nodes.content),Y.append(this.nodes.content,this.nodes.actions),this.nodes.plusButton=Y.make("div",this.CSS.plusButton,{innerHTML:fS}),Y.append(this.nodes.actions,this.nodes.plusButton),this.readOnlyMutableListeners.on(this.nodes.plusButton,"click",()=>{fa(!0),this.plusButtonClicked()},!1);const e=Y.make("div");e.appendChild(document.createTextNode(Vt.ui(gn.ui.toolbar.toolbox,"Add"))),e.appendChild(Y.make("div",this.CSS.plusButtonShortcut,{textContent:"/"})),pa(this.nodes.plusButton,e,{hidingDelay:400}),this.nodes.settingsToggler=Y.make("span",this.CSS.settingsToggler,{innerHTML:hS}),Y.append(this.nodes.actions,this.nodes.settingsToggler);const t=Y.make("div"),i=Y.text(Vt.ui(gn.ui.blockTunes.toggler,"Click to tune")),r=await PS("Slash","/");t.appendChild(i),t.appendChild(Y.make("div",this.CSS.plusButtonShortcut,{textContent:fu(`CMD + ${r}`)})),pa(this.nodes.settingsToggler,t,{hidingDelay:400}),Y.append(this.nodes.actions,this.makeToolbox()),Y.append(this.nodes.actions,this.Editor.BlockSettings.getElement()),Y.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}makeToolbox(){return this.toolboxInstance=new RS({api:this.Editor.API.methods,tools:this.Editor.Tools.blockTools,i18nLabels:{filter:Vt.ui(gn.ui.popover,"Filter"),nothingFound:Vt.ui(gn.ui.popover,"Nothing found")}}),this.toolboxInstance.on(Js.Opened,()=>{this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(Js.Closed,()=>{this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(Js.BlockAdded,({block:e})=>{const{BlockManager:t,Caret:i}=this.Editor,r=t.getBlockById(e.id);r.inputs.length===0&&(r===t.lastBlock?(t.insertAtEnd(),i.setToBlock(t.lastBlock)):i.setToBlock(t.nextBlock))}),this.toolboxInstance.getElement()}plusButtonClicked(){var e;this.Editor.BlockManager.currentBlock=this.hoveredBlock,(e=this.toolboxInstance)==null||e.toggle()}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.settingsToggler,"mousedown",e=>{var t;e.stopPropagation(),this.settingsTogglerClicked(),(t=this.toolboxInstance)!=null&&t.opened&&this.toolboxInstance.close(),fa(!0)},!0),er()||this.eventsDispatcher.on(bm,e=>{var t;this.Editor.BlockSettings.opened||(t=this.toolboxInstance)!=null&&t.opened||this.moveAndOpen(e.block)})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}settingsTogglerClicked(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.BlockSettings.open(this.hoveredBlock)}drawUI(){this.Editor.BlockSettings.make(),this.make()}destroy(){this.removeAllNodes(),this.toolboxInstance&&this.toolboxInstance.destroy()}}var pi=(n=>(n[n.Block=0]="Block",n[n.Inline=1]="Inline",n[n.Tune=2]="Tune",n))(pi||{}),Qs=(n=>(n.Shortcut="shortcut",n.Toolbox="toolbox",n.EnabledInlineTools="inlineToolbar",n.EnabledBlockTunes="tunes",n.Config="config",n))(Qs||{}),ym=(n=>(n.Shortcut="shortcut",n.SanitizeConfig="sanitize",n))(ym||{}),Fi=(n=>(n.IsEnabledLineBreaks="enableLineBreaks",n.Toolbox="toolbox",n.ConversionConfig="conversionConfig",n.IsReadOnlySupported="isReadOnlySupported",n.PasteConfig="pasteConfig",n))(Fi||{}),ku=(n=>(n.IsInline="isInline",n.Title="title",n))(ku||{}),Hc=(n=>(n.IsTune="isTune",n))(Hc||{});class xu{constructor({name:e,constructable:t,config:i,api:r,isDefault:a,isInternal:l=!1,defaultPlaceholder:u}){this.api=r,this.name=e,this.constructable=t,this.config=i,this.isDefault=a,this.isInternal=l,this.defaultPlaceholder=u}get settings(){const e=this.config.config||{};return this.isDefault&&!("placeholder"in e)&&this.defaultPlaceholder&&(e.placeholder=this.defaultPlaceholder),e}reset(){if(bt(this.constructable.reset))return this.constructable.reset()}prepare(){if(bt(this.constructable.prepare))return this.constructable.prepare({toolName:this.name,config:this.settings})}get shortcut(){const e=this.constructable.shortcut;return this.config.shortcut||e}get sanitizeConfig(){return this.constructable.sanitize||{}}isInline(){return this.type===pi.Inline}isBlock(){return this.type===pi.Block}isTune(){return this.type===pi.Tune}}class DS extends Ye{constructor({config:e,eventsDispatcher:t}){super({config:e,eventsDispatcher:t}),this.CSS={inlineToolbar:"ce-inline-toolbar"},this.opened=!1,this.popover=null,this.toolbarVerticalMargin=er()?20:6,this.toolsInstances=new Map}toggleReadOnly(e){e?this.destroy():window.requestIdleCallback(()=>{this.make()},{timeout:2e3})}async tryToShow(e=!1){e&&this.close(),this.allowedToShow()&&(await this.open(),this.Editor.Toolbar.close())}close(){var e,t;this.opened&&(this.Editor.ReadOnly.isEnabled||(Array.from(this.toolsInstances.entries()).forEach(([i,r])=>{const a=this.getToolShortcut(i);a&&Yi.remove(this.Editor.UI.nodes.redactor,a),bt(r.clear)&&r.clear()}),this.toolsInstances=null,this.reset(),this.opened=!1,(e=this.popover)==null||e.hide(),(t=this.popover)==null||t.destroy(),this.popover=null))}containsNode(e){return this.nodes.wrapper===void 0?!1:this.nodes.wrapper.contains(e)}destroy(){var e;this.removeAllNodes(),(e=this.popover)==null||e.destroy(),this.popover=null}make(){this.nodes.wrapper=Y.make("div",[this.CSS.inlineToolbar,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),Y.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}async open(){var e;if(this.opened)return;this.opened=!0,this.popover!==null&&this.popover.destroy();const t=await this.getInlineTools();this.popover=new CS({items:t,scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:Vt.ui(gn.ui.popover,"Nothing found"),search:Vt.ui(gn.ui.popover,"Filter")}}),this.move(this.popover.size.width),(e=this.nodes.wrapper)==null||e.append(this.popover.getElement()),this.popover.show()}move(e){const t=Ae.rect,i=this.Editor.UI.nodes.wrapper.getBoundingClientRect(),r={x:t.x-i.x,y:t.y+t.height-i.top+this.toolbarVerticalMargin};r.x+e+i.x>this.Editor.UI.contentRect.right&&(r.x=this.Editor.UI.contentRect.right-e-i.x),this.nodes.wrapper.style.left=Math.floor(r.x)+"px",this.nodes.wrapper.style.top=Math.floor(r.y)+"px"}reset(){this.nodes.wrapper.style.left="0",this.nodes.wrapper.style.top="0"}allowedToShow(){const e=["IMG","INPUT"],t=Ae.get(),i=Ae.text;if(!t||!t.anchorNode||t.isCollapsed||i.length<1)return!1;const r=Y.isElement(t.anchorNode)?t.anchorNode:t.anchorNode.parentElement;if(r===null||t&&e.includes(r.tagName)||r.closest('[contenteditable="true"]')===null)return!1;const a=this.Editor.BlockManager.getBlock(t.anchorNode);return a?a.tool.inlineTools.size!==0:!1}async getInlineTools(){const e=Ae.get(),t=this.Editor.BlockManager.getBlock(e.anchorNode),i=Array.from(t.tool.inlineTools.values()),r=[];this.toolsInstances===null&&(this.toolsInstances=new Map);for(let a=0;a<i.length;a++){const l=i[a],u=l.create(),d=await u.render();this.toolsInstances.set(l.name,u);const h=this.getToolShortcut(l.name);if(h)try{this.enableShortcuts(l.name,h)}catch{}const g=h!==void 0?fu(h):void 0,p=Vt.t(gn.toolNames,l.title||da(l.name));[d].flat().forEach(m=>{var k,v;const b={name:l.name,onActivate:()=>{this.toolClicked(u)},hint:{title:p,description:g}};if(Y.isElement(m)){const w={...b,element:m,type:gt.Html};if(bt(u.renderActions)){const _=u.renderActions();w.children={isOpen:(k=u.checkState)==null?void 0:k.call(u,Ae.get()),isFlippable:!1,items:[{type:gt.Html,element:_}]}}else(v=u.checkState)==null||v.call(u,Ae.get());r.push(w)}else if(m.type===gt.Html)r.push({...b,...m,type:gt.Html});else if(m.type===gt.Separator)r.push({type:gt.Separator});else{const w={...b,...m,type:gt.Default};"children"in w&&a!==0&&r.push({type:gt.Separator}),r.push(w),"children"in w&&a<i.length-1&&r.push({type:gt.Separator})}})}return r}getToolShortcut(e){const{Tools:t}=this.Editor,i=t.inlineTools.get(e),r=t.internal.inlineTools;return Array.from(r.keys()).includes(e)?this.inlineTools[e][ym.Shortcut]:i==null?void 0:i.shortcut}enableShortcuts(e,t){Yi.add({name:t,handler:i=>{var r;const{currentBlock:a}=this.Editor.BlockManager;a&&a.tool.enabledInlineTools&&(i.preventDefault(),(r=this.popover)==null||r.activateItemByName(e))},on:this.Editor.UI.nodes.redactor})}toolClicked(e){var t;const i=Ae.range;(t=e.surround)==null||t.call(e,i),this.checkToolsState()}checkToolsState(){var e;(e=this.toolsInstances)==null||e.forEach(t=>{var i;(i=t.checkState)==null||i.call(t,Ae.get())})}get inlineTools(){const e={};return Array.from(this.Editor.Tools.inlineTools.entries()).forEach(([t,i])=>{e[t]=i.create()}),e}}function wm(){const n=window.getSelection();if(n===null)return[null,0];let e=n.focusNode,t=n.focusOffset;return e===null?[null,0]:(e.nodeType!==Node.TEXT_NODE&&e.childNodes.length>0&&(e.childNodes[t]?(e=e.childNodes[t],t=0):(e=e.childNodes[t-1],t=e.textContent.length)),[e,t])}function km(n,e,t,i){const r=document.createRange();i==="left"?(r.setStart(n,0),r.setEnd(e,t)):(r.setStart(e,t),r.setEnd(n,n.childNodes.length));const a=r.cloneContents(),l=document.createElement("div");l.appendChild(a);const u=l.textContent||"";return y2(u)}function ea(n){const e=Y.getDeepestNode(n);if(e===null||Y.isEmpty(n))return!0;if(Y.isNativeInput(e))return e.selectionEnd===0;if(Y.isEmpty(n))return!0;const[t,i]=wm();return t===null?!1:km(n,t,i,"left")}function ta(n){const e=Y.getDeepestNode(n,!0);if(e===null)return!0;if(Y.isNativeInput(e))return e.selectionEnd===e.value.length;const[t,i]=wm();return t===null?!1:km(n,t,i,"right")}class FS extends Ye{keydown(e){switch(this.beforeKeydownProcessing(e),e.keyCode){case Ne.BACKSPACE:this.backspace(e);break;case Ne.DELETE:this.delete(e);break;case Ne.ENTER:this.enter(e);break;case Ne.DOWN:case Ne.RIGHT:this.arrowRightAndDown(e);break;case Ne.UP:case Ne.LEFT:this.arrowLeftAndUp(e);break;case Ne.TAB:this.tabPressed(e);break}e.key==="/"&&!e.ctrlKey&&!e.metaKey&&this.slashPressed(e),e.code==="Slash"&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.commandSlashPressed())}beforeKeydownProcessing(e){this.needToolbarClosing(e)&&jg(e.keyCode)&&(this.Editor.Toolbar.close(),e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||this.Editor.BlockSelection.clearSelection(e))}keyup(e){e.shiftKey||this.Editor.UI.checkEmptiness()}dragOver(e){const t=this.Editor.BlockManager.getBlockByChildNode(e.target);t.dropTarget=!0}dragLeave(e){const t=this.Editor.BlockManager.getBlockByChildNode(e.target);t.dropTarget=!1}handleCommandC(e){const{BlockSelection:t}=this.Editor;t.anyBlockSelected&&t.copySelectedBlocks(e)}handleCommandX(e){const{BlockSelection:t,BlockManager:i,Caret:r}=this.Editor;t.anyBlockSelected&&t.copySelectedBlocks(e).then(()=>{const a=i.removeSelectedBlocks(),l=i.insertDefaultBlockAtIndex(a,!0);r.setToBlock(l,r.positions.START),t.clearSelection(e)})}tabPressed(e){const{InlineToolbar:t,Caret:i}=this.Editor;t.opened||(e.shiftKey?i.navigatePrevious(!0):i.navigateNext(!0))&&e.preventDefault()}commandSlashPressed(){this.Editor.BlockSelection.selectedBlocks.length>1||this.activateBlockSettings()}slashPressed(e){this.Editor.BlockManager.currentBlock.isEmpty&&(e.preventDefault(),this.Editor.Caret.insertContentAtCaretPosition("/"),this.activateToolbox())}enter(e){const{BlockManager:t,UI:i}=this.Editor,r=t.currentBlock;if(r===void 0||r.tool.isLineBreaksEnabled||i.someToolbarOpened&&i.someFlipperButtonFocused||e.shiftKey&&!Dc)return;let a=r;r.currentInput!==void 0&&ea(r.currentInput)&&!r.hasMedia?this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex):r.currentInput&&ta(r.currentInput)?a=this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex+1):a=this.Editor.BlockManager.split(),this.Editor.Caret.setToBlock(a),this.Editor.Toolbar.moveAndOpen(a),e.preventDefault()}backspace(e){const{BlockManager:t,Caret:i}=this.Editor,{currentBlock:r,previousBlock:a}=t;if(!(r===void 0||!Ae.isCollapsed||!r.currentInput||!ea(r.currentInput))){if(e.preventDefault(),this.Editor.Toolbar.close(),r.currentInput!==r.firstInput){i.navigatePrevious();return}if(a!==null){if(a.isEmpty){t.removeBlock(a);return}if(r.isEmpty){t.removeBlock(r);const l=t.currentBlock;i.setToBlock(l,i.positions.END);return}sp(a,r)?this.mergeBlocks(a,r):i.setToBlock(a,i.positions.END)}}}delete(e){const{BlockManager:t,Caret:i}=this.Editor,{currentBlock:r,nextBlock:a}=t;if(!(!Ae.isCollapsed||!ta(r.currentInput))){if(e.preventDefault(),this.Editor.Toolbar.close(),r.currentInput!==r.lastInput){i.navigateNext();return}if(a!==null){if(a.isEmpty){t.removeBlock(a);return}if(r.isEmpty){t.removeBlock(r),i.setToBlock(a,i.positions.START);return}sp(r,a)?this.mergeBlocks(r,a):i.setToBlock(a,i.positions.START)}}}mergeBlocks(e,t){const{BlockManager:i,Caret:r,Toolbar:a}=this.Editor;r.createShadow(e.lastInput),i.mergeBlocks(e,t).then(()=>{r.restoreCaret(e.pluginsContent),a.close()})}arrowRightAndDown(e){const t=mi.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===Ne.TAB);if(this.Editor.UI.someToolbarOpened&&t)return;this.Editor.Toolbar.close();const{currentBlock:i}=this.Editor.BlockManager,r=((i==null?void 0:i.currentInput)!==void 0?ta(i.currentInput):void 0)||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===Ne.DOWN&&r){this.Editor.CrossBlockSelection.toggleBlockSelectedState();return}if(e.keyCode===Ne.DOWN||e.keyCode===Ne.RIGHT&&!this.isRtl?this.Editor.Caret.navigateNext():this.Editor.Caret.navigatePrevious()){e.preventDefault();return}ua(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}arrowLeftAndUp(e){if(this.Editor.UI.someToolbarOpened){if(mi.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===Ne.TAB))return;this.Editor.UI.closeAllToolbars()}this.Editor.Toolbar.close();const{currentBlock:t}=this.Editor.BlockManager,i=((t==null?void 0:t.currentInput)!==void 0?ea(t.currentInput):void 0)||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===Ne.UP&&i){this.Editor.CrossBlockSelection.toggleBlockSelectedState(!1);return}if(e.keyCode===Ne.UP||e.keyCode===Ne.LEFT&&!this.isRtl?this.Editor.Caret.navigatePrevious():this.Editor.Caret.navigateNext()){e.preventDefault();return}ua(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}needToolbarClosing(e){const t=e.keyCode===Ne.ENTER&&this.Editor.Toolbar.toolbox.opened,i=e.keyCode===Ne.ENTER&&this.Editor.BlockSettings.opened,r=e.keyCode===Ne.ENTER&&this.Editor.InlineToolbar.opened,a=e.keyCode===Ne.TAB;return!(e.shiftKey||a||t||i||r)}activateToolbox(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()}activateBlockSettings(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.opened||this.Editor.BlockSettings.open()}}class gc{constructor(e){this.blocks=[],this.workingArea=e}get length(){return this.blocks.length}get array(){return this.blocks}get nodes(){return Wg(this.workingArea.children)}static set(e,t,i){return isNaN(Number(t))?(Reflect.set(e,t,i),!0):(e.insert(+t,i),!0)}static get(e,t){return isNaN(Number(t))?Reflect.get(e,t):e.get(+t)}push(e){this.blocks.push(e),this.insertToDOM(e)}swap(e,t){const i=this.blocks[t];Y.swap(this.blocks[e].holder,i.holder),this.blocks[t]=this.blocks[e],this.blocks[e]=i}move(e,t){const i=this.blocks.splice(t,1)[0],r=e-1,a=Math.max(0,r),l=this.blocks[a];e>0?this.insertToDOM(i,"afterend",l):this.insertToDOM(i,"beforebegin",l),this.blocks.splice(e,0,i);const u=this.composeBlockEvent("move",{fromIndex:t,toIndex:e});i.call(uo.MOVED,u)}insert(e,t,i=!1){if(!this.length){this.push(t);return}e>this.length&&(e=this.length),i&&(this.blocks[e].holder.remove(),this.blocks[e].call(uo.REMOVED));const r=i?1:0;if(this.blocks.splice(e,r,t),e>0){const a=this.blocks[e-1];this.insertToDOM(t,"afterend",a)}else{const a=this.blocks[e+1];a?this.insertToDOM(t,"beforebegin",a):this.insertToDOM(t)}}replace(e,t){if(this.blocks[e]===void 0)throw Error("Incorrect index");this.blocks[e].holder.replaceWith(t.holder),this.blocks[e]=t}insertMany(e,t){const i=new DocumentFragment;for(const r of e)i.appendChild(r.holder);if(this.length>0){if(t>0){const r=Math.min(t-1,this.length-1);this.blocks[r].holder.after(i)}else t===0&&this.workingArea.prepend(i);this.blocks.splice(t,0,...e)}else this.blocks.push(...e),this.workingArea.appendChild(i);e.forEach(r=>r.call(uo.RENDERED))}remove(e){isNaN(e)&&(e=this.length-1),this.blocks[e].holder.remove(),this.blocks[e].call(uo.REMOVED),this.blocks.splice(e,1)}removeAll(){this.workingArea.innerHTML="",this.blocks.forEach(e=>e.call(uo.REMOVED)),this.blocks.length=0}insertAfter(e,t){const i=this.blocks.indexOf(e);this.insert(i+1,t)}get(e){return this.blocks[e]}indexOf(e){return this.blocks.indexOf(e)}insertToDOM(e,t,i){t?i.holder.insertAdjacentElement(t,e.holder):this.workingArea.appendChild(e.holder),e.call(uo.RENDERED)}composeBlockEvent(e,t){return new CustomEvent(e,{detail:t})}}const dp="block-removed",hp="block-added",HS="block-moved",fp="block-changed";class US{constructor(){this.completed=Promise.resolve()}add(e){return new Promise((t,i)=>{this.completed=this.completed.then(e).then(t).catch(i)})}}class zS extends Ye{constructor(){super(...arguments),this._currentBlockIndex=-1,this._blocks=null}get currentBlockIndex(){return this._currentBlockIndex}set currentBlockIndex(e){this._currentBlockIndex=e}get firstBlock(){return this._blocks[0]}get lastBlock(){return this._blocks[this._blocks.length-1]}get currentBlock(){return this._blocks[this.currentBlockIndex]}set currentBlock(e){this.currentBlockIndex=this.getBlockIndex(e)}get nextBlock(){return this.currentBlockIndex===this._blocks.length-1?null:this._blocks[this.currentBlockIndex+1]}get nextContentfulBlock(){return this.blocks.slice(this.currentBlockIndex+1).find(e=>!!e.inputs.length)}get previousContentfulBlock(){return this.blocks.slice(0,this.currentBlockIndex).reverse().find(e=>!!e.inputs.length)}get previousBlock(){return this.currentBlockIndex===0?null:this._blocks[this.currentBlockIndex-1]}get blocks(){return this._blocks.array}get isEditorEmpty(){return this.blocks.every(e=>e.isEmpty)}prepare(){const e=new gc(this.Editor.UI.nodes.redactor);this._blocks=new Proxy(e,{set:gc.set,get:gc.get}),this.listeners.on(document,"copy",t=>this.Editor.BlockEvents.handleCommandC(t))}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}composeBlock({tool:e,data:t={},id:i=void 0,tunes:r={}}){const a=this.Editor.ReadOnly.isEnabled,l=this.Editor.Tools.blockTools.get(e),u=new fo({id:i,data:t,tool:l,api:this.Editor.API,readOnly:a,tunesData:r},this.eventsDispatcher);return a||window.requestIdleCallback(()=>{this.bindBlockEvents(u)},{timeout:2e3}),u}insert({id:e=void 0,tool:t=this.config.defaultBlock,data:i={},index:r,needToFocus:a=!0,replace:l=!1,tunes:u={}}={}){let d=r;d===void 0&&(d=this.currentBlockIndex+(l?0:1));const h=this.composeBlock({id:e,tool:t,data:i,tunes:u});return l&&this.blockDidMutated(dp,this.getBlockByIndex(d),{index:d}),this._blocks.insert(d,h,l),this.blockDidMutated(hp,h,{index:d}),a?this.currentBlockIndex=d:d<=this.currentBlockIndex&&this.currentBlockIndex++,h}insertMany(e,t=0){this._blocks.insertMany(e,t)}async update(e,t,i){if(!t&&!i)return e;const r=await e.data,a=this.composeBlock({id:e.id,tool:e.name,data:Object.assign({},r,t??{}),tunes:i??e.tunes}),l=this.getBlockIndex(e);return this._blocks.replace(l,a),this.blockDidMutated(fp,a,{index:l}),a}replace(e,t,i){const r=this.getBlockIndex(e);return this.insert({tool:t,data:i,index:r,replace:!0})}paste(e,t,i=!1){const r=this.insert({tool:e,replace:i});try{window.requestIdleCallback(()=>{r.call(uo.ON_PASTE,t)})}catch(a){ot(`${e}: onPaste callback call is failed`,"error",a)}return r}insertDefaultBlockAtIndex(e,t=!1){const i=this.composeBlock({tool:this.config.defaultBlock});return this._blocks[e]=i,this.blockDidMutated(hp,i,{index:e}),t?this.currentBlockIndex=e:e<=this.currentBlockIndex&&this.currentBlockIndex++,i}insertAtEnd(){return this.currentBlockIndex=this.blocks.length-1,this.insert()}async mergeBlocks(e,t){let i;if(e.name===t.name&&e.mergeable){const r=await t.data;if(An(r)){console.error("Could not merge Block. Failed to extract original Block data.");return}const[a]=gu([r],e.tool.sanitizeConfig);i=a}else if(e.mergeable&&ha(t,"export")&&ha(e,"import")){const r=await t.exportDataAsString(),a=Xn(r,e.tool.sanitizeConfig);i=ap(a,e.tool.conversionConfig)}i!==void 0&&(await e.mergeWith(i),this.removeBlock(t),this.currentBlockIndex=this._blocks.indexOf(e))}removeBlock(e,t=!0){return new Promise(i=>{const r=this._blocks.indexOf(e);if(!this.validateIndex(r))throw new Error("Can't find a Block to remove");e.destroy(),this._blocks.remove(r),this.blockDidMutated(dp,e,{index:r}),this.currentBlockIndex>=r&&this.currentBlockIndex--,this.blocks.length?r===0&&(this.currentBlockIndex=0):(this.unsetCurrentBlock(),t&&this.insert()),i()})}removeSelectedBlocks(){let e;for(let t=this.blocks.length-1;t>=0;t--)this.blocks[t].selected&&(this.removeBlock(this.blocks[t]),e=t);return e}removeAllBlocks(){for(let e=this.blocks.length-1;e>=0;e--)this._blocks.remove(e);this.unsetCurrentBlock(),this.insert(),this.currentBlock.firstInput.focus()}split(){const e=this.Editor.Caret.extractFragmentFromCaretPosition(),t=Y.make("div");t.appendChild(e);const i={text:Y.isEmpty(t)?"":t.innerHTML};return this.insert({data:i})}getBlockByIndex(e){return e===-1&&(e=this._blocks.length-1),this._blocks[e]}getBlockIndex(e){return this._blocks.indexOf(e)}getBlockById(e){return this._blocks.array.find(t=>t.id===e)}getBlock(e){Y.isElement(e)||(e=e.parentNode);const t=this._blocks.nodes,i=e.closest(`.${fo.CSS.wrapper}`),r=t.indexOf(i);if(r>=0)return this._blocks[r]}setCurrentBlockByChildNode(e){Y.isElement(e)||(e=e.parentNode);const t=e.closest(`.${fo.CSS.wrapper}`);if(!t)return;const i=t.closest(`.${this.Editor.UI.CSS.editorWrapper}`);if(i!=null&&i.isEqualNode(this.Editor.UI.nodes.wrapper))return this.currentBlockIndex=this._blocks.nodes.indexOf(t),this.currentBlock.updateCurrentInput(),this.currentBlock}getBlockByChildNode(e){if(!e||!(e instanceof Node))return;Y.isElement(e)||(e=e.parentNode);const t=e.closest(`.${fo.CSS.wrapper}`);return this.blocks.find(i=>i.holder===t)}swap(e,t){this._blocks.swap(e,t),this.currentBlockIndex=t}move(e,t=this.currentBlockIndex){if(isNaN(e)||isNaN(t)){ot("Warning during 'move' call: incorrect indices provided.","warn");return}if(!this.validateIndex(e)||!this.validateIndex(t)){ot("Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.","warn");return}this._blocks.move(e,t),this.currentBlockIndex=e,this.blockDidMutated(HS,this.currentBlock,{fromIndex:t,toIndex:e})}async convert(e,t,i){if(!await e.save())throw new Error("Could not convert Block. Failed to extract original Block data.");const r=this.Editor.Tools.blockTools.get(t);if(!r)throw new Error(`Could not convert Block. Tool «${t}» not found.`);const a=await e.exportDataAsString(),l=Xn(a,r.sanitizeConfig);let u=ap(l,r.conversionConfig);return i&&(u=Object.assign(u,i)),this.replace(e,r.name,u)}unsetCurrentBlock(){this.currentBlockIndex=-1}async clear(e=!1){const t=new US;this.blocks.forEach(i=>{t.add(async()=>{await this.removeBlock(i,!1)})}),await t.completed,this.unsetCurrentBlock(),e&&this.insert(),this.Editor.UI.checkEmptiness()}async destroy(){await Promise.all(this.blocks.map(e=>e.destroy()))}bindBlockEvents(e){const{BlockEvents:t}=this.Editor;this.readOnlyMutableListeners.on(e.holder,"keydown",i=>{t.keydown(i)}),this.readOnlyMutableListeners.on(e.holder,"keyup",i=>{t.keyup(i)}),this.readOnlyMutableListeners.on(e.holder,"dragover",i=>{t.dragOver(i)}),this.readOnlyMutableListeners.on(e.holder,"dragleave",i=>{t.dragLeave(i)}),e.on("didMutated",i=>this.blockDidMutated(fp,i,{index:this.getBlockIndex(i)}))}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}enableModuleBindings(){this.readOnlyMutableListeners.on(document,"cut",e=>this.Editor.BlockEvents.handleCommandX(e)),this.blocks.forEach(e=>{this.bindBlockEvents(e)})}validateIndex(e){return!(e<0||e>=this._blocks.length)}blockDidMutated(e,t,i){const r=new CustomEvent(e,{detail:{target:new co(t),...i}});return this.eventsDispatcher.emit(Zg,{event:r}),t}}class $S extends Ye{constructor(){super(...arguments),this.anyBlockSelectedCache=null,this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1}get sanitizerConfig(){return{p:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},ol:{},ul:{},li:{},br:!0,img:{src:!0,width:!0,height:!0},a:{href:!0},b:{},i:{},u:{}}}get allBlocksSelected(){const{BlockManager:e}=this.Editor;return e.blocks.every(t=>t.selected===!0)}set allBlocksSelected(e){const{BlockManager:t}=this.Editor;t.blocks.forEach(i=>{i.selected=e}),this.clearCache()}get anyBlockSelected(){const{BlockManager:e}=this.Editor;return this.anyBlockSelectedCache===null&&(this.anyBlockSelectedCache=e.blocks.some(t=>t.selected===!0)),this.anyBlockSelectedCache}get selectedBlocks(){return this.Editor.BlockManager.blocks.filter(e=>e.selected)}prepare(){this.selection=new Ae,Yi.add({name:"CMD+A",handler:e=>{const{BlockManager:t,ReadOnly:i}=this.Editor;if(i.isEnabled){e.preventDefault(),this.selectAllBlocks();return}t.currentBlock&&this.handleCommandA(e)},on:this.Editor.UI.nodes.redactor})}toggleReadOnly(){Ae.get().removeAllRanges(),this.allBlocksSelected=!1}unSelectBlockByIndex(e){const{BlockManager:t}=this.Editor;let i;isNaN(e)?i=t.currentBlock:i=t.getBlockByIndex(e),i.selected=!1,this.clearCache()}clearSelection(e,t=!1){const{BlockManager:i,Caret:r,RectangleSelection:a}=this.Editor;this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1;const l=e&&e instanceof KeyboardEvent,u=l&&jg(e.keyCode);if(this.anyBlockSelected&&l&&u&&!Ae.isSelectionExists){const d=i.removeSelectedBlocks();i.insertDefaultBlockAtIndex(d,!0),r.setToBlock(i.currentBlock),ua(()=>{const h=e.key;r.insertContentAtCaretPosition(h.length>1?"":h)},20)()}if(this.Editor.CrossBlockSelection.clear(e),!this.anyBlockSelected||a.isRectActivated()){this.Editor.RectangleSelection.clearSelection();return}t&&this.selection.restore(),this.allBlocksSelected=!1}copySelectedBlocks(e){e.preventDefault();const t=Y.make("div");this.selectedBlocks.forEach(a=>{const l=Xn(a.holder.innerHTML,this.sanitizerConfig),u=Y.make("p");u.innerHTML=l,t.appendChild(u)});const i=Array.from(t.childNodes).map(a=>a.textContent).join(`

`),r=t.innerHTML;return e.clipboardData.setData("text/plain",i),e.clipboardData.setData("text/html",r),Promise.all(this.selectedBlocks.map(a=>a.save())).then(a=>{try{e.clipboardData.setData(this.Editor.Paste.MIME_TYPE,JSON.stringify(a))}catch{}})}selectBlockByIndex(e){const{BlockManager:t}=this.Editor,i=t.getBlockByIndex(e);i!==void 0&&this.selectBlock(i)}selectBlock(e){this.selection.save(),Ae.get().removeAllRanges(),e.selected=!0,this.clearCache(),this.Editor.InlineToolbar.close()}unselectBlock(e){e.selected=!1,this.clearCache()}clearCache(){this.anyBlockSelectedCache=null}destroy(){Yi.remove(this.Editor.UI.nodes.redactor,"CMD+A")}handleCommandA(e){if(this.Editor.RectangleSelection.clearSelection(),Y.isNativeInput(e.target)&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}const t=this.Editor.BlockManager.getBlock(e.target),i=t.inputs;if(i.length>1&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}if(i.length===1&&!this.needToSelectAll){this.needToSelectAll=!0;return}this.needToSelectAll?(e.preventDefault(),this.selectAllBlocks(),this.needToSelectAll=!1,this.readyToBlockSelection=!1):this.readyToBlockSelection&&(e.preventDefault(),this.selectBlock(t),this.needToSelectAll=!0)}selectAllBlocks(){this.selection.save(),Ae.get().removeAllRanges(),this.allBlocksSelected=!0,this.Editor.InlineToolbar.close()}}class ma extends Ye{get positions(){return{START:"start",END:"end",DEFAULT:"default"}}static get CSS(){return{shadowCaret:"cdx-shadow-caret"}}setToBlock(e,t=this.positions.DEFAULT,i=0){var r;const{BlockManager:a,BlockSelection:l}=this.Editor;if(l.clearSelection(),!e.focusable){(r=window.getSelection())==null||r.removeAllRanges(),l.selectBlock(e),a.currentBlock=e;return}let u;switch(t){case this.positions.START:u=e.firstInput;break;case this.positions.END:u=e.lastInput;break;default:u=e.currentInput}if(!u)return;const d=Y.getDeepestNode(u,t===this.positions.END),h=Y.getContentLength(d);switch(!0){case t===this.positions.START:i=0;break;case t===this.positions.END:case i>h:i=h;break}this.set(d,i),a.setCurrentBlockByChildNode(e.holder),a.currentBlock.currentInput=u}setToInput(e,t=this.positions.DEFAULT,i=0){const{currentBlock:r}=this.Editor.BlockManager,a=Y.getDeepestNode(e);switch(t){case this.positions.START:this.set(a,0);break;case this.positions.END:this.set(a,Y.getContentLength(a));break;default:i&&this.set(a,i)}r.currentInput=e}set(e,t=0){const{top:i,bottom:r}=Ae.setCursor(e,t),{innerHeight:a}=window;i<0?window.scrollBy(0,i-30):r>a&&window.scrollBy(0,r-a+30)}setToTheLastBlock(){const e=this.Editor.BlockManager.lastBlock;if(e)if(e.tool.isDefault&&e.isEmpty)this.setToBlock(e);else{const t=this.Editor.BlockManager.insertAtEnd();this.setToBlock(t)}}extractFragmentFromCaretPosition(){const e=Ae.get();if(e.rangeCount){const t=e.getRangeAt(0),i=this.Editor.BlockManager.currentBlock.currentInput;if(t.deleteContents(),i)if(Y.isNativeInput(i)){const r=i,a=document.createDocumentFragment(),l=r.value.substring(0,r.selectionStart),u=r.value.substring(r.selectionStart);return a.textContent=u,r.value=l,a}else{const r=t.cloneRange();return r.selectNodeContents(i),r.setStart(t.endContainer,t.endOffset),r.extractContents()}}}navigateNext(e=!1){const{BlockManager:t}=this.Editor,{currentBlock:i,nextBlock:r}=t;if(i===void 0)return!1;const{nextInput:a,currentInput:l}=i,u=l!==void 0?ta(l):void 0;let d=r;const h=e||u||!i.focusable;if(a&&h)return this.setToInput(a,this.positions.START),!0;if(d===null){if(i.tool.isDefault||!h)return!1;d=t.insertAtEnd()}return h?(this.setToBlock(d,this.positions.START),!0):!1}navigatePrevious(e=!1){const{currentBlock:t,previousBlock:i}=this.Editor.BlockManager;if(!t)return!1;const{previousInput:r,currentInput:a}=t,l=a!==void 0?ea(a):void 0,u=e||l||!t.focusable;return r&&u?(this.setToInput(r,this.positions.END),!0):i!==null&&u?(this.setToBlock(i,this.positions.END),!0):!1}createShadow(e){const t=document.createElement("span");t.classList.add(ma.CSS.shadowCaret),e.insertAdjacentElement("beforeend",t)}restoreCaret(e){const t=e.querySelector(`.${ma.CSS.shadowCaret}`);if(!t)return;new Ae().expandToTag(t);const i=document.createRange();i.selectNode(t),i.extractContents()}insertContentAtCaretPosition(e){const t=document.createDocumentFragment(),i=document.createElement("div"),r=Ae.get(),a=Ae.range;i.innerHTML=e,Array.from(i.childNodes).forEach(h=>t.appendChild(h)),t.childNodes.length===0&&t.appendChild(new Text);const l=t.lastChild;a.deleteContents(),a.insertNode(t);const u=document.createRange(),d=l.nodeType===Node.TEXT_NODE?l:l.firstChild;d!==null&&d.textContent!==null&&u.setStart(d,d.textContent.length),r.removeAllRanges(),r.addRange(u)}}class jS extends Ye{constructor(){super(...arguments),this.onMouseUp=()=>{this.listeners.off(document,"mouseover",this.onMouseOver),this.listeners.off(document,"mouseup",this.onMouseUp)},this.onMouseOver=e=>{const{BlockManager:t,BlockSelection:i}=this.Editor;if(e.relatedTarget===null&&e.target===null)return;const r=t.getBlockByChildNode(e.relatedTarget)||this.lastSelectedBlock,a=t.getBlockByChildNode(e.target);if(!(!r||!a)&&a!==r){if(r===this.firstSelectedBlock){Ae.get().removeAllRanges(),r.selected=!0,a.selected=!0,i.clearCache();return}if(a===this.firstSelectedBlock){r.selected=!1,a.selected=!1,i.clearCache();return}this.Editor.InlineToolbar.close(),this.toggleBlocksSelectedState(r,a),this.lastSelectedBlock=a}}}async prepare(){this.listeners.on(document,"mousedown",e=>{this.enableCrossBlockSelection(e)})}watchSelection(e){if(e.button!==a2.LEFT)return;const{BlockManager:t}=this.Editor;this.firstSelectedBlock=t.getBlock(e.target),this.lastSelectedBlock=this.firstSelectedBlock,this.listeners.on(document,"mouseover",this.onMouseOver),this.listeners.on(document,"mouseup",this.onMouseUp)}get isCrossBlockSelectionStarted(){return!!this.firstSelectedBlock&&!!this.lastSelectedBlock&&this.firstSelectedBlock!==this.lastSelectedBlock}toggleBlockSelectedState(e=!0){const{BlockManager:t,BlockSelection:i}=this.Editor;this.lastSelectedBlock||(this.lastSelectedBlock=this.firstSelectedBlock=t.currentBlock),this.firstSelectedBlock===this.lastSelectedBlock&&(this.firstSelectedBlock.selected=!0,i.clearCache(),Ae.get().removeAllRanges());const r=t.blocks.indexOf(this.lastSelectedBlock)+(e?1:-1),a=t.blocks[r];a&&(this.lastSelectedBlock.selected!==a.selected?(a.selected=!0,i.clearCache()):(this.lastSelectedBlock.selected=!1,i.clearCache()),this.lastSelectedBlock=a,this.Editor.InlineToolbar.close(),a.holder.scrollIntoView({block:"nearest"}))}clear(e){const{BlockManager:t,BlockSelection:i,Caret:r}=this.Editor,a=t.blocks.indexOf(this.firstSelectedBlock),l=t.blocks.indexOf(this.lastSelectedBlock);if(i.anyBlockSelected&&a>-1&&l>-1&&e&&e instanceof KeyboardEvent)switch(e.keyCode){case Ne.DOWN:case Ne.RIGHT:r.setToBlock(t.blocks[Math.max(a,l)],r.positions.END);break;case Ne.UP:case Ne.LEFT:r.setToBlock(t.blocks[Math.min(a,l)],r.positions.START);break;default:r.setToBlock(t.blocks[Math.max(a,l)],r.positions.END)}this.firstSelectedBlock=this.lastSelectedBlock=null}enableCrossBlockSelection(e){const{UI:t}=this.Editor;Ae.isCollapsed||this.Editor.BlockSelection.clearSelection(e),t.nodes.redactor.contains(e.target)?this.watchSelection(e):this.Editor.BlockSelection.clearSelection(e)}toggleBlocksSelectedState(e,t){const{BlockManager:i,BlockSelection:r}=this.Editor,a=i.blocks.indexOf(e),l=i.blocks.indexOf(t),u=e.selected!==t.selected;for(let d=Math.min(a,l);d<=Math.max(a,l);d++){const h=i.blocks[d];h!==this.firstSelectedBlock&&h!==(u?e:t)&&(i.blocks[d].selected=!i.blocks[d].selected,r.clearCache())}}}class WS extends Ye{constructor(){super(...arguments),this.isStartedAtEditor=!1}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}enableModuleBindings(){const{UI:e}=this.Editor;this.readOnlyMutableListeners.on(e.nodes.holder,"drop",async t=>{await this.processDrop(t)},!0),this.readOnlyMutableListeners.on(e.nodes.holder,"dragstart",()=>{this.processDragStart()}),this.readOnlyMutableListeners.on(e.nodes.holder,"dragover",t=>{this.processDragOver(t)},!0)}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}async processDrop(e){const{BlockManager:t,Paste:i,Caret:r}=this.Editor;e.preventDefault(),t.blocks.forEach(l=>{l.dropTarget=!1}),Ae.isAtEditor&&!Ae.isCollapsed&&this.isStartedAtEditor&&document.execCommand("delete"),this.isStartedAtEditor=!1;const a=t.setCurrentBlockByChildNode(e.target);if(a)this.Editor.Caret.setToBlock(a,r.positions.END);else{const l=t.setCurrentBlockByChildNode(t.lastBlock.holder);this.Editor.Caret.setToBlock(l,r.positions.END)}await i.processDataTransfer(e.dataTransfer,!0)}processDragStart(){Ae.isAtEditor&&!Ae.isCollapsed&&(this.isStartedAtEditor=!0),this.Editor.InlineToolbar.close()}processDragOver(e){e.preventDefault()}}const qS=180,VS=400;class KS extends Ye{constructor({config:e,eventsDispatcher:t}){super({config:e,eventsDispatcher:t}),this.disabled=!1,this.batchingTimeout=null,this.batchingOnChangeQueue=new Map,this.batchTime=VS,this.mutationObserver=new MutationObserver(i=>{this.redactorChanged(i)}),this.eventsDispatcher.on(Zg,i=>{this.particularBlockChanged(i.event)}),this.eventsDispatcher.on(Jg,()=>{this.disable()}),this.eventsDispatcher.on(Qg,()=>{this.enable()})}enable(){this.mutationObserver.observe(this.Editor.UI.nodes.redactor,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.disabled=!1}disable(){this.mutationObserver.disconnect(),this.disabled=!0}particularBlockChanged(e){this.disabled||!bt(this.config.onChange)||(this.batchingOnChangeQueue.set(`block:${e.detail.target.id}:event:${e.type}`,e),this.batchingTimeout&&clearTimeout(this.batchingTimeout),this.batchingTimeout=setTimeout(()=>{let t;this.batchingOnChangeQueue.size===1?t=this.batchingOnChangeQueue.values().next().value:t=Array.from(this.batchingOnChangeQueue.values()),this.config.onChange&&this.config.onChange(this.Editor.API.methods,t),this.batchingOnChangeQueue.clear()},this.batchTime))}redactorChanged(e){this.eventsDispatcher.emit(Fc,{mutations:e})}}const xm=class _m extends Ye{constructor(){super(...arguments),this.MIME_TYPE="application/x-editor-js",this.toolsTags={},this.tagsByTool={},this.toolsPatterns=[],this.toolsFiles={},this.exceptionList=[],this.processTool=e=>{try{const t=e.create({},{},!1);if(e.pasteConfig===!1){this.exceptionList.push(e.name);return}if(!bt(t.onPaste))return;this.getTagsConfig(e),this.getFilesConfig(e),this.getPatternsConfig(e)}catch(t){ot(`Paste handling for «${e.name}» Tool hasn't been set up because of the error`,"warn",t)}},this.handlePasteEvent=async e=>{const{BlockManager:t,Toolbar:i}=this.Editor,r=t.setCurrentBlockByChildNode(e.target);!r||this.isNativeBehaviour(e.target)&&!e.clipboardData.types.includes("Files")||r&&this.exceptionList.includes(r.name)||(e.preventDefault(),this.processDataTransfer(e.clipboardData),i.close())}}async prepare(){this.processTools()}toggleReadOnly(e){e?this.unsetCallback():this.setCallback()}async processDataTransfer(e,t=!1){const{Tools:i}=this.Editor,r=e.types;if((r.includes?r.includes("Files"):r.contains("Files"))&&!An(this.toolsFiles)){await this.processFiles(e.files);return}const a=e.getData(this.MIME_TYPE),l=e.getData("text/plain");let u=e.getData("text/html");if(a)try{this.insertEditorJSData(JSON.parse(a));return}catch{}t&&l.trim()&&u.trim()&&(u="<p>"+(u.trim()?u:l)+"</p>");const d=Object.keys(this.toolsTags).reduce((p,m)=>(p[m.toLowerCase()]=this.toolsTags[m].sanitizationConfig??{},p),{}),h=Object.assign({},d,i.getAllInlineToolsSanitizeConfig(),{br:{}}),g=Xn(u,h);!g.trim()||g.trim()===l||!Y.isHTMLString(g)?await this.processText(l):await this.processText(g,!0)}async processText(e,t=!1){const{Caret:i,BlockManager:r}=this.Editor,a=t?this.processHTML(e):this.processPlain(e);if(!a.length)return;if(a.length===1){a[0].isBlock?this.processSingleBlock(a.pop()):this.processInlinePaste(a.pop());return}const l=r.currentBlock&&r.currentBlock.tool.isDefault&&r.currentBlock.isEmpty;a.map(async(u,d)=>this.insertBlock(u,d===0&&l)),r.currentBlock&&i.setToBlock(r.currentBlock,i.positions.END)}setCallback(){this.listeners.on(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}unsetCallback(){this.listeners.off(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}processTools(){const e=this.Editor.Tools.blockTools;Array.from(e.values()).forEach(this.processTool)}collectTagNames(e){return mo(e)?[e]:Pt(e)?Object.keys(e):[]}getTagsConfig(e){if(e.pasteConfig===!1)return;const t=e.pasteConfig.tags||[],i=[];t.forEach(r=>{const a=this.collectTagNames(r);i.push(...a),a.forEach(l=>{if(Object.prototype.hasOwnProperty.call(this.toolsTags,l)){ot(`Paste handler for «${e.name}» Tool on «${l}» tag is skipped because it is already used by «${this.toolsTags[l].tool.name}» Tool.`,"warn");return}const u=Pt(r)?r[l]:null;this.toolsTags[l.toUpperCase()]={tool:e,sanitizationConfig:u}})}),this.tagsByTool[e.name]=i.map(r=>r.toUpperCase())}getFilesConfig(e){if(e.pasteConfig===!1)return;const{files:t={}}=e.pasteConfig;let{extensions:i,mimeTypes:r}=t;!i&&!r||(i&&!Array.isArray(i)&&(ot(`«extensions» property of the onDrop config for «${e.name}» Tool should be an array`),i=[]),r&&!Array.isArray(r)&&(ot(`«mimeTypes» property of the onDrop config for «${e.name}» Tool should be an array`),r=[]),r&&(r=r.filter(a=>h2(a)?!0:(ot(`MIME type value «${a}» for the «${e.name}» Tool is not a valid MIME type`,"warn"),!1))),this.toolsFiles[e.name]={extensions:i||[],mimeTypes:r||[]})}getPatternsConfig(e){e.pasteConfig===!1||!e.pasteConfig.patterns||An(e.pasteConfig.patterns)||Object.entries(e.pasteConfig.patterns).forEach(([t,i])=>{i instanceof RegExp||ot(`Pattern ${i} for «${e.name}» Tool is skipped because it should be a Regexp instance.`,"warn"),this.toolsPatterns.push({key:t,pattern:i,tool:e})})}isNativeBehaviour(e){return Y.isNativeInput(e)}async processFiles(e){const{BlockManager:t}=this.Editor;let i;i=await Promise.all(Array.from(e).map(a=>this.processFile(a))),i=i.filter(a=>!!a);const r=t.currentBlock.tool.isDefault&&t.currentBlock.isEmpty;i.forEach((a,l)=>{t.paste(a.type,a.event,l===0&&r)})}async processFile(e){const t=d2(e),i=Object.entries(this.toolsFiles).find(([a,{mimeTypes:l,extensions:u}])=>{const[d,h]=e.type.split("/"),g=u.find(m=>m.toLowerCase()===t.toLowerCase()),p=l.find(m=>{const[k,v]=m.split("/");return k===d&&(v===h||v==="*")});return!!g||!!p});if(!i)return;const[r]=i;return{event:this.composePasteEvent("file",{file:e}),type:r}}processHTML(e){const{Tools:t}=this.Editor,i=Y.make("DIV");return i.innerHTML=e,this.getNodes(i).map(r=>{let a,l=t.defaultTool,u=!1;switch(r.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:a=Y.make("div"),a.appendChild(r);break;case Node.ELEMENT_NODE:a=r,u=!0,this.toolsTags[a.tagName]&&(l=this.toolsTags[a.tagName].tool);break}const{tags:d}=l.pasteConfig||{tags:[]},h=d.reduce((m,k)=>(this.collectTagNames(k).forEach(v=>{const b=Pt(k)?k[v]:null;m[v.toLowerCase()]=b||{}}),m),{}),g=Object.assign({},h,l.baseSanitizeConfig);if(a.tagName.toLowerCase()==="table"){const m=Xn(a.outerHTML,g);a=Y.make("div",void 0,{innerHTML:m}).firstChild}else a.innerHTML=Xn(a.innerHTML,g);const p=this.composePasteEvent("tag",{data:a});return{content:a,isBlock:u,tool:l.name,event:p}}).filter(r=>{const a=Y.isEmpty(r.content),l=Y.isSingleTag(r.content);return!a||l})}processPlain(e){const{defaultBlock:t}=this.config;if(!e)return[];const i=t;return e.split(/\r?\n/).filter(r=>r.trim()).map(r=>{const a=Y.make("div");a.textContent=r;const l=this.composePasteEvent("tag",{data:a});return{content:a,tool:i,isBlock:!1,event:l}})}async processSingleBlock(e){const{Caret:t,BlockManager:i}=this.Editor,{currentBlock:r}=i;if(!r||e.tool!==r.name||!Y.containsOnlyInlineElements(e.content.innerHTML)){this.insertBlock(e,(r==null?void 0:r.tool.isDefault)&&r.isEmpty);return}t.insertContentAtCaretPosition(e.content.innerHTML)}async processInlinePaste(e){const{BlockManager:t,Caret:i}=this.Editor,{content:r}=e;if(t.currentBlock&&t.currentBlock.tool.isDefault&&r.textContent.length<_m.PATTERN_PROCESSING_MAX_LENGTH){const a=await this.processPattern(r.textContent);if(a){const l=t.currentBlock&&t.currentBlock.tool.isDefault&&t.currentBlock.isEmpty,u=t.paste(a.tool,a.event,l);i.setToBlock(u,i.positions.END);return}}if(t.currentBlock&&t.currentBlock.currentInput){const a=t.currentBlock.tool.baseSanitizeConfig;document.execCommand("insertHTML",!1,Xn(r.innerHTML,a))}else this.insertBlock(e)}async processPattern(e){const t=this.toolsPatterns.find(i=>{const r=i.pattern.exec(e);return r?e===r.shift():!1});return t?{event:this.composePasteEvent("pattern",{key:t.key,data:e}),tool:t.tool.name}:void 0}insertBlock(e,t=!1){const{BlockManager:i,Caret:r}=this.Editor,{currentBlock:a}=i;let l;if(t&&a&&a.isEmpty){l=i.paste(e.tool,e.event,!0),r.setToBlock(l,r.positions.END);return}l=i.paste(e.tool,e.event),r.setToBlock(l,r.positions.END)}insertEditorJSData(e){const{BlockManager:t,Caret:i,Tools:r}=this.Editor;gu(e,a=>r.blockTools.get(a).sanitizeConfig).forEach(({tool:a,data:l},u)=>{let d=!1;u===0&&(d=t.currentBlock&&t.currentBlock.tool.isDefault&&t.currentBlock.isEmpty);const h=t.insert({tool:a,data:l,replace:d});i.setToBlock(h,i.positions.END)})}processElementNode(e,t,i){const r=Object.keys(this.toolsTags),a=e,{tool:l}=this.toolsTags[a.tagName]||{},u=this.tagsByTool[l==null?void 0:l.name]||[],d=r.includes(a.tagName),h=Y.blockElements.includes(a.tagName.toLowerCase()),g=Array.from(a.children).some(({tagName:m})=>r.includes(m)&&!u.includes(m)),p=Array.from(a.children).some(({tagName:m})=>Y.blockElements.includes(m.toLowerCase()));if(!h&&!d&&!g)return i.appendChild(a),[...t,i];if(d&&!g||h&&!p&&!g)return[...t,i,a]}getNodes(e){const t=Array.from(e.childNodes);let i;const r=(a,l)=>{if(Y.isEmpty(l)&&!Y.isSingleTag(l))return a;const u=a[a.length-1];let d=new DocumentFragment;switch(u&&Y.isFragment(u)&&(d=a.pop()),l.nodeType){case Node.ELEMENT_NODE:if(i=this.processElementNode(l,a,d),i)return i;break;case Node.TEXT_NODE:return d.appendChild(l),[...a,d];default:return[...a,d]}return[...a,...Array.from(l.childNodes).reduce(r,[])]};return t.reduce(r,[])}composePasteEvent(e,t){return new CustomEvent(e,{detail:t})}};xm.PATTERN_PROCESSING_MAX_LENGTH=450;let GS=xm;class YS extends Ye{constructor(){super(...arguments),this.toolsDontSupportReadOnly=[],this.readOnlyEnabled=!1}get isEnabled(){return this.readOnlyEnabled}async prepare(){const{Tools:e}=this.Editor,{blockTools:t}=e,i=[];Array.from(t.entries()).forEach(([r,a])=>{a.isReadOnlySupported||i.push(r)}),this.toolsDontSupportReadOnly=i,this.config.readOnly&&i.length>0&&this.throwCriticalError(),this.toggle(this.config.readOnly,!0)}async toggle(e=!this.readOnlyEnabled,t=!1){e&&this.toolsDontSupportReadOnly.length>0&&this.throwCriticalError();const i=this.readOnlyEnabled;this.readOnlyEnabled=e;for(const a in this.Editor)this.Editor[a].toggleReadOnly&&this.Editor[a].toggleReadOnly(e);if(i===e)return this.readOnlyEnabled;if(t)return this.readOnlyEnabled;this.Editor.ModificationsObserver.disable();const r=await this.Editor.Saver.save();return await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(r.blocks),this.Editor.ModificationsObserver.enable(),this.readOnlyEnabled}throwCriticalError(){throw new Yg(`To enable read-only mode all connected tools should support it. Tools ${this.toolsDontSupportReadOnly.join(", ")} don't support read-only mode.`)}}class Nr extends Ye{constructor(){super(...arguments),this.isRectSelectionActivated=!1,this.SCROLL_SPEED=3,this.HEIGHT_OF_SCROLL_ZONE=40,this.BOTTOM_SCROLL_ZONE=1,this.TOP_SCROLL_ZONE=2,this.MAIN_MOUSE_BUTTON=0,this.mousedown=!1,this.isScrolling=!1,this.inScrollZone=null,this.startX=0,this.startY=0,this.mouseX=0,this.mouseY=0,this.stackOfSelected=[],this.listenerIds=[]}static get CSS(){return{overlay:"codex-editor-overlay",overlayContainer:"codex-editor-overlay__container",rect:"codex-editor-overlay__rectangle",topScrollZone:"codex-editor-overlay__scroll-zone--top",bottomScrollZone:"codex-editor-overlay__scroll-zone--bottom"}}prepare(){this.enableModuleBindings()}startSelection(e,t){const i=document.elementFromPoint(e-window.pageXOffset,t-window.pageYOffset);i.closest(`.${this.Editor.Toolbar.CSS.toolbar}`)||(this.Editor.BlockSelection.allBlocksSelected=!1,this.clearSelection(),this.stackOfSelected=[]);const r=[`.${fo.CSS.content}`,`.${this.Editor.Toolbar.CSS.toolbar}`,`.${this.Editor.InlineToolbar.CSS.inlineToolbar}`],a=i.closest("."+this.Editor.UI.CSS.editorWrapper),l=r.some(u=>!!i.closest(u));!a||l||(this.mousedown=!0,this.startX=e,this.startY=t)}endSelection(){this.mousedown=!1,this.startX=0,this.startY=0,this.overlayRectangle.style.display="none"}isRectActivated(){return this.isRectSelectionActivated}clearSelection(){this.isRectSelectionActivated=!1}enableModuleBindings(){const{container:e}=this.genHTML();this.listeners.on(e,"mousedown",t=>{this.processMouseDown(t)},!1),this.listeners.on(document.body,"mousemove",Rc(t=>{this.processMouseMove(t)},10),{passive:!0}),this.listeners.on(document.body,"mouseleave",()=>{this.processMouseLeave()}),this.listeners.on(window,"scroll",Rc(t=>{this.processScroll(t)},10),{passive:!0}),this.listeners.on(document.body,"mouseup",()=>{this.processMouseUp()},!1)}processMouseDown(e){e.button===this.MAIN_MOUSE_BUTTON&&(e.target.closest(Y.allInputsSelector)!==null||this.startSelection(e.pageX,e.pageY))}processMouseMove(e){this.changingRectangle(e),this.scrollByZones(e.clientY)}processMouseLeave(){this.clearSelection(),this.endSelection()}processScroll(e){this.changingRectangle(e)}processMouseUp(){this.clearSelection(),this.endSelection()}scrollByZones(e){if(this.inScrollZone=null,e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.TOP_SCROLL_ZONE),document.documentElement.clientHeight-e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.BOTTOM_SCROLL_ZONE),!this.inScrollZone){this.isScrolling=!1;return}this.isScrolling||(this.scrollVertical(this.inScrollZone===this.TOP_SCROLL_ZONE?-this.SCROLL_SPEED:this.SCROLL_SPEED),this.isScrolling=!0)}genHTML(){const{UI:e}=this.Editor,t=e.nodes.holder.querySelector("."+e.CSS.editorWrapper),i=Y.make("div",Nr.CSS.overlay,{}),r=Y.make("div",Nr.CSS.overlayContainer,{}),a=Y.make("div",Nr.CSS.rect,{});return r.appendChild(a),i.appendChild(r),t.appendChild(i),this.overlayRectangle=a,{container:t,overlay:i}}scrollVertical(e){if(!(this.inScrollZone&&this.mousedown))return;const t=window.pageYOffset;window.scrollBy(0,e),this.mouseY+=window.pageYOffset-t,setTimeout(()=>{this.scrollVertical(e)},0)}changingRectangle(e){if(!this.mousedown)return;e.pageY!==void 0&&(this.mouseX=e.pageX,this.mouseY=e.pageY);const{rightPos:t,leftPos:i,index:r}=this.genInfoForMouseSelection(),a=this.startX>t&&this.mouseX>t,l=this.startX<i&&this.mouseX<i;this.rectCrossesBlocks=!(a||l),this.isRectSelectionActivated||(this.rectCrossesBlocks=!1,this.isRectSelectionActivated=!0,this.shrinkRectangleToPoint(),this.overlayRectangle.style.display="block"),this.updateRectangleSize(),this.Editor.Toolbar.close(),r!==void 0&&(this.trySelectNextBlock(r),this.inverseSelection(),Ae.get().removeAllRanges())}shrinkRectangleToPoint(){this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`}inverseSelection(){const e=this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;if(this.rectCrossesBlocks&&!e)for(const t of this.stackOfSelected)this.Editor.BlockSelection.selectBlockByIndex(t);if(!this.rectCrossesBlocks&&e)for(const t of this.stackOfSelected)this.Editor.BlockSelection.unSelectBlockByIndex(t)}updateRectangleSize(){this.mouseY>=this.startY?(this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.mouseY-window.pageYOffset}px`):(this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.top=`${this.mouseY-window.pageYOffset}px`),this.mouseX>=this.startX?(this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.mouseX-window.pageXOffset}px`):(this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.left=`${this.mouseX-window.pageXOffset}px`)}genInfoForMouseSelection(){const e=document.body.offsetWidth/2,t=this.mouseY-window.pageYOffset,i=document.elementFromPoint(e,t),r=this.Editor.BlockManager.getBlockByChildNode(i);let a;r!==void 0&&(a=this.Editor.BlockManager.blocks.findIndex(g=>g.holder===r.holder));const l=this.Editor.BlockManager.lastBlock.holder.querySelector("."+fo.CSS.content),u=Number.parseInt(window.getComputedStyle(l).width,10)/2,d=e-u,h=e+u;return{index:a,leftPos:d,rightPos:h}}addBlockInSelection(e){this.rectCrossesBlocks&&this.Editor.BlockSelection.selectBlockByIndex(e),this.stackOfSelected.push(e)}trySelectNextBlock(e){const t=this.stackOfSelected[this.stackOfSelected.length-1]===e,i=this.stackOfSelected.length,r=1,a=-1,l=0;if(t)return;const u=this.stackOfSelected[i-1]-this.stackOfSelected[i-2]>0;let d=l;i>1&&(d=u?r:a);const h=e>this.stackOfSelected[i-1]&&d===r,g=e<this.stackOfSelected[i-1]&&d===a,p=!(h||g||d===l);if(!p&&(e>this.stackOfSelected[i-1]||this.stackOfSelected[i-1]===void 0)){let v=this.stackOfSelected[i-1]+1||e;for(v;v<=e;v++)this.addBlockInSelection(v);return}if(!p&&e<this.stackOfSelected[i-1]){for(let v=this.stackOfSelected[i-1]-1;v>=e;v--)this.addBlockInSelection(v);return}if(!p)return;let m=i-1,k;for(e>this.stackOfSelected[i-1]?k=()=>e>this.stackOfSelected[m]:k=()=>e<this.stackOfSelected[m];k();)this.rectCrossesBlocks&&this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[m]),this.stackOfSelected.pop(),m--}}class XS extends Ye{async render(e){return new Promise(t=>{const{Tools:i,BlockManager:r}=this.Editor;if(e.length===0)r.insert();else{const a=e.map(({type:l,data:u,tunes:d,id:h})=>{i.available.has(l)===!1&&(Tn(`Tool «${l}» is not found. Check 'tools' property at the Editor.js config.`,"warn"),u=this.composeStubDataForTool(l,u,h),l=i.stubTool);let g;try{g=r.composeBlock({id:h,tool:l,data:u,tunes:d})}catch(p){ot(`Block «${l}» skipped because of plugins error`,"error",{data:u,error:p}),u=this.composeStubDataForTool(l,u,h),l=i.stubTool,g=r.composeBlock({id:h,tool:l,data:u,tunes:d})}return g});r.insertMany(a)}window.requestIdleCallback(()=>{t()},{timeout:2e3})})}composeStubDataForTool(e,t,i){const{Tools:r}=this.Editor;let a=e;if(r.unavailable.has(e)){const l=r.unavailable.get(e).toolbox;l!==void 0&&l[0].title!==void 0&&(a=l[0].title)}return{savedData:{id:i,type:e,data:t},title:a}}}class ZS extends Ye{async save(){const{BlockManager:e,Tools:t}=this.Editor,i=e.blocks,r=[];try{i.forEach(u=>{r.push(this.getSavedData(u))});const a=await Promise.all(r),l=await gu(a,u=>t.blockTools.get(u).sanitizeConfig);return this.makeOutput(l)}catch(a){Tn("Saving failed due to the Error %o","error",a)}}async getSavedData(e){const t=await e.save(),i=t&&await e.validate(t.data);return{...t,isValid:i}}makeOutput(e){const t=[];return e.forEach(({id:i,tool:r,data:a,tunes:l,isValid:u})=>{if(!u){ot(`Block «${r}» skipped because saved data is invalid`);return}if(r===this.Editor.Tools.stubTool){t.push(a);return}const d={id:i,type:r,data:a,...!An(l)&&{tunes:l}};t.push(d)}),{time:+new Date,blocks:t,version:"2.30.5"}}}(function(){try{if(typeof document<"u"){var n=document.createElement("style");n.appendChild(document.createTextNode(".ce-paragraph{line-height:1.6em;outline:none}.ce-block:only-of-type .ce-paragraph[data-placeholder-active]:empty:before,.ce-block:only-of-type .ce-paragraph[data-placeholder-active][data-empty=true]:before{content:attr(data-placeholder-active)}.ce-paragraph p:first-of-type{margin-top:0}.ce-paragraph p:last-of-type{margin-bottom:0}")),document.head.appendChild(n)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const JS='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>';function QS(n){const e=document.createElement("div");e.innerHTML=n.trim();const t=document.createDocumentFragment();return t.append(...Array.from(e.childNodes)),t}/**
 * Base Paragraph Block for the Editor.js.
 * Represents a regular text block
 *
 * @author CodeX (team@codex.so)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 */class _u{static get DEFAULT_PLACEHOLDER(){return""}constructor({data:e,config:t,api:i,readOnly:r}){this.api=i,this.readOnly=r,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=t.placeholder?t.placeholder:_u.DEFAULT_PLACEHOLDER,this._data=e??{},this._element=null,this._preserveBlank=t.preserveBlank??!1}onKeyUp(e){if(e.code!=="Backspace"&&e.code!=="Delete"||!this._element)return;const{textContent:t}=this._element;t===""&&(this._element.innerHTML="")}drawView(){const e=document.createElement("DIV");return e.classList.add(this._CSS.wrapper,this._CSS.block),e.contentEditable="false",e.dataset.placeholderActive=this.api.i18n.t(this._placeholder),this._data.text&&(e.innerHTML=this._data.text),this.readOnly||(e.contentEditable="true",e.addEventListener("keyup",this.onKeyUp)),e}render(){return this._element=this.drawView(),this._element}merge(e){if(!this._element)return;this._data.text+=e.text;const t=QS(e.text);this._element.appendChild(t),this._element.normalize()}validate(e){return!(e.text.trim()===""&&!this._preserveBlank)}save(e){return{text:e.innerHTML}}onPaste(e){const t={text:e.detail.data.innerHTML};this._data=t,window.requestAnimationFrame(()=>{this._element&&(this._element.innerHTML=this._data.text||"")})}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{text:{br:!0}}}static get isReadOnlySupported(){return!0}static get pasteConfig(){return{tags:["P"]}}static get toolbox(){return{icon:JS,title:"Text"}}}class Cu{constructor(){this.commandName="bold"}static get sanitize(){return{b:{}}}render(){return{icon:iS,name:"bold",onActivate:()=>{document.execCommand(this.commandName)},isActive:()=>document.queryCommandState(this.commandName)}}get shortcut(){return"CMD+B"}}Cu.isInline=!0;Cu.title="Bold";class Eu{constructor(){this.commandName="italic",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--italic"},this.nodes={button:null}}static get sanitize(){return{i:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=dS,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const e=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,e),e}get shortcut(){return"CMD+I"}}Eu.isInline=!0;Eu.title="Italic";class Su{constructor({api:e}){this.commandLink="createLink",this.commandUnlink="unlink",this.ENTER_KEY=13,this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--link",buttonUnlink:"ce-inline-tool--unlink",input:"ce-inline-tool-input",inputShowed:"ce-inline-tool-input--showed"},this.nodes={button:null,input:null},this.inputOpened=!1,this.toolbar=e.toolbar,this.inlineToolbar=e.inlineToolbar,this.notifier=e.notifier,this.i18n=e.i18n,this.selection=new Ae}static get sanitize(){return{a:{href:!0,target:"_blank",rel:"nofollow"}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=lp,this.nodes.button}renderActions(){return this.nodes.input=document.createElement("input"),this.nodes.input.placeholder=this.i18n.t("Add a link"),this.nodes.input.enterKeyHint="done",this.nodes.input.classList.add(this.CSS.input),this.nodes.input.addEventListener("keydown",e=>{e.keyCode===this.ENTER_KEY&&this.enterPressed(e)}),this.nodes.input}surround(e){if(e){this.inputOpened?(this.selection.restore(),this.selection.removeFakeBackground()):(this.selection.setFakeBackground(),this.selection.save());const t=this.selection.findParentTag("A");if(t){this.selection.expandToTag(t),this.unlink(),this.closeActions(),this.checkState(),this.toolbar.close();return}}this.toggleActions()}checkState(){const e=this.selection.findParentTag("A");if(e){this.nodes.button.innerHTML=gS,this.nodes.button.classList.add(this.CSS.buttonUnlink),this.nodes.button.classList.add(this.CSS.buttonActive),this.openActions();const t=e.getAttribute("href");this.nodes.input.value=t!=="null"?t:"",this.selection.save()}else this.nodes.button.innerHTML=lp,this.nodes.button.classList.remove(this.CSS.buttonUnlink),this.nodes.button.classList.remove(this.CSS.buttonActive);return!!e}clear(){this.closeActions()}get shortcut(){return"CMD+K"}toggleActions(){this.inputOpened?this.closeActions(!1):this.openActions(!0)}openActions(e=!1){this.nodes.input.classList.add(this.CSS.inputShowed),e&&this.nodes.input.focus(),this.inputOpened=!0}closeActions(e=!0){if(this.selection.isFakeBackgroundEnabled){const t=new Ae;t.save(),this.selection.restore(),this.selection.removeFakeBackground(),t.restore()}this.nodes.input.classList.remove(this.CSS.inputShowed),this.nodes.input.value="",e&&this.selection.clearSaved(),this.inputOpened=!1}enterPressed(e){let t=this.nodes.input.value||"";if(!t.trim()){this.selection.restore(),this.unlink(),e.preventDefault(),this.closeActions();return}if(!this.validateURL(t)){this.notifier.show({message:"Pasted link is not valid.",style:"error"}),ot("Incorrect Link pasted","warn",t);return}t=this.prepareLink(t),this.selection.restore(),this.selection.removeFakeBackground(),this.insertLink(t),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.selection.collapseToEnd(),this.inlineToolbar.close()}validateURL(e){return!/\s/.test(e)}prepareLink(e){return e=e.trim(),e=this.addProtocol(e),e}addProtocol(e){if(/^(\w+):(\/\/)?/.test(e))return e;const t=/^\/[^/\s]/.test(e),i=e.substring(0,1)==="#",r=/^\/\/[^/\s]/.test(e);return!t&&!i&&!r&&(e="http://"+e),e}insertLink(e){const t=this.selection.findParentTag("A");t&&this.selection.expandToTag(t),document.execCommand(this.commandLink,!1,e)}unlink(){document.execCommand(this.commandUnlink)}}Su.isInline=!0;Su.title="Link";class Cm{constructor({api:e}){this.i18nAPI=e.i18n,this.blocksAPI=e.blocks,this.selectionAPI=e.selection,this.toolsAPI=e.tools,this.caretAPI=e.caret}async render(){const e=Ae.get(),t=this.blocksAPI.getBlockByElement(e.anchorNode);if(t===void 0)return[];const i=this.toolsAPI.getBlockTools(),r=await nm(t,i);if(r.length===0)return[];const a=r.reduce((h,g)=>{var p;return(p=g.toolbox)==null||p.forEach(m=>{h.push({icon:m.icon,title:Vt.t(gn.toolNames,m.title),name:g.name,closeOnActivate:!0,onActivate:async()=>{const k=await this.blocksAPI.convert(t.id,g.name,m.data);this.caretAPI.setToBlock(k,"end")}})}),h},[]),l=await t.getActiveToolboxEntry(),u=l!==void 0?l.icon:lm,d=!er();return{icon:u,name:"convert-to",hint:{title:this.i18nAPI.t("Convert to")},children:{searchable:d,items:a,onOpen:()=>{d&&(this.selectionAPI.setFakeBackground(),this.selectionAPI.save())},onClose:()=>{d&&(this.selectionAPI.restore(),this.selectionAPI.removeFakeBackground())}}}}}Cm.isInline=!0;class Em{constructor({data:e,api:t}){this.CSS={wrapper:"ce-stub",info:"ce-stub__info",title:"ce-stub__title",subtitle:"ce-stub__subtitle"},this.api=t,this.title=e.title||this.api.i18n.t("Error"),this.subtitle=this.api.i18n.t("The block can not be displayed correctly."),this.savedData=e.savedData,this.wrapper=this.make()}render(){return this.wrapper}save(){return this.savedData}make(){const e=Y.make("div",this.CSS.wrapper),t=mS,i=Y.make("div",this.CSS.info),r=Y.make("div",this.CSS.title,{textContent:this.title}),a=Y.make("div",this.CSS.subtitle,{textContent:this.subtitle});return e.innerHTML=t,i.appendChild(r),i.appendChild(a),e.appendChild(i),e}}Em.isReadOnlySupported=!0;class eT extends xu{constructor(){super(...arguments),this.type=pi.Inline}get title(){return this.constructable[ku.Title]}create(){return new this.constructable({api:this.api,config:this.settings})}}class tT extends xu{constructor(){super(...arguments),this.type=pi.Tune}create(e,t){return new this.constructable({api:this.api,config:this.settings,block:t,data:e})}}let Kn=class Hi extends Map{get blockTools(){const e=Array.from(this.entries()).filter(([,t])=>t.isBlock());return new Hi(e)}get inlineTools(){const e=Array.from(this.entries()).filter(([,t])=>t.isInline());return new Hi(e)}get blockTunes(){const e=Array.from(this.entries()).filter(([,t])=>t.isTune());return new Hi(e)}get internalTools(){const e=Array.from(this.entries()).filter(([,t])=>t.isInternal);return new Hi(e)}get externalTools(){const e=Array.from(this.entries()).filter(([,t])=>!t.isInternal);return new Hi(e)}};var nT=Object.defineProperty,oT=Object.getOwnPropertyDescriptor,Sm=(n,e,t,i)=>{for(var r=oT(e,t),a=n.length-1,l;a>=0;a--)(l=n[a])&&(r=l(e,t,r)||r);return r&&nT(e,t,r),r};class Tu extends xu{constructor(){super(...arguments),this.type=pi.Block,this.inlineTools=new Kn,this.tunes=new Kn}create(e,t,i){return new this.constructable({data:e,block:t,readOnly:i,api:this.api,config:this.settings})}get isReadOnlySupported(){return this.constructable[Fi.IsReadOnlySupported]===!0}get isLineBreaksEnabled(){return this.constructable[Fi.IsEnabledLineBreaks]}get toolbox(){const e=this.constructable[Fi.Toolbox],t=this.config[Qs.Toolbox];if(!An(e)&&t!==!1)return t?Array.isArray(e)?Array.isArray(t)?t.map((i,r)=>{const a=e[r];return a?{...a,...i}:i}):[t]:Array.isArray(t)?t:[{...e,...t}]:Array.isArray(e)?e:[e]}get conversionConfig(){return this.constructable[Fi.ConversionConfig]}get enabledInlineTools(){return this.config[Qs.EnabledInlineTools]||!1}get enabledBlockTunes(){return this.config[Qs.EnabledBlockTunes]}get pasteConfig(){return this.constructable[Fi.PasteConfig]??{}}get sanitizeConfig(){const e=super.sanitizeConfig,t=this.baseSanitizeConfig;if(An(e))return t;const i={};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const a=e[r];Pt(a)?i[r]=Object.assign({},t,a):i[r]=a}return i}get baseSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(t=>Object.assign(e,t.sanitizeConfig)),Array.from(this.tunes.values()).forEach(t=>Object.assign(e,t.sanitizeConfig)),e}}Sm([Qi],Tu.prototype,"sanitizeConfig");Sm([Qi],Tu.prototype,"baseSanitizeConfig");class iT{constructor(e,t,i){this.api=i,this.config=e,this.editorConfig=t}get(e){const{class:t,isInternal:i=!1,...r}=this.config[e],a=this.getConstructor(t),l=t[Hc.IsTune];return new a({name:e,constructable:t,config:r,api:this.api.getMethodsForTool(e,l),isDefault:e===this.editorConfig.defaultBlock,defaultPlaceholder:this.editorConfig.placeholder,isInternal:i})}getConstructor(e){switch(!0){case e[ku.IsInline]:return eT;case e[Hc.IsTune]:return tT;default:return Tu}}}class Tm{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:rS,title:this.api.i18n.t("Move down"),onActivate:()=>this.handleClick(),name:"move-down"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),t=this.api.blocks.getBlockByIndex(e+1);if(!t)throw new Error("Unable to move Block down since it is already the last");const i=t.holder,r=i.getBoundingClientRect();let a=Math.abs(window.innerHeight-i.offsetHeight);r.top<window.innerHeight&&(a=window.scrollY+i.offsetHeight),window.scrollTo(0,a),this.api.blocks.move(e+1),this.api.toolbar.toggleBlockSettings(!0)}}Tm.isTune=!0;class Bm{constructor({api:e}){this.api=e}render(){return{icon:cS,title:this.api.i18n.t("Delete"),name:"delete",confirmation:{title:this.api.i18n.t("Click to delete"),onActivate:()=>this.handleClick()}}}handleClick(){this.api.blocks.delete()}}Bm.isTune=!0;class Im{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:lS,title:this.api.i18n.t("Move up"),onActivate:()=>this.handleClick(),name:"move-up"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),t=this.api.blocks.getBlockByIndex(e),i=this.api.blocks.getBlockByIndex(e-1);if(e===0||!t||!i)throw new Error("Unable to move Block up since it is already the first");const r=t.holder,a=i.holder,l=r.getBoundingClientRect(),u=a.getBoundingClientRect();let d;u.top>0?d=Math.abs(l.top)-Math.abs(u.top):d=Math.abs(l.top)+u.height,window.scrollBy(0,-1*d),this.api.blocks.move(e-1),this.api.toolbar.toggleBlockSettings(!0)}}Im.isTune=!0;var rT=Object.defineProperty,sT=Object.getOwnPropertyDescriptor,aT=(n,e,t,i)=>{for(var r=sT(e,t),a=n.length-1,l;a>=0;a--)(l=n[a])&&(r=l(e,t,r)||r);return r&&rT(e,t,r),r};class Lm extends Ye{constructor(){super(...arguments),this.stubTool="stub",this.toolsAvailable=new Kn,this.toolsUnavailable=new Kn}get available(){return this.toolsAvailable}get unavailable(){return this.toolsUnavailable}get inlineTools(){return this.available.inlineTools}get blockTools(){return this.available.blockTools}get blockTunes(){return this.available.blockTunes}get defaultTool(){return this.blockTools.get(this.config.defaultBlock)}get internal(){return this.available.internalTools}async prepare(){if(this.validateTools(),this.config.tools=Pc({},this.internalTools,this.config.tools),!Object.prototype.hasOwnProperty.call(this.config,"tools")||Object.keys(this.config.tools).length===0)throw Error("Can't start without tools");const e=this.prepareConfig();this.factory=new iT(e,this.config,this.Editor.API);const t=this.getListOfPrepareFunctions(e);if(t.length===0)return Promise.resolve();await u2(t,i=>{this.toolPrepareMethodSuccess(i)},i=>{this.toolPrepareMethodFallback(i)}),this.prepareBlockTools()}getAllInlineToolsSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(t=>{Object.assign(e,t.sanitizeConfig)}),e}destroy(){Object.values(this.available).forEach(async e=>{bt(e.reset)&&await e.reset()})}get internalTools(){return{convertTo:{class:Cm,isInternal:!0},link:{class:Su,isInternal:!0},bold:{class:Cu,isInternal:!0},italic:{class:Eu,isInternal:!0},paragraph:{class:_u,inlineToolbar:!0,isInternal:!0},stub:{class:Em,isInternal:!0},moveUp:{class:Im,isInternal:!0},delete:{class:Bm,isInternal:!0},moveDown:{class:Tm,isInternal:!0}}}toolPrepareMethodSuccess(e){const t=this.factory.get(e.toolName);if(t.isInline()){const i=["render"].filter(r=>!t.create()[r]);if(i.length){ot(`Incorrect Inline Tool: ${t.name}. Some of required methods is not implemented %o`,"warn",i),this.toolsUnavailable.set(t.name,t);return}}this.toolsAvailable.set(t.name,t)}toolPrepareMethodFallback(e){this.toolsUnavailable.set(e.toolName,this.factory.get(e.toolName))}getListOfPrepareFunctions(e){const t=[];return Object.entries(e).forEach(([i,r])=>{t.push({function:bt(r.class.prepare)?r.class.prepare:()=>{},data:{toolName:i,config:r.config}})}),t}prepareBlockTools(){Array.from(this.blockTools.values()).forEach(e=>{this.assignInlineToolsToBlockTool(e),this.assignBlockTunesToBlockTool(e)})}assignInlineToolsToBlockTool(e){if(this.config.inlineToolbar!==!1){if(e.enabledInlineTools===!0){e.inlineTools=new Kn(Array.isArray(this.config.inlineToolbar)?this.config.inlineToolbar.map(t=>[t,this.inlineTools.get(t)]):Array.from(this.inlineTools.entries()));return}Array.isArray(e.enabledInlineTools)&&(e.inlineTools=new Kn(["convertTo",...e.enabledInlineTools].map(t=>[t,this.inlineTools.get(t)])))}}assignBlockTunesToBlockTool(e){if(e.enabledBlockTunes!==!1){if(Array.isArray(e.enabledBlockTunes)){const t=new Kn(e.enabledBlockTunes.map(i=>[i,this.blockTunes.get(i)]));e.tunes=new Kn([...t,...this.blockTunes.internalTools]);return}if(Array.isArray(this.config.tunes)){const t=new Kn(this.config.tunes.map(i=>[i,this.blockTunes.get(i)]));e.tunes=new Kn([...t,...this.blockTunes.internalTools]);return}e.tunes=this.blockTunes.internalTools}}validateTools(){for(const e in this.config.tools)if(Object.prototype.hasOwnProperty.call(this.config.tools,e)){if(e in this.internalTools)return;const t=this.config.tools[e];if(!bt(t)&&!bt(t.class))throw Error(`Tool «${e}» must be a constructor function or an object with function in the «class» property`)}}prepareConfig(){const e={};for(const t in this.config.tools)Pt(this.config.tools[t])?e[t]=this.config.tools[t]:e[t]={class:this.config.tools[t]};return e}}aT([Qi],Lm.prototype,"getAllInlineToolsSanitizeConfig");const lT=`:root{--selectionColor: #e1f2ff;--inlineSelectionColor: #d4ecff;--bg-light: #eff2f5;--grayText: #707684;--color-dark: #1D202B;--color-active-icon: #388AE5;--color-gray-border: rgba(201, 201, 204, .48);--content-width: 650px;--narrow-mode-right-padding: 50px;--toolbox-buttons-size: 26px;--toolbox-buttons-size--mobile: 36px;--icon-size: 20px;--icon-size--mobile: 28px;--block-padding-vertical: .4em;--color-line-gray: #EFF0F1 }.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:"\\feff"}@media (min-width: 651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0;left:0;right:0;bottom:0;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:#2eaadc33;border:1px solid transparent}.codex-editor svg{max-height:100%}.codex-editor path{stroke:currentColor}.codex-editor ::-moz-selection{background-color:#d4ecff}.codex-editor ::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}.ce-scroll-locked{overflow:hidden}.ce-scroll-locked--hard{overflow:hidden;top:calc(-1 * var(--window-scroll-offset));position:fixed;width:100%}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,top;display:none}.ce-toolbar--opened{display:block}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}.ce-toolbar__plus{color:#1d202b;cursor:pointer;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-negative:0;flex-shrink:0}@media (max-width: 650px){.ce-toolbar__plus{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__plus:hover{background-color:#eff2f5}}.ce-toolbar__plus--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}@media (max-width: 650px){.ce-toolbar__plus{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__plus--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__plus--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__actions{position:absolute;right:100%;opacity:0;display:-webkit-box;display:-ms-flexbox;display:flex;padding-right:5px}.ce-toolbar__actions--opened{opacity:1}@media (max-width: 650px){.ce-toolbar__actions{right:auto}}.ce-toolbar__settings-btn{color:#1d202b;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;margin-left:3px;cursor:pointer;user-select:none}@media (max-width: 650px){.ce-toolbar__settings-btn{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__settings-btn:hover{background-color:#eff2f5}}.ce-toolbar__settings-btn--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@media (min-width: 651px){.ce-toolbar__settings-btn{width:24px}}.ce-toolbar__settings-btn--hidden{display:none}@media (max-width: 650px){.ce-toolbar__settings-btn{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__settings-btn--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__settings-btn--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__plus svg,.ce-toolbar__settings-btn svg{width:24px;height:24px}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbox .ce-popover{right:0;left:auto;left:initial}}.ce-inline-toolbar{--y-offset: 8px;--color-background-icon-active: rgba(56, 138, 229, .1);--color-text-icon-active: #388AE5;--color-text-primary: black;position:absolute;visibility:hidden;-webkit-transition:opacity .25s ease;transition:opacity .25s ease;will-change:opacity,left,top;top:0;left:0;z-index:3;opacity:1;visibility:visible}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;padding:0 6px}.ce-inline-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-box;display:-ms-flexbox;display:flex;padding:6px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48);-webkit-box-sizing:border-box;box-sizing:border-box}@media (hover: hover){.ce-inline-toolbar__dropdown:hover{background:#eff2f5}}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content,.ce-inline-toolbar__dropdown-arrow{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown-content svg,.ce-inline-toolbar__dropdown-arrow svg{width:20px;height:20px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{color:var(--color-text-primary);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:0;border-radius:4px;line-height:normal;height:100%;padding:0;width:28px;background-color:transparent;cursor:pointer}@media (max-width: 650px){.ce-inline-tool{width:36px;height:36px}}@media (hover: hover){.ce-inline-tool:hover{background-color:#f8f8f8}}.ce-inline-tool svg{display:block;width:20px;height:20px}@media (max-width: 650px){.ce-inline-tool svg{width:28px;height:28px}}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{background:#F8F8F8;border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:4px 8px;font-size:14px;line-height:22px;outline:none;margin:0;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;-webkit-appearance:none;font-family:inherit}@media (max-width: 650px){.ce-inline-tool-input{font-size:15px;font-weight:500}}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-inline-tool--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.ce-block{-webkit-animation:fade-in .3s ease;animation:fade-in .3s ease;-webkit-animation-fill-mode:none;animation-fill-mode:none;-webkit-animation-fill-mode:initial;animation-fill-mode:initial}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content img,.ce-block--selected .ce-block__content .ce-stub{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388AE5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388AE5,#388AE5 1px,#fff 1px,#fff 6px)}.ce-block a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}.cdx-block{padding:.4em 0}.cdx-block::-webkit-input-placeholder{line-height:normal!important}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px #232c480f;border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important}.cdx-input[data-placeholder]:before{display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;min-width:26px;min-height:26px}.cdx-settings-button--focused{background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button--active{color:#388ae5}.cdx-settings-button svg{width:auto;height:auto}@media (max-width: 650px){.cdx-settings-button svg{width:28px;height:28px}}@media (max-width: 650px){.cdx-settings-button{width:36px;height:36px;border-radius:8px}}@media (hover: hover){.cdx-settings-button:hover{background-color:#eff2f5}}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s infinite linear;animation:cdxRotation 1.2s infinite linear}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px #121e390a;color:#707684;text-align:center;cursor:pointer}@media (hover: hover){.cdx-button:hover{background:#FBFCFE;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px #121e3914}}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:12px 18px;margin:10px 0;border-radius:10px;background:#eff2f5;border:1px solid #EFF0F1;color:#707684;font-size:14px}.ce-stub svg{width:20px;height:20px}.ce-stub__info{margin-left:14px}.ce-stub__title{font-weight:500;text-transform:capitalize}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-26px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-26px}@media (max-width: 650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0px solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0;right:5px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}.cdx-search-field{--icon-margin-right: 10px;background:#F8F8F8;border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-search-field__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:var(--icon-margin-right)}.cdx-search-field__icon svg{width:20px;height:20px;color:#707684}.cdx-search-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - 26px - var(--icon-margin-right))}.cdx-search-field__input::-webkit-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-moz-placeholder{color:#707684;font-weight:500}.cdx-search-field__input:-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::placeholder{color:#707684;font-weight:500}.ce-popover{--border-radius: 6px;--width: 200px;--max-height: 270px;--padding: 6px;--offset-from-target: 8px;--color-border: #EFF0F1;--color-shadow: rgba(13, 20, 33, .1);--color-background: white;--color-text-primary: black;--color-text-secondary: #707684;--color-border-icon: rgba(201, 201, 204, .48);--color-border-icon-disabled: #EFF0F1;--color-text-icon-active: #388AE5;--color-background-icon-active: rgba(56, 138, 229, .1);--color-background-item-focus: rgba(34, 186, 255, .08);--color-shadow-item-focus: rgba(7, 161, 227, .08);--color-background-item-hover: #F8F8F8;--color-background-item-confirm: #E24A4A;--color-background-item-confirm-hover: #CE4343;--popover-top: calc(100% + var(--offset-from-target));--popover-left: 0;--nested-popover-overlap: 4px;--icon-size: 20px;--item-padding: 3px;--item-height: calc(var(--icon-size) + 2 * var(--item-padding))}.ce-popover__container{min-width:var(--width);width:var(--width);max-height:var(--max-height);border-radius:var(--border-radius);overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0px 3px 15px -3px var(--color-shadow);box-shadow:0 3px 15px -3px var(--color-shadow);position:absolute;left:var(--popover-left);top:var(--popover-top);background:var(--color-background);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;z-index:4;opacity:0;max-height:0;pointer-events:none;padding:0;border:none}.ce-popover--opened>.ce-popover__container{opacity:1;padding:var(--padding);max-height:var(--max-height);pointer-events:auto;-webkit-animation:panelShowing .1s ease;animation:panelShowing .1s ease;border:1px solid var(--color-border)}@media (max-width: 650px){.ce-popover--opened>.ce-popover__container{-webkit-animation:panelShowingMobile .25s ease;animation:panelShowingMobile .25s ease}}.ce-popover--open-top .ce-popover__container{--popover-top: calc(-1 * (var(--offset-from-target) + var(--popover-height)))}.ce-popover--open-left .ce-popover__container{--popover-left: calc(-1 * var(--width) + 100%)}.ce-popover__items{overflow-y:auto;-ms-scroll-chaining:none;overscroll-behavior:contain}@media (max-width: 650px){.ce-popover__overlay{position:fixed;top:0;bottom:0;left:0;right:0;background:#1D202B;z-index:3;opacity:.5;-webkit-transition:opacity .12s ease-in;transition:opacity .12s ease-in;will-change:opacity;visibility:visible}}.ce-popover__overlay--hidden{display:none}@media (max-width: 650px){.ce-popover .ce-popover__container{--offset: 5px;position:fixed;max-width:none;min-width:calc(100% - var(--offset) * 2);left:var(--offset);right:var(--offset);bottom:calc(var(--offset) + env(safe-area-inset-bottom));top:auto;border-radius:10px}}.ce-popover__search{margin-bottom:5px}.ce-popover__nothing-found-message{color:#707684;display:none;cursor:default;padding:3px;font-size:14px;line-height:20px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ce-popover__nothing-found-message--displayed{display:block}.ce-popover--nested .ce-popover__container{--popover-left: calc(var(--nesting-level) * (var(--width) - var(--nested-popover-overlap)));top:calc(var(--trigger-item-top) - var(--nested-popover-overlap));position:absolute}.ce-popover--open-top.ce-popover--nested .ce-popover__container{top:calc(var(--trigger-item-top) - var(--popover-height) + var(--item-height) + var(--offset-from-target) + var(--nested-popover-overlap))}.ce-popover--open-left .ce-popover--nested .ce-popover__container{--popover-left: calc(-1 * (var(--nesting-level) + 1) * var(--width) + 100%)}.ce-popover-item-separator{padding:4px 3px}.ce-popover-item-separator--hidden{display:none}.ce-popover-item-separator__line{height:1px;background:var(--color-border);width:100%}.ce-popover-item-html--hidden{display:none}.ce-popover-item{--border-radius: 6px;border-radius:var(--border-radius);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:var(--item-padding);color:var(--color-text-primary);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:none;background:transparent}@media (max-width: 650px){.ce-popover-item{padding:4px}}.ce-popover-item:not(:last-of-type){margin-bottom:1px}.ce-popover-item__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover-item__icon{width:36px;height:36px;border-radius:8px}.ce-popover-item__icon svg{width:28px;height:28px}}.ce-popover-item__icon--tool{margin-right:4px}.ce-popover-item__title{font-size:14px;line-height:20px;font-weight:500;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;margin-right:auto}@media (max-width: 650px){.ce-popover-item__title{font-size:16px}}.ce-popover-item__secondary-title{color:var(--color-text-secondary);font-size:12px;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;opacity:.6}@media (max-width: 650px){.ce-popover-item__secondary-title{display:none}}.ce-popover-item--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}.ce-popover-item--disabled{color:var(--color-text-secondary);cursor:default;pointer-events:none}.ce-popover-item--focused:not(.ce-popover-item--no-focus){background:var(--color-background-item-focus)!important}.ce-popover-item--hidden{display:none}@media (hover: hover){.ce-popover-item:hover{cursor:pointer}.ce-popover-item:hover:not(.ce-popover-item--no-hover){background-color:var(--color-background-item-hover)}}.ce-popover-item--confirmation{background:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__title,.ce-popover-item--confirmation .ce-popover-item__icon{color:#fff}@media (hover: hover){.ce-popover-item--confirmation:not(.ce-popover-item--no-hover):hover{background:var(--color-background-item-confirm-hover)}}.ce-popover-item--confirmation:not(.ce-popover-item--no-focus).ce-popover-item--focused{background:var(--color-background-item-confirm-hover)!important}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}.ce-popover-header{margin-bottom:8px;margin-top:4px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-popover-header__text{font-size:18px;font-weight:600}.ce-popover-header__back-button{border:0;background:transparent;width:36px;height:36px;color:var(--color-text-primary)}.ce-popover-header__back-button svg{display:block;width:28px;height:28px}.ce-popover--inline{--height: 38px;--height-mobile: 46px;--container-padding: 4px;position:relative}.ce-popover--inline .ce-popover__custom-content{margin-bottom:0}.ce-popover--inline .ce-popover__items{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-popover--inline .ce-popover__container{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;padding:var(--container-padding);height:var(--height);top:0;min-width:-webkit-max-content;min-width:-moz-max-content;min-width:max-content;width:-webkit-max-content;width:-moz-max-content;width:max-content;-webkit-animation:none;animation:none}@media (max-width: 650px){.ce-popover--inline .ce-popover__container{height:var(--height-mobile);position:absolute}}.ce-popover--inline .ce-popover-item-separator{padding:0 4px}.ce-popover--inline .ce-popover-item-separator__line{height:100%;width:1px}.ce-popover--inline .ce-popover-item{border-radius:4px;padding:4px}.ce-popover--inline .ce-popover-item__icon--tool{-webkit-box-shadow:none;box-shadow:none;background:transparent;margin-right:0}.ce-popover--inline .ce-popover-item__icon{width:auto;width:initial;height:auto;height:initial}.ce-popover--inline .ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover--inline .ce-popover-item__icon svg{width:28px;height:28px}}.ce-popover--inline .ce-popover-item:not(:last-of-type){margin-bottom:0;margin-bottom:initial}.ce-popover--inline .ce-popover-item-html{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-popover--inline .ce-popover-item__icon--chevron-right{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.ce-popover--inline .ce-popover--nested-level-1 .ce-popover__container{--offset: 3px;left:0;top:calc(var(--height) + var(--offset))}@media (max-width: 650px){.ce-popover--inline .ce-popover--nested-level-1 .ce-popover__container{top:calc(var(--height-mobile) + var(--offset))}}.ce-popover--inline .ce-popover--nested .ce-popover__container{min-width:var(--width);width:var(--width);height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;padding:6px;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.ce-popover--inline .ce-popover--nested .ce-popover__items{display:block;width:100%}.ce-popover--inline .ce-popover--nested .ce-popover-item{border-radius:6px;padding:3px}@media (max-width: 650px){.ce-popover--inline .ce-popover--nested .ce-popover-item{padding:4px}}.ce-popover--inline .ce-popover--nested .ce-popover-item__icon--tool{margin-right:4px}.ce-popover--inline .ce-popover--nested .ce-popover-item__icon{width:26px;height:26px}.ce-popover--inline .ce-popover--nested .ce-popover-item-separator{padding:4px 3px}.ce-popover--inline .ce-popover--nested .ce-popover-item-separator__line{width:100%;height:1px}.codex-editor [data-placeholder]:empty:before,.codex-editor [data-placeholder][data-empty=true]:before{pointer-events:none;color:#707684;cursor:text;content:attr(data-placeholder)}.codex-editor [data-placeholder-active]:empty:before,.codex-editor [data-placeholder-active][data-empty=true]:before{pointer-events:none;color:#707684;cursor:text}.codex-editor [data-placeholder-active]:empty:focus:before,.codex-editor [data-placeholder-active][data-empty=true]:focus:before{content:attr(data-placeholder-active)}
`;class cT extends Ye{constructor(){super(...arguments),this.isMobile=!1,this.contentRectCache=void 0,this.resizeDebouncer=rp(()=>{this.windowResize()},200)}get CSS(){return{editorWrapper:"codex-editor",editorWrapperNarrow:"codex-editor--narrow",editorZone:"codex-editor__redactor",editorZoneHidden:"codex-editor__redactor--hidden",editorEmpty:"codex-editor--empty",editorRtlFix:"codex-editor--rtl"}}get contentRect(){if(this.contentRectCache)return this.contentRectCache;const e=this.nodes.wrapper.querySelector(`.${fo.CSS.content}`);return e?(this.contentRectCache=e.getBoundingClientRect(),this.contentRectCache):{width:650,left:0,right:0}}async prepare(){this.setIsMobile(),this.make(),this.loadStyles()}toggleReadOnly(e){e?this.disableModuleBindings():window.requestIdleCallback(()=>{this.enableModuleBindings()},{timeout:2e3})}checkEmptiness(){const{BlockManager:e}=this.Editor;this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty,e.isEditorEmpty)}get someToolbarOpened(){const{Toolbar:e,BlockSettings:t,InlineToolbar:i}=this.Editor;return!!(t.opened||i.opened||e.toolbox.opened)}get someFlipperButtonFocused(){return this.Editor.Toolbar.toolbox.hasFocus()?!0:Object.entries(this.Editor).filter(([e,t])=>t.flipper instanceof mi).some(([e,t])=>t.flipper.hasFocus())}destroy(){this.nodes.holder.innerHTML=""}closeAllToolbars(){const{Toolbar:e,BlockSettings:t,InlineToolbar:i}=this.Editor;t.close(),i.close(),e.toolbox.close()}setIsMobile(){const e=window.innerWidth<qg;e!==this.isMobile&&this.eventsDispatcher.emit(Wr,{isEnabled:this.isMobile}),this.isMobile=e}make(){this.nodes.holder=Y.getHolder(this.config.holder),this.nodes.wrapper=Y.make("div",[this.CSS.editorWrapper,...this.isRtl?[this.CSS.editorRtlFix]:[]]),this.nodes.redactor=Y.make("div",this.CSS.editorZone),this.nodes.holder.offsetWidth<this.contentRect.width&&this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow),this.nodes.redactor.style.paddingBottom=this.config.minHeight+"px",this.nodes.wrapper.appendChild(this.nodes.redactor),this.nodes.holder.appendChild(this.nodes.wrapper)}loadStyles(){const e="editor-js-styles";if(Y.get(e))return;const t=Y.make("style",null,{id:e,textContent:lT.toString()});this.config.style&&!An(this.config.style)&&this.config.style.nonce&&t.setAttribute("nonce",this.config.style.nonce),Y.prepend(document.head,t)}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.redactor,"click",t=>{this.redactorClicked(t)},!1),this.readOnlyMutableListeners.on(this.nodes.redactor,"mousedown",t=>{this.documentTouched(t)},{capture:!0,passive:!0}),this.readOnlyMutableListeners.on(this.nodes.redactor,"touchstart",t=>{this.documentTouched(t)},{capture:!0,passive:!0}),this.readOnlyMutableListeners.on(document,"keydown",t=>{this.documentKeydown(t)},!0),this.readOnlyMutableListeners.on(document,"mousedown",t=>{this.documentClicked(t)},!0);const e=rp(()=>{this.selectionChanged()},qS);this.readOnlyMutableListeners.on(document,"selectionchange",e,!0),this.readOnlyMutableListeners.on(window,"resize",()=>{this.resizeDebouncer()},{passive:!0}),this.watchBlockHoveredEvents(),this.enableInputsEmptyMark()}watchBlockHoveredEvents(){let e;this.readOnlyMutableListeners.on(this.nodes.redactor,"mousemove",Rc(t=>{const i=t.target.closest(".ce-block");this.Editor.BlockSelection.anyBlockSelected||i&&e!==i&&(e=i,this.eventsDispatcher.emit(bm,{block:this.Editor.BlockManager.getBlockByChildNode(i)}))},20),{passive:!0})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}windowResize(){this.contentRectCache=null,this.setIsMobile()}documentKeydown(e){switch(e.keyCode){case Ne.ENTER:this.enterPressed(e);break;case Ne.BACKSPACE:case Ne.DELETE:this.backspacePressed(e);break;case Ne.ESC:this.escapePressed(e);break;default:this.defaultBehaviour(e);break}}defaultBehaviour(e){const{currentBlock:t}=this.Editor.BlockManager,i=e.target.closest(`.${this.CSS.editorWrapper}`),r=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;if(t!==void 0&&i===null){this.Editor.BlockEvents.keydown(e);return}i||t&&r||(this.Editor.BlockManager.unsetCurrentBlock(),this.Editor.Toolbar.close())}backspacePressed(e){const{BlockManager:t,BlockSelection:i,Caret:r}=this.Editor;if(i.anyBlockSelected&&!Ae.isSelectionExists){const a=t.removeSelectedBlocks(),l=t.insertDefaultBlockAtIndex(a,!0);r.setToBlock(l,r.positions.START),i.clearSelection(e),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()}}escapePressed(e){this.Editor.BlockSelection.clearSelection(e),this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.toolbox.close(),this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END)):this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.InlineToolbar.opened?this.Editor.InlineToolbar.close():this.Editor.Toolbar.close()}enterPressed(e){const{BlockManager:t,BlockSelection:i}=this.Editor;if(this.someToolbarOpened)return;const r=t.currentBlockIndex>=0;if(i.anyBlockSelected&&!Ae.isSelectionExists){i.clearSelection(e),e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation();return}if(!this.someToolbarOpened&&r&&e.target.tagName==="BODY"){const a=this.Editor.BlockManager.insert();e.preventDefault(),this.Editor.Caret.setToBlock(a),this.Editor.Toolbar.moveAndOpen(a)}this.Editor.BlockSelection.clearSelection(e)}documentClicked(e){var t,i;if(!e.isTrusted)return;const r=e.target;this.nodes.holder.contains(r)||Ae.isAtEditor||(this.Editor.BlockManager.unsetCurrentBlock(),this.Editor.Toolbar.close());const a=(t=this.Editor.BlockSettings.nodes.wrapper)==null?void 0:t.contains(r),l=(i=this.Editor.Toolbar.nodes.settingsToggler)==null?void 0:i.contains(r),u=a||l;if(this.Editor.BlockSettings.opened&&!u){this.Editor.BlockSettings.close();const d=this.Editor.BlockManager.getBlockByChildNode(r);this.Editor.Toolbar.moveAndOpen(d)}this.Editor.BlockSelection.clearSelection(e)}documentTouched(e){let t=e.target;if(t===this.nodes.redactor){const i=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,r=e instanceof MouseEvent?e.clientY:e.touches[0].clientY;t=document.elementFromPoint(i,r)}try{this.Editor.BlockManager.setCurrentBlockByChildNode(t)}catch{this.Editor.RectangleSelection.isRectActivated()||this.Editor.Caret.setToTheLastBlock()}this.Editor.Toolbar.moveAndOpen()}redactorClicked(e){if(!Ae.isCollapsed)return;const t=e.target,i=e.metaKey||e.ctrlKey;if(Y.isAnchor(t)&&i){e.stopImmediatePropagation(),e.stopPropagation();const r=t.getAttribute("href"),a=p2(r);m2(a);return}this.processBottomZoneClick(e)}processBottomZoneClick(e){const t=this.Editor.BlockManager.getBlockByIndex(-1),i=Y.offset(t.holder).bottom,r=e.pageY,{BlockSelection:a}=this.Editor;if(e.target instanceof Element&&e.target.isEqualNode(this.nodes.redactor)&&!a.anyBlockSelected&&i<r){e.stopImmediatePropagation(),e.stopPropagation();const{BlockManager:l,Caret:u,Toolbar:d}=this.Editor;(!l.lastBlock.tool.isDefault||!l.lastBlock.isEmpty)&&l.insertAtEnd(),u.setToTheLastBlock(),d.moveAndOpen(l.lastBlock)}}selectionChanged(){const{CrossBlockSelection:e,BlockSelection:t}=this.Editor,i=Ae.anchorElement;if(e.isCrossBlockSelectionStarted&&t.anyBlockSelected&&Ae.get().removeAllRanges(),!i){Ae.range||this.Editor.InlineToolbar.close();return}i.closest(`.${fo.CSS.content}`)===null&&(this.Editor.InlineToolbar.containsNode(i)||this.Editor.InlineToolbar.close(),i.dataset.inlineToolbar!=="true")||(this.Editor.BlockManager.currentBlock||this.Editor.BlockManager.setCurrentBlockByChildNode(i),this.Editor.InlineToolbar.tryToShow(!0))}enableInputsEmptyMark(){function e(t){const i=t.target;Vg(i)}this.readOnlyMutableListeners.on(this.nodes.wrapper,"input",e),this.readOnlyMutableListeners.on(this.nodes.wrapper,"focusin",e),this.readOnlyMutableListeners.on(this.nodes.wrapper,"focusout",e)}}const uT={BlocksAPI:T2,CaretAPI:I2,EventsAPI:L2,I18nAPI:pu,API:A2,InlineToolbarAPI:M2,ListenersAPI:O2,NotifierAPI:D2,ReadOnlyAPI:F2,SanitizerAPI:q2,SaverAPI:V2,SelectionAPI:K2,ToolsAPI:G2,StylesAPI:Y2,ToolbarAPI:X2,TooltipAPI:tS,UiAPI:nS,BlockSettings:BS,Toolbar:NS,InlineToolbar:DS,BlockEvents:FS,BlockManager:zS,BlockSelection:$S,Caret:ma,CrossBlockSelection:jS,DragNDrop:WS,ModificationsObserver:KS,Paste:GS,ReadOnly:YS,RectangleSelection:Nr,Renderer:XS,Saver:ZS,Tools:Lm,UI:cT};class dT{constructor(e){this.moduleInstances={},this.eventsDispatcher=new Zr;let t,i;this.isReady=new Promise((r,a)=>{t=r,i=a}),Promise.resolve().then(async()=>{this.configuration=e,this.validate(),this.init(),await this.start(),await this.render();const{BlockManager:r,Caret:a,UI:l,ModificationsObserver:u}=this.moduleInstances;l.checkEmptiness(),u.enable(),this.configuration.autofocus&&a.setToBlock(r.blocks[0],a.positions.START),t()}).catch(r=>{ot(`Editor.js is not ready because of ${r}`,"error"),i(r)})}set configuration(e){var t,i;Pt(e)?this.config={...e}:this.config={holder:e},Nc(!!this.config.holderId,"config.holderId","config.holder"),this.config.holderId&&!this.config.holder&&(this.config.holder=this.config.holderId,this.config.holderId=null),this.config.holder==null&&(this.config.holder="editorjs"),this.config.logLevel||(this.config.logLevel=$g.VERBOSE),l2(this.config.logLevel),Nc(!!this.config.initialBlock,"config.initialBlock","config.defaultBlock"),this.config.defaultBlock=this.config.defaultBlock||this.config.initialBlock||"paragraph",this.config.minHeight=this.config.minHeight!==void 0?this.config.minHeight:300;const r={type:this.config.defaultBlock,data:{}};this.config.placeholder=this.config.placeholder||!1,this.config.sanitizer=this.config.sanitizer||{p:!0,b:!0,a:!0},this.config.hideToolbar=this.config.hideToolbar?this.config.hideToolbar:!1,this.config.tools=this.config.tools||{},this.config.i18n=this.config.i18n||{},this.config.data=this.config.data||{blocks:[]},this.config.onReady=this.config.onReady||(()=>{}),this.config.onChange=this.config.onChange||(()=>{}),this.config.inlineToolbar=this.config.inlineToolbar!==void 0?this.config.inlineToolbar:!0,(An(this.config.data)||!this.config.data.blocks||this.config.data.blocks.length===0)&&(this.config.data={blocks:[r]}),this.config.readOnly=this.config.readOnly||!1,(t=this.config.i18n)!=null&&t.messages&&Vt.setDictionary(this.config.i18n.messages),this.config.i18n.direction=((i=this.config.i18n)==null?void 0:i.direction)||"ltr"}get configuration(){return this.config}validate(){const{holderId:e,holder:t}=this.config;if(e&&t)throw Error("«holderId» and «holder» param can't assign at the same time.");if(mo(t)&&!Y.get(t))throw Error(`element with ID «${t}» is missing. Pass correct holder's ID.`);if(t&&Pt(t)&&!Y.isElement(t))throw Error("«holder» value must be an Element node")}init(){this.constructModules(),this.configureModules()}async start(){await["Tools","UI","BlockManager","Paste","BlockSelection","RectangleSelection","CrossBlockSelection","ReadOnly"].reduce((e,t)=>e.then(async()=>{try{await this.moduleInstances[t].prepare()}catch(i){if(i instanceof Yg)throw new Error(i.message);ot(`Module ${t} was skipped because of %o`,"warn",i)}}),Promise.resolve())}render(){return this.moduleInstances.Renderer.render(this.config.data.blocks)}constructModules(){Object.entries(uT).forEach(([e,t])=>{try{this.moduleInstances[e]=new t({config:this.configuration,eventsDispatcher:this.eventsDispatcher})}catch(i){ot("[constructModules]",`Module ${e} skipped because`,"error",i)}})}configureModules(){for(const e in this.moduleInstances)Object.prototype.hasOwnProperty.call(this.moduleInstances,e)&&(this.moduleInstances[e].state=this.getModulesDiff(e))}getModulesDiff(e){const t={};for(const i in this.moduleInstances)i!==e&&(t[i]=this.moduleInstances[i]);return t}}/**
 * Editor.js
 *
 * @license Apache-2.0
 * @see Editor.js <https://editorjs.io>
 * @author CodeX Team <https://codex.so>
 */class hT{static get version(){return"2.30.5"}constructor(e){let t=()=>{};Pt(e)&&bt(e.onReady)&&(t=e.onReady);const i=new dT(e);this.isReady=i.isReady.then(()=>{this.exportAPI(i),t()})}exportAPI(e){const t=["configuration"],i=()=>{Object.values(e.moduleInstances).forEach(r=>{bt(r.destroy)&&r.destroy(),r.listeners.removeAll()}),eS(),e=null;for(const r in this)Object.prototype.hasOwnProperty.call(this,r)&&delete this[r];Object.setPrototypeOf(this,null)};t.forEach(r=>{this[r]=e[r]}),this.destroy=i,Object.setPrototypeOf(this,e.moduleInstances.API.methods),delete this.exportAPI,Object.entries({blocks:{clear:"clear",render:"render"},caret:{focus:"focus"},events:{on:"on",off:"off",emit:"emit"},saver:{save:"save"}}).forEach(([r,a])=>{Object.entries(a).forEach(([l,u])=>{this[u]=e.moduleInstances.API.methods[r][l]})})}}(function(){try{if(typeof document<"u"){var n=document.createElement("style");n.appendChild(document.createTextNode(".ce-header{padding:.6em 0 3px;margin:0;line-height:1.25em;outline:none}.ce-header p,.ce-header div{padding:0!important;margin:0!important}")),document.head.appendChild(n)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const fT='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 17V10.2135C19 10.1287 18.9011 10.0824 18.836 10.1367L16 12.5"/></svg>',pT='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10 19 9.5 19 12C19 13.9771 16.0684 13.9997 16.0012 16.8981C15.9999 16.9533 16.0448 17 16.1 17L19.3 17"/></svg>',gT='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10.5 16.8323 10 17.6 10C18.3677 10 19.5 10.311 19.5 11.5C19.5 12.5315 18.7474 12.9022 18.548 12.9823C18.5378 12.9864 18.5395 13.0047 18.5503 13.0063C18.8115 13.0456 20 13.3065 20 14.8C20 16 19.5 17 17.8 17C17.8 17 16 17 16 16.3"/></svg>',mT='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 10L15.2834 14.8511C15.246 14.9178 15.294 15 15.3704 15C16.8489 15 18.7561 15 20.2 15M19 17C19 15.7187 19 14.8813 19 13.6"/></svg>',vT='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 15.9C16 15.9 16.3768 17 17.8 17C19.5 17 20 15.6199 20 14.7C20 12.7323 17.6745 12.0486 16.1635 12.9894C16.094 13.0327 16 12.9846 16 12.9027V10.1C16 10.0448 16.0448 10 16.1 10H19.8"/></svg>',bT='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19.5 10C16.5 10.5 16 13.3285 16 15M16 15V15C16 16.1046 16.8954 17 18 17H18.3246C19.3251 17 20.3191 16.3492 20.2522 15.3509C20.0612 12.4958 16 12.6611 16 15Z"/></svg>',yT='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 7L9 12M9 17V12M9 12L15 12M15 7V12M15 17L15 12"/></svg>';/**
 * Header block for the Editor.js.
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license MIT
 * @version 2.0.0
 */let wT=class{constructor({data:e,config:t,api:i,readOnly:r}){this.api=i,this.readOnly=r,this._settings=t,this._data=this.normalizeData(e),this._element=this.getTag()}get _CSS(){return{block:this.api.styles.block,wrapper:"ce-header"}}isHeaderData(e){return e.text!==void 0}normalizeData(e){const t={text:"",level:this.defaultLevel.number};return this.isHeaderData(e)&&(t.text=e.text||"",e.level!==void 0&&!isNaN(parseInt(e.level.toString()))&&(t.level=parseInt(e.level.toString()))),t}render(){return this._element}renderSettings(){return this.levels.map(e=>({icon:e.svg,label:this.api.i18n.t(`Heading ${e.number}`),onActivate:()=>this.setLevel(e.number),closeOnActivate:!0,isActive:this.currentLevel.number===e.number,render:()=>document.createElement("div")}))}setLevel(e){this.data={level:e,text:this.data.text}}merge(e){const t={text:this.data.text+e.text,level:this.data.level};this.data=t}validate(e){return e.text.trim()!==""}save(e){return{text:e.innerHTML,level:this.currentLevel.number}}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{level:!1,text:{}}}static get isReadOnlySupported(){return!0}get data(){return this._data.text=this._element.innerHTML,this._data.level=this.currentLevel.number,this._data}set data(e){if(this._data=this.normalizeData(e),e.level!==void 0&&this._element.parentNode){const t=this.getTag();t.innerHTML=this._element.innerHTML,this._element.parentNode.replaceChild(t,this._element),this._element=t}e.text!==void 0&&(this._element.innerHTML=this._data.text||"")}getTag(){const e=document.createElement(this.currentLevel.tag);return e.innerHTML=this._data.text||"",e.classList.add(this._CSS.wrapper),e.contentEditable=this.readOnly?"false":"true",e.dataset.placeholder=this.api.i18n.t(this._settings.placeholder||""),e}get currentLevel(){let e=this.levels.find(t=>t.number===this._data.level);return e||(e=this.defaultLevel),e}get defaultLevel(){if(this._settings.defaultLevel){const e=this.levels.find(t=>t.number===this._settings.defaultLevel);if(e)return e;console.warn("(ง'̀-'́)ง Heading Tool: the default level specified was not found in available levels")}return this.levels[1]}get levels(){const e=[{number:1,tag:"H1",svg:fT},{number:2,tag:"H2",svg:pT},{number:3,tag:"H3",svg:gT},{number:4,tag:"H4",svg:mT},{number:5,tag:"H5",svg:vT},{number:6,tag:"H6",svg:bT}];return this._settings.levels?e.filter(t=>this._settings.levels.includes(t.number)):e}onPaste(e){const t=e.detail;if("data"in t){const i=t.data;let r=this.defaultLevel.number;switch(i.tagName){case"H1":r=1;break;case"H2":r=2;break;case"H3":r=3;break;case"H4":r=4;break;case"H5":r=5;break;case"H6":r=6;break}this._settings.levels&&(r=this._settings.levels.reduce((a,l)=>Math.abs(l-r)<Math.abs(a-r)?l:a)),this.data={level:r,text:i.innerHTML}}}static get pasteConfig(){return{tags:["H1","H2","H3","H4","H5","H6"]}}static get toolbox(){return{icon:yT,title:"Heading"}}};(function(){try{if(typeof document<"u"){var n=document.createElement("style");n.appendChild(document.createTextNode(".ce-paragraph{line-height:1.6em;outline:none}.ce-block:only-of-type .ce-paragraph[data-placeholder-active]:empty:before,.ce-block:only-of-type .ce-paragraph[data-placeholder-active][data-empty=true]:before{content:attr(data-placeholder-active)}.ce-paragraph p:first-of-type{margin-top:0}.ce-paragraph p:last-of-type{margin-bottom:0}")),document.head.appendChild(n)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const kT='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>';function xT(n){const e=document.createElement("div");e.innerHTML=n.trim();const t=document.createDocumentFragment();return t.append(...Array.from(e.childNodes)),t}/**
 * Base Paragraph Block for the Editor.js.
 * Represents a regular text block
 *
 * @author CodeX (team@codex.so)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 */let _T=class Am{static get DEFAULT_PLACEHOLDER(){return""}constructor({data:e,config:t,api:i,readOnly:r}){this.api=i,this.readOnly=r,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=t.placeholder?t.placeholder:Am.DEFAULT_PLACEHOLDER,this._data=e??{},this._element=null,this._preserveBlank=t.preserveBlank??!1}onKeyUp(e){if(e.code!=="Backspace"&&e.code!=="Delete"||!this._element)return;const{textContent:t}=this._element;t===""&&(this._element.innerHTML="")}drawView(){const e=document.createElement("DIV");return e.classList.add(this._CSS.wrapper,this._CSS.block),e.contentEditable="false",e.dataset.placeholderActive=this.api.i18n.t(this._placeholder),this._data.text&&(e.innerHTML=this._data.text),this.readOnly||(e.contentEditable="true",e.addEventListener("keyup",this.onKeyUp)),e}render(){return this._element=this.drawView(),this._element}merge(e){if(!this._element)return;this._data.text+=e.text;const t=xT(e.text);this._element.appendChild(t),this._element.normalize()}validate(e){return!(e.text.trim()===""&&!this._preserveBlank)}save(e){return{text:e.innerHTML}}onPaste(e){const t={text:e.detail.data.innerHTML};this._data=t,window.requestAnimationFrame(()=>{this._element&&(this._element.innerHTML=this._data.text||"")})}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{text:{br:!0}}}static get isReadOnlySupported(){return!0}static get pasteConfig(){return{tags:["P"]}}static get toolbox(){return{icon:kT,title:"Text"}}};(function(){try{if(typeof document<"u"){var n=document.createElement("style");n.appendChild(document.createTextNode('.image-tool{--bg-color: #cdd1e0;--front-color: #388ae5;--border-color: #e8e8eb}.image-tool__image{border-radius:3px;overflow:hidden;margin-bottom:10px}.image-tool__image-picture{max-width:100%;vertical-align:bottom;display:block}.image-tool__image-preloader{width:50px;height:50px;border-radius:50%;background-size:cover;margin:auto;position:relative;background-color:var(--bg-color);background-position:center center}.image-tool__image-preloader:after{content:"";position:absolute;z-index:3;width:60px;height:60px;border-radius:50%;border:2px solid var(--bg-color);border-top-color:var(--front-color);left:50%;top:50%;margin-top:-30px;margin-left:-30px;animation:image-preloader-spin 2s infinite linear;box-sizing:border-box}.image-tool__caption[contentEditable=true][data-placeholder]:before{position:absolute!important;content:attr(data-placeholder);color:#707684;font-weight:400;display:none}.image-tool__caption[contentEditable=true][data-placeholder]:empty:before{display:block}.image-tool__caption[contentEditable=true][data-placeholder]:empty:focus:before{display:none}.image-tool--empty .image-tool__image,.image-tool--empty .image-tool__caption,.image-tool--loading .image-tool__caption{display:none}.image-tool .cdx-button{display:flex;align-items:center;justify-content:center}.image-tool .cdx-button svg{height:auto;margin:0 6px 0 0}.image-tool--filled .cdx-button,.image-tool--filled .image-tool__image-preloader{display:none}.image-tool--loading .image-tool__image{min-height:200px;display:flex;border:1px solid var(--border-color);background-color:#fff}.image-tool--loading .image-tool__image-picture,.image-tool--loading .cdx-button{display:none}.image-tool--withBorder .image-tool__image{border:1px solid var(--border-color)}.image-tool--withBackground .image-tool__image{padding:15px;background:var(--bg-color)}.image-tool--withBackground .image-tool__image-picture{max-width:60%;margin:0 auto}.image-tool--stretched .image-tool__image-picture{width:100%}@keyframes image-preloader-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}')),document.head.appendChild(n)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const CT='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19V19C9.13623 19 8.20435 19 7.46927 18.6955C6.48915 18.2895 5.71046 17.5108 5.30448 16.5307C5 15.7956 5 14.8638 5 13V12C5 9.19108 5 7.78661 5.67412 6.77772C5.96596 6.34096 6.34096 5.96596 6.77772 5.67412C7.78661 5 9.19108 5 12 5H13.5C14.8956 5 15.5933 5 16.1611 5.17224C17.4395 5.56004 18.44 6.56046 18.8278 7.83886C19 8.40666 19 9.10444 19 10.5V10.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6.5 17.5L17.5 6.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 10.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.9919 19H11.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13L13 5"/></svg>',ET='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 9.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.5 5H14.5096"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.625 5H15C17.2091 5 19 6.79086 19 9V9.375"/><path stroke="currentColor" stroke-width="2" d="M9.375 5L9 5C6.79086 5 5 6.79086 5 9V9.375"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 5H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 9.5H5.00957"/><path stroke="currentColor" stroke-width="2" d="M9.375 19H9C6.79086 19 5 17.2091 5 15V14.625"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 19H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 14.55H5.00957"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/></svg>',Mm='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.13968 15.32L8.69058 11.5661C9.02934 11.2036 9.48873 11 9.96774 11C10.4467 11 10.9061 11.2036 11.2449 11.5661L15.3871 16M13.5806 14.0664L15.0132 12.533C15.3519 12.1705 15.8113 11.9668 16.2903 11.9668C16.7693 11.9668 17.2287 12.1705 17.5675 12.533L18.841 13.9634"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.7778 9.33331H13.7867"/></svg>',ST='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L20 12L17 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 12H20"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L4 12L7 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12H10"/></svg>';function Ri(n,e=null,t={}){const i=document.createElement(n);Array.isArray(e)?i.classList.add(...e):e!==null&&i.classList.add(e);for(const r in t)t.hasOwnProperty(r)&&(i[r]=t[r]);return i}var Br=(n=>(n.Empty="empty",n.Uploading="uploading",n.Filled="filled",n))(Br||{});let TT=class{constructor({api:e,config:t,onSelectFile:i,readOnly:r}){this.api=e,this.config=t,this.onSelectFile=i,this.readOnly=r,this.nodes={wrapper:Ri("div",[this.CSS.baseClass,this.CSS.wrapper]),imageContainer:Ri("div",[this.CSS.imageContainer]),fileButton:this.createFileButton(),imageEl:void 0,imagePreloader:Ri("div",this.CSS.imagePreloader),caption:Ri("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly})},this.nodes.caption.dataset.placeholder=this.config.captionPlaceholder,this.nodes.imageContainer.appendChild(this.nodes.imagePreloader),this.nodes.wrapper.appendChild(this.nodes.imageContainer),this.nodes.wrapper.appendChild(this.nodes.caption),this.nodes.wrapper.appendChild(this.nodes.fileButton)}applyTune(e,t){this.nodes.wrapper.classList.toggle(`${this.CSS.wrapper}--${e}`,t)}render(e){return e.file===void 0||Object.keys(e.file).length===0?this.toggleStatus("empty"):this.toggleStatus("uploading"),this.nodes.wrapper}showPreloader(e){this.nodes.imagePreloader.style.backgroundImage=`url(${e})`,this.toggleStatus("uploading")}hidePreloader(){this.nodes.imagePreloader.style.backgroundImage="",this.toggleStatus("empty")}fillImage(e){const t=/\.mp4$/.test(e)?"VIDEO":"IMG",i={src:e};let r="load";t==="VIDEO"&&(i.autoplay=!0,i.loop=!0,i.muted=!0,i.playsinline=!0,r="loadeddata"),this.nodes.imageEl=Ri(t,this.CSS.imageEl,i),this.nodes.imageEl.addEventListener(r,()=>{this.toggleStatus("filled"),this.nodes.imagePreloader!==void 0&&(this.nodes.imagePreloader.style.backgroundImage="")}),this.nodes.imageContainer.appendChild(this.nodes.imageEl)}fillCaption(e){this.nodes.caption!==void 0&&(this.nodes.caption.innerHTML=e)}get CSS(){return{baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,button:this.api.styles.button,wrapper:"image-tool",imageContainer:"image-tool__image",imagePreloader:"image-tool__image-preloader",imageEl:"image-tool__image-picture",caption:"image-tool__caption"}}createFileButton(){const e=Ri("div",[this.CSS.button]);return e.innerHTML=this.config.buttonContent??`${Mm} ${this.api.i18n.t("Select an Image")}`,e.addEventListener("click",()=>{this.onSelectFile()}),e}toggleStatus(e){for(const t in Br)Object.prototype.hasOwnProperty.call(Br,t)&&this.nodes.wrapper.classList.toggle(`${this.CSS.wrapper}--${Br[t]}`,e===Br[t])}};function BT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Om={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(window,function(){return function(t){var i={};function r(a){if(i[a])return i[a].exports;var l=i[a]={i:a,l:!1,exports:{}};return t[a].call(l.exports,l,l.exports,r),l.l=!0,l.exports}return r.m=t,r.c=i,r.d=function(a,l,u){r.o(a,l)||Object.defineProperty(a,l,{enumerable:!0,get:u})},r.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},r.t=function(a,l){if(1&l&&(a=r(a)),8&l||4&l&&typeof a=="object"&&a&&a.__esModule)return a;var u=Object.create(null);if(r.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:a}),2&l&&typeof a!="string")for(var d in a)r.d(u,d,(function(h){return a[h]}).bind(null,d));return u},r.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return r.d(l,"a",l),l},r.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},r.p="",r(r.s=3)}([function(t,i){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch{typeof window=="object"&&(r=window)}t.exports=r},function(t,i,r){(function(a){var l=r(2),u=setTimeout;function d(){}function h(w){if(!(this instanceof h))throw new TypeError("Promises must be constructed via new");if(typeof w!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],b(w,this)}function g(w,_){for(;w._state===3;)w=w._value;w._state!==0?(w._handled=!0,h._immediateFn(function(){var E=w._state===1?_.onFulfilled:_.onRejected;if(E!==null){var S;try{S=E(w._value)}catch(M){return void m(_.promise,M)}p(_.promise,S)}else(w._state===1?p:m)(_.promise,w._value)})):w._deferreds.push(_)}function p(w,_){try{if(_===w)throw new TypeError("A promise cannot be resolved with itself.");if(_&&(typeof _=="object"||typeof _=="function")){var E=_.then;if(_ instanceof h)return w._state=3,w._value=_,void k(w);if(typeof E=="function")return void b((S=E,M=_,function(){S.apply(M,arguments)}),w)}w._state=1,w._value=_,k(w)}catch(O){m(w,O)}var S,M}function m(w,_){w._state=2,w._value=_,k(w)}function k(w){w._state===2&&w._deferreds.length===0&&h._immediateFn(function(){w._handled||h._unhandledRejectionFn(w._value)});for(var _=0,E=w._deferreds.length;_<E;_++)g(w,w._deferreds[_]);w._deferreds=null}function v(w,_,E){this.onFulfilled=typeof w=="function"?w:null,this.onRejected=typeof _=="function"?_:null,this.promise=E}function b(w,_){var E=!1;try{w(function(S){E||(E=!0,p(_,S))},function(S){E||(E=!0,m(_,S))})}catch(S){if(E)return;E=!0,m(_,S)}}h.prototype.catch=function(w){return this.then(null,w)},h.prototype.then=function(w,_){var E=new this.constructor(d);return g(this,new v(w,_,E)),E},h.prototype.finally=l.a,h.all=function(w){return new h(function(_,E){if(!w||w.length===void 0)throw new TypeError("Promise.all accepts an array");var S=Array.prototype.slice.call(w);if(S.length===0)return _([]);var M=S.length;function O(U,T){try{if(T&&(typeof T=="object"||typeof T=="function")){var I=T.then;if(typeof I=="function")return void I.call(T,function(F){O(U,F)},E)}S[U]=T,--M==0&&_(S)}catch(F){E(F)}}for(var P=0;P<S.length;P++)O(P,S[P])})},h.resolve=function(w){return w&&typeof w=="object"&&w.constructor===h?w:new h(function(_){_(w)})},h.reject=function(w){return new h(function(_,E){E(w)})},h.race=function(w){return new h(function(_,E){for(var S=0,M=w.length;S<M;S++)w[S].then(_,E)})},h._immediateFn=typeof a=="function"&&function(w){a(w)}||function(w){u(w,0)},h._unhandledRejectionFn=function(w){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",w)},i.a=h}).call(this,r(5).setImmediate)},function(t,i,r){i.a=function(a){var l=this.constructor;return this.then(function(u){return l.resolve(a()).then(function(){return u})},function(u){return l.resolve(a()).then(function(){return l.reject(u)})})}},function(t,i,r){function a(b){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(b)}r(4);var l,u,d,h,g,p,m,k=r(8),v=(u=function(b){return new Promise(function(w,_){b=h(b),(b=g(b)).beforeSend&&b.beforeSend();var E=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");E.open(b.method,b.url),E.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(b.headers).forEach(function(M){var O=b.headers[M];E.setRequestHeader(M,O)});var S=b.ratio;E.upload.addEventListener("progress",function(M){var O=Math.round(M.loaded/M.total*100),P=Math.ceil(O*S/100);b.progress(Math.min(P,100))},!1),E.addEventListener("progress",function(M){var O=Math.round(M.loaded/M.total*100),P=Math.ceil(O*(100-S)/100)+S;b.progress(Math.min(P,100))},!1),E.onreadystatechange=function(){if(E.readyState===4){var M=E.response;try{M=JSON.parse(M)}catch{}var O=k.parseHeaders(E.getAllResponseHeaders()),P={body:M,code:E.status,headers:O};m(E.status)?w(P):_(P)}},E.send(b.data)})},d=function(b){return b.method="POST",u(b)},h=function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(b.url&&typeof b.url!="string")throw new Error("Url must be a string");if(b.url=b.url||"",b.method&&typeof b.method!="string")throw new Error("`method` must be a string or null");if(b.method=b.method?b.method.toUpperCase():"GET",b.headers&&a(b.headers)!=="object")throw new Error("`headers` must be an object or null");if(b.headers=b.headers||{},b.type&&(typeof b.type!="string"||!Object.values(l).includes(b.type)))throw new Error("`type` must be taken from module's «contentType» library");if(b.progress&&typeof b.progress!="function")throw new Error("`progress` must be a function or null");if(b.progress=b.progress||function(w){},b.beforeSend=b.beforeSend||function(w){},b.ratio&&typeof b.ratio!="number")throw new Error("`ratio` must be a number");if(b.ratio<0||b.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(b.ratio=b.ratio||90,b.accept&&typeof b.accept!="string")throw new Error("`accept` must be a string with a list of allowed mime-types");if(b.accept=b.accept||"*/*",b.multiple&&typeof b.multiple!="boolean")throw new Error("`multiple` must be a true or false");if(b.multiple=b.multiple||!1,b.fieldName&&typeof b.fieldName!="string")throw new Error("`fieldName` must be a string");return b.fieldName=b.fieldName||"files",b},g=function(b){switch(b.method){case"GET":var w=p(b.data,l.URLENCODED);delete b.data,b.url=/\?/.test(b.url)?b.url+"&"+w:b.url+"?"+w;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var _=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).type||l.JSON}(b);(k.isFormData(b.data)||k.isFormElement(b.data))&&(_=l.FORM),b.data=p(b.data,_),_!==v.contentType.FORM&&(b.headers["content-type"]=_)}return b},p=function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case l.URLENCODED:return k.urlEncode(b);case l.JSON:return k.jsonEncode(b);case l.FORM:return k.formEncode(b);default:return b}},m=function(b){return b>=200&&b<300},{contentType:l={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:u,get:function(b){return b.method="GET",u(b)},post:d,transport:function(b){return b=h(b),k.selectFiles(b).then(function(w){for(var _=new FormData,E=0;E<w.length;E++)_.append(b.fieldName,w[E],w[E].name);k.isObject(b.data)&&Object.keys(b.data).forEach(function(M){var O=b.data[M];_.append(M,O)});var S=b.beforeSend;return b.beforeSend=function(){return S(w)},b.data=_,d(b)})},selectFiles:function(b){return delete(b=h(b)).beforeSend,k.selectFiles(b)}});t.exports=v},function(t,i,r){r.r(i);var a=r(1);window.Promise=window.Promise||a.a},function(t,i,r){(function(a){var l=a!==void 0&&a||typeof self<"u"&&self||window,u=Function.prototype.apply;function d(h,g){this._id=h,this._clearFn=g}i.setTimeout=function(){return new d(u.call(setTimeout,l,arguments),clearTimeout)},i.setInterval=function(){return new d(u.call(setInterval,l,arguments),clearInterval)},i.clearTimeout=i.clearInterval=function(h){h&&h.close()},d.prototype.unref=d.prototype.ref=function(){},d.prototype.close=function(){this._clearFn.call(l,this._id)},i.enroll=function(h,g){clearTimeout(h._idleTimeoutId),h._idleTimeout=g},i.unenroll=function(h){clearTimeout(h._idleTimeoutId),h._idleTimeout=-1},i._unrefActive=i.active=function(h){clearTimeout(h._idleTimeoutId);var g=h._idleTimeout;g>=0&&(h._idleTimeoutId=setTimeout(function(){h._onTimeout&&h._onTimeout()},g))},r(6),i.setImmediate=typeof self<"u"&&self.setImmediate||a!==void 0&&a.setImmediate||this&&this.setImmediate,i.clearImmediate=typeof self<"u"&&self.clearImmediate||a!==void 0&&a.clearImmediate||this&&this.clearImmediate}).call(this,r(0))},function(t,i,r){(function(a,l){(function(u,d){if(!u.setImmediate){var h,g,p,m,k,v=1,b={},w=!1,_=u.document,E=Object.getPrototypeOf&&Object.getPrototypeOf(u);E=E&&E.setTimeout?E:u,{}.toString.call(u.process)==="[object process]"?h=function(O){l.nextTick(function(){M(O)})}:function(){if(u.postMessage&&!u.importScripts){var O=!0,P=u.onmessage;return u.onmessage=function(){O=!1},u.postMessage("","*"),u.onmessage=P,O}}()?(m="setImmediate$"+Math.random()+"$",k=function(O){O.source===u&&typeof O.data=="string"&&O.data.indexOf(m)===0&&M(+O.data.slice(m.length))},u.addEventListener?u.addEventListener("message",k,!1):u.attachEvent("onmessage",k),h=function(O){u.postMessage(m+O,"*")}):u.MessageChannel?((p=new MessageChannel).port1.onmessage=function(O){M(O.data)},h=function(O){p.port2.postMessage(O)}):_&&"onreadystatechange"in _.createElement("script")?(g=_.documentElement,h=function(O){var P=_.createElement("script");P.onreadystatechange=function(){M(O),P.onreadystatechange=null,g.removeChild(P),P=null},g.appendChild(P)}):h=function(O){setTimeout(M,0,O)},E.setImmediate=function(O){typeof O!="function"&&(O=new Function(""+O));for(var P=new Array(arguments.length-1),U=0;U<P.length;U++)P[U]=arguments[U+1];var T={callback:O,args:P};return b[v]=T,h(v),v++},E.clearImmediate=S}function S(O){delete b[O]}function M(O){if(w)setTimeout(M,0,O);else{var P=b[O];if(P){w=!0;try{(function(U){var T=U.callback,I=U.args;switch(I.length){case 0:T();break;case 1:T(I[0]);break;case 2:T(I[0],I[1]);break;case 3:T(I[0],I[1],I[2]);break;default:T.apply(d,I)}})(P)}finally{S(O),w=!1}}}}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,r(0),r(7))},function(t,i){var r,a,l=t.exports={};function u(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}function h(E){if(r===setTimeout)return setTimeout(E,0);if((r===u||!r)&&setTimeout)return r=setTimeout,setTimeout(E,0);try{return r(E,0)}catch{try{return r.call(null,E,0)}catch{return r.call(this,E,0)}}}(function(){try{r=typeof setTimeout=="function"?setTimeout:u}catch{r=u}try{a=typeof clearTimeout=="function"?clearTimeout:d}catch{a=d}})();var g,p=[],m=!1,k=-1;function v(){m&&g&&(m=!1,g.length?p=g.concat(p):k=-1,p.length&&b())}function b(){if(!m){var E=h(v);m=!0;for(var S=p.length;S;){for(g=p,p=[];++k<S;)g&&g[k].run();k=-1,S=p.length}g=null,m=!1,function(M){if(a===clearTimeout)return clearTimeout(M);if((a===d||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(M);try{a(M)}catch{try{return a.call(null,M)}catch{return a.call(this,M)}}}(E)}}function w(E,S){this.fun=E,this.array=S}function _(){}l.nextTick=function(E){var S=new Array(arguments.length-1);if(arguments.length>1)for(var M=1;M<arguments.length;M++)S[M-1]=arguments[M];p.push(new w(E,S)),p.length!==1||m||h(b)},w.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=_,l.addListener=_,l.once=_,l.off=_,l.removeListener=_,l.removeAllListeners=_,l.emit=_,l.prependListener=_,l.prependOnceListener=_,l.listeners=function(E){return[]},l.binding=function(E){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(E){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},function(t,i,r){function a(u,d){for(var h=0;h<d.length;h++){var g=d[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(u,g.key,g)}}var l=r(9);t.exports=function(){function u(){(function(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")})(this,u)}var d,h,g;return d=u,g=[{key:"urlEncode",value:function(p){return l(p)}},{key:"jsonEncode",value:function(p){return JSON.stringify(p)}},{key:"formEncode",value:function(p){if(this.isFormData(p))return p;if(this.isFormElement(p))return new FormData(p);if(this.isObject(p)){var m=new FormData;return Object.keys(p).forEach(function(k){var v=p[k];m.append(k,v)}),m}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(p){return Object.prototype.toString.call(p)==="[object Object]"}},{key:"isFormData",value:function(p){return p instanceof FormData}},{key:"isFormElement",value:function(p){return p instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(m,k){var v=document.createElement("INPUT");v.type="file",p.multiple&&v.setAttribute("multiple","multiple"),p.accept&&v.setAttribute("accept",p.accept),v.style.display="none",document.body.appendChild(v),v.addEventListener("change",function(b){var w=b.target.files;m(w),document.body.removeChild(v)},!1),v.click()})}},{key:"parseHeaders",value:function(p){var m=p.trim().split(/[\r\n]+/),k={};return m.forEach(function(v){var b=v.split(": "),w=b.shift(),_=b.join(": ");w&&(k[w]=_)}),k}}],(h=null)&&a(d.prototype,h),g&&a(d,g),u}()},function(t,i){var r=function(l){return encodeURIComponent(l).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},a=function(l,u,d,h){return u=u||null,d=d||"&",h=h||null,l?function(g){for(var p=new Array,m=0;m<g.length;m++)g[m]&&p.push(g[m]);return p}(Object.keys(l).map(function(g){var p,m,k=g;if(h&&(k=h+"["+k+"]"),typeof l[g]=="object"&&l[g]!==null)p=a(l[g],null,d,k);else{u&&(m=k,k=!isNaN(parseFloat(m))&&isFinite(m)?u+Number(k):k);var v=l[g];v=(v=(v=(v=v===!0?"1":v)===!1?"0":v)===0?"0":v)||"",p=r(k)+"="+r(v)}return p})).join(d).replace(/[!'()*]/g,""):""};t.exports=a}])})})(Om);var IT=Om.exports;const Pi=BT(IT);function mc(n){return n!==void 0&&typeof n.then=="function"}class LT{constructor({config:e,onUpload:t,onError:i}){this.config=e,this.onUpload=t,this.onError=i}uploadSelectedFile({onPreview:e}){const t=function(r){const a=new FileReader;a.readAsDataURL(r),a.onload=l=>{e(l.target.result)}};let i;if(this.config.uploader&&typeof this.config.uploader.uploadByFile=="function"){const r=this.config.uploader.uploadByFile;i=Pi.selectFiles({accept:this.config.types??"image/*"}).then(a=>{t(a[0]);const l=r(a[0]);return mc(l)||console.warn("Custom uploader method uploadByFile should return a Promise"),l})}else i=Pi.transport({url:this.config.endpoints.byFile,data:this.config.additionalRequestData,accept:this.config.types??"image/*",headers:this.config.additionalRequestHeaders,beforeSend:r=>{t(r[0])},fieldName:this.config.field??"image"}).then(r=>r.body);i.then(r=>{this.onUpload(r)}).catch(r=>{this.onError(r)})}uploadByUrl(e){let t;this.config.uploader&&typeof this.config.uploader.uploadByUrl=="function"?(t=this.config.uploader.uploadByUrl(e),mc(t)||console.warn("Custom uploader method uploadByUrl should return a Promise")):t=Pi.post({url:this.config.endpoints.byUrl,data:Object.assign({url:e},this.config.additionalRequestData),type:Pi.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(i=>i.body),t.then(i=>{this.onUpload(i)}).catch(i=>{this.onError(i)})}uploadByFile(e,{onPreview:t}){const i=new FileReader;i.readAsDataURL(e),i.onload=a=>{t(a.target.result)};let r;if(this.config.uploader&&typeof this.config.uploader.uploadByFile=="function")r=this.config.uploader.uploadByFile(e),mc(r)||console.warn("Custom uploader method uploadByFile should return a Promise");else{const a=new FormData;a.append(this.config.field??"image",e),this.config.additionalRequestData&&Object.keys(this.config.additionalRequestData).length&&Object.entries(this.config.additionalRequestData).forEach(([l,u])=>{a.append(l,u)}),r=Pi.post({url:this.config.endpoints.byFile,data:a,type:Pi.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(l=>l.body)}r.then(a=>{this.onUpload(a)}).catch(a=>{this.onError(a)})}}/**
 * Image Tool for the Editor.js
 * @author CodeX <team@codex.so>
 * @license MIT
 * @see {@link https://github.com/editor-js/image}
 *
 * To developers.
 * To simplify Tool structure, we split it to 4 parts:
 *  1) index.ts — main Tool's interface, public API and methods for working with data
 *  2) uploader.ts — module that has methods for sending files via AJAX: from device, by URL or File pasting
 *  3) ui.ts — module for UI manipulations: render, showing preloader, etc
 *  4) tunes.js — working with Block Tunes: render buttons, handle clicks
 *
 * For debug purposes there is a testing server
 * that can save uploaded files and return a Response {@link UploadResponseFormat}
 *
 *       $ node dev/server.js
 *
 * It will expose 8008 port, so you can pass http://localhost:8008 with the Tools config:
 *
 * image: {
 *   class: ImageTool,
 *   config: {
 *     endpoints: {
 *       byFile: 'http://localhost:8008/uploadFile',
 *       byUrl: 'http://localhost:8008/fetchUrl',
 *     }
 *   },
 * },
 */let AT=class Uc{constructor({data:e,config:t,api:i,readOnly:r,block:a}){this.api=i,this.readOnly=r,this.block=a,this.config={endpoints:t.endpoints,additionalRequestData:t.additionalRequestData,additionalRequestHeaders:t.additionalRequestHeaders,field:t.field,types:t.types,captionPlaceholder:this.api.i18n.t(t.captionPlaceholder??"Caption"),buttonContent:t.buttonContent,uploader:t.uploader,actions:t.actions},this.uploader=new LT({config:this.config,onUpload:l=>this.onUpload(l),onError:l=>this.uploadingFailed(l)}),this.ui=new TT({api:i,config:this.config,onSelectFile:()=>{this.uploader.uploadSelectedFile({onPreview:l=>{this.ui.showPreloader(l)}})},readOnly:r}),this._data={caption:"",withBorder:!1,withBackground:!1,stretched:!1,file:{url:""}},this.data=e}static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:Mm,title:"Image"}}static get tunes(){return[{name:"withBorder",icon:ET,title:"With border",toggle:!0},{name:"stretched",icon:ST,title:"Stretch image",toggle:!0},{name:"withBackground",icon:CT,title:"With background",toggle:!0}]}render(){return this.ui.render(this.data)}validate(e){return!!e.file.url}save(){const e=this.ui.nodes.caption;return this._data.caption=e.innerHTML,this.data}renderSettings(){return Uc.tunes.concat(this.config.actions||[]).map(e=>({icon:e.icon,label:this.api.i18n.t(e.title),name:e.name,toggle:e.toggle,isActive:this.data[e.name],onActivate:()=>{if(typeof e.action=="function"){e.action(e.name);return}this.tuneToggled(e.name)}}))}appendCallback(){this.ui.nodes.fileButton.click()}static get pasteConfig(){return{tags:[{img:{src:!0}}],patterns:{image:/https?:\/\/\S+\.(gif|jpe?g|tiff|png|svg|webp)(\?[a-z0-9=]*)?$/i},files:{mimeTypes:["image/*"]}}}async onPaste(e){switch(e.type){case"tag":{const t=e.detail.data;if(/^blob:/.test(t.src)){const i=await(await fetch(t.src)).blob();this.uploadFile(i);break}this.uploadUrl(t.src);break}case"pattern":{const t=e.detail.data;this.uploadUrl(t);break}case"file":{const t=e.detail.file;this.uploadFile(t);break}}}set data(e){this.image=e.file,this._data.caption=e.caption||"",this.ui.fillCaption(this._data.caption),Uc.tunes.forEach(({name:t})=>{const i=typeof e[t]<"u"?e[t]===!0||e[t]==="true":!1;this.setTune(t,i)})}get data(){return this._data}set image(e){this._data.file=e||{url:""},e&&e.url&&this.ui.fillImage(e.url)}onUpload(e){e.success&&e.file?this.image=e.file:this.uploadingFailed("incorrect response: "+JSON.stringify(e))}uploadingFailed(e){console.log("Image Tool: uploading failed because of",e),this.api.notifier.show({message:this.api.i18n.t("Couldn’t upload image. Please try another."),style:"error"}),this.ui.hidePreloader()}tuneToggled(e){this.setTune(e,!this._data[e])}setTune(e,t){this._data[e]=t,this.ui.applyTune(e,t),e==="stretched"&&Promise.resolve().then(()=>{this.block.stretched=t}).catch(i=>{console.error(i)})}uploadFile(e){this.uploader.uploadByFile(e,{onPreview:t=>{this.ui.showPreloader(t)}})}uploadUrl(e){this.ui.showPreloader(e),this.uploader.uploadByUrl(e)}};(function(){try{if(typeof document<"u"){var n=document.createElement("style");n.appendChild(document.createTextNode(`.link-tool{position:relative}.link-tool__input{padding-left:38px;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none'%3E%3Cpath stroke='%23707684' stroke-linecap='round' stroke-width='2' d='m7.7 12.6-.021.02a2.795 2.795 0 0 0-.044 4.005v0a2.795 2.795 0 0 0 3.936.006l1.455-1.438a3 3 0 0 0 .34-3.866l-.146-.207'/%3E%3Cpath stroke='%23707684' stroke-linecap='round' stroke-width='2' d='m16.22 11.12.136-.14c.933-.954.992-2.46.135-3.483v0a2.597 2.597 0 0 0-3.664-.32L11.39 8.386a3 3 0 0 0-.301 4.3l.031.034'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:10px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.link-tool__input-holder{position:relative}.link-tool__input-holder--error .link-tool__input{background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none'%3E%3Cpath stroke='rgb(224, 147, 147)' stroke-linecap='round' stroke-width='2' d='m7.7 12.6-.021.02a2.795 2.795 0 0 0-.044 4.005v0a2.795 2.795 0 0 0 3.936.006l1.455-1.438a3 3 0 0 0 .34-3.866l-.146-.207'/%3E%3Cpath stroke='rgb(224, 147, 147)' stroke-linecap='round' stroke-width='2' d='m16.22 11.12.136-.14c.933-.954.992-2.46.135-3.483v0a2.597 2.597 0 0 0-3.664-.32L11.39 8.386a3 3 0 0 0-.301 4.3l.031.034'/%3E%3C/svg%3E");background-color:#fff3f6;border-color:#f3e0e0;color:#a95a5a;box-shadow:inset 0 1px 3px #923e3e0d}.link-tool__input[contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.link-tool__input[contentEditable=true][data-placeholder]:empty:before{opacity:1}.link-tool__input[contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}.link-tool__progress{position:absolute;box-shadow:inset 0 1px 3px #66556b0a;height:100%;width:0;background-color:#f4f5f7;z-index:-1}.link-tool__progress--loading{-webkit-animation:progress .5s ease-in;-webkit-animation-fill-mode:forwards}.link-tool__progress--loaded{width:100%}.link-tool__content{display:block;padding:25px;border-radius:2px;box-shadow:0 0 0 2px #fff;color:initial!important;text-decoration:none!important}.link-tool__content:after{content:"";clear:both;display:table}.link-tool__content--rendered{background:#fff;border:1px solid rgba(201,201,204,.48);box-shadow:0 1px 3px #0000001a;border-radius:6px;will-change:filter;animation:link-in .45s 1 cubic-bezier(.215,.61,.355,1)}.link-tool__content--rendered:hover{box-shadow:0 0 3px #00000029}.link-tool__image{background-position:center center;background-repeat:no-repeat;background-size:cover;margin:0 0 0 30px;width:65px;height:65px;border-radius:3px;float:right}.link-tool__title{font-size:17px;font-weight:600;line-height:1.5em;margin:0 0 10px}.link-tool__title+.link-tool__anchor{margin-top:25px}.link-tool__description{margin:0 0 20px;font-size:15px;line-height:1.55em;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}.link-tool__anchor{display:block;font-size:15px;line-height:1em;color:#888!important;border:0!important;padding:0!important}@keyframes link-in{0%{filter:blur(5px)}to{filter:none}}.codex-editor--narrow .link-tool__image{display:none}@-webkit-keyframes progress{0%{width:0}to{width:85%}}`)),document.head.appendChild(n)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();var qi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function MT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}(function(n){var e=function(){try{return!!Symbol.iterator}catch{return!1}},t=e(),i=function(h){var g={next:function(){var p=h.shift();return{done:p===void 0,value:p}}};return t&&(g[Symbol.iterator]=function(){return g}),g},r=function(h){return encodeURIComponent(h).replace(/%20/g,"+")},a=function(h){return decodeURIComponent(String(h).replace(/\+/g," "))},l=function(){var h=function(p){Object.defineProperty(this,"_entries",{writable:!0,value:{}});var m=typeof p;if(m!=="undefined")if(m==="string")p!==""&&this._fromString(p);else if(p instanceof h){var k=this;p.forEach(function(_,E){k.append(E,_)})}else if(p!==null&&m==="object")if(Object.prototype.toString.call(p)==="[object Array]")for(var v=0;v<p.length;v++){var b=p[v];if(Object.prototype.toString.call(b)==="[object Array]"||b.length!==2)this.append(b[0],b[1]);else throw new TypeError("Expected [string, any] as entry at index "+v+" of URLSearchParams's input")}else for(var w in p)p.hasOwnProperty(w)&&this.append(w,p[w]);else throw new TypeError("Unsupported input's type for URLSearchParams")},g=h.prototype;g.append=function(p,m){p in this._entries?this._entries[p].push(String(m)):this._entries[p]=[String(m)]},g.delete=function(p){delete this._entries[p]},g.get=function(p){return p in this._entries?this._entries[p][0]:null},g.getAll=function(p){return p in this._entries?this._entries[p].slice(0):[]},g.has=function(p){return p in this._entries},g.set=function(p,m){this._entries[p]=[String(m)]},g.forEach=function(p,m){var k;for(var v in this._entries)if(this._entries.hasOwnProperty(v)){k=this._entries[v];for(var b=0;b<k.length;b++)p.call(m,k[b],v,this)}},g.keys=function(){var p=[];return this.forEach(function(m,k){p.push(k)}),i(p)},g.values=function(){var p=[];return this.forEach(function(m){p.push(m)}),i(p)},g.entries=function(){var p=[];return this.forEach(function(m,k){p.push([k,m])}),i(p)},t&&(g[Symbol.iterator]=g.entries),g.toString=function(){var p=[];return this.forEach(function(m,k){p.push(r(k)+"="+r(m))}),p.join("&")},n.URLSearchParams=h},u=function(){try{var h=n.URLSearchParams;return new h("?a=1").toString()==="a=1"&&typeof h.prototype.set=="function"}catch{return!1}};u()||l();var d=n.URLSearchParams.prototype;typeof d.sort!="function"&&(d.sort=function(){var h=this,g=[];this.forEach(function(m,k){g.push([k,m]),h._entries||h.delete(k)}),g.sort(function(m,k){return m[0]<k[0]?-1:m[0]>k[0]?1:0}),h._entries&&(h._entries={});for(var p=0;p<g.length;p++)this.append(g[p][0],g[p][1])}),typeof d._fromString!="function"&&Object.defineProperty(d,"_fromString",{enumerable:!1,configurable:!1,writable:!1,value:function(h){if(this._entries)this._entries={};else{var g=[];this.forEach(function(v,b){g.push(b)});for(var p=0;p<g.length;p++)this.delete(g[p])}h=h.replace(/^\?/,"");for(var m=h.split("&"),k,p=0;p<m.length;p++)k=m[p].split("="),this.append(a(k[0]),k.length>1?a(k[1]):"")}})})(typeof qi<"u"?qi:typeof window<"u"?window:typeof self<"u"?self:qi);(function(n){var e=function(){try{var r=new n.URL("b","http://a");return r.pathname="c d",r.href==="http://a/c%20d"&&r.searchParams}catch{return!1}},t=function(){var r=n.URL,a=function(d,h){typeof d!="string"&&(d=String(d));var g=document,p;if(h&&(n.location===void 0||h!==n.location.href)){g=document.implementation.createHTMLDocument(""),p=g.createElement("base"),p.href=h,g.head.appendChild(p);try{if(p.href.indexOf(h)!==0)throw new Error(p.href)}catch(S){throw new Error("URL unable to set base "+h+" due to "+S)}}var m=g.createElement("a");m.href=d,p&&(g.body.appendChild(m),m.href=m.href);var k=g.createElement("input");if(k.type="url",k.value=d,m.protocol===":"||!/:/.test(m.href)||!k.checkValidity()&&!h)throw new TypeError("Invalid URL");Object.defineProperty(this,"_anchorElement",{value:m});var v=new n.URLSearchParams(this.search),b=!0,w=!0,_=this;["append","delete","set"].forEach(function(S){var M=v[S];v[S]=function(){M.apply(v,arguments),b&&(w=!1,_.search=v.toString(),w=!0)}}),Object.defineProperty(this,"searchParams",{value:v,enumerable:!0});var E=void 0;Object.defineProperty(this,"_updateSearchParams",{enumerable:!1,configurable:!1,writable:!1,value:function(){this.search!==E&&(E=this.search,w&&(b=!1,this.searchParams._fromString(this.search),b=!0))}})},l=a.prototype,u=function(d){Object.defineProperty(l,d,{get:function(){return this._anchorElement[d]},set:function(h){this._anchorElement[d]=h},enumerable:!0})};["hash","host","hostname","port","protocol"].forEach(function(d){u(d)}),Object.defineProperty(l,"search",{get:function(){return this._anchorElement.search},set:function(d){this._anchorElement.search=d,this._updateSearchParams()},enumerable:!0}),Object.defineProperties(l,{toString:{get:function(){var d=this;return function(){return d.href}}},href:{get:function(){return this._anchorElement.href.replace(/\?$/,"")},set:function(d){this._anchorElement.href=d,this._updateSearchParams()},enumerable:!0},pathname:{get:function(){return this._anchorElement.pathname.replace(/(^\/?)/,"/")},set:function(d){this._anchorElement.pathname=d},enumerable:!0},origin:{get:function(){var d={"http:":80,"https:":443,"ftp:":21}[this._anchorElement.protocol],h=this._anchorElement.port!=d&&this._anchorElement.port!=="";return this._anchorElement.protocol+"//"+this._anchorElement.hostname+(h?":"+this._anchorElement.port:"")},enumerable:!0},password:{get:function(){return""},set:function(d){},enumerable:!0},username:{get:function(){return""},set:function(d){},enumerable:!0}}),a.createObjectURL=function(d){return r.createObjectURL.apply(r,arguments)},a.revokeObjectURL=function(d){return r.revokeObjectURL.apply(r,arguments)},n.URL=a};if(e()||t(),n.location!==void 0&&!("origin"in n.location)){var i=function(){return n.location.protocol+"//"+n.location.hostname+(n.location.port?":"+n.location.port:"")};try{Object.defineProperty(n.location,"origin",{get:i,enumerable:!0})}catch{setInterval(function(){n.location.origin=i()},100)}}})(typeof qi<"u"?qi:typeof window<"u"?window:typeof self<"u"?self:qi);var Rm={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(window,function(){return function(t){var i={};function r(a){if(i[a])return i[a].exports;var l=i[a]={i:a,l:!1,exports:{}};return t[a].call(l.exports,l,l.exports,r),l.l=!0,l.exports}return r.m=t,r.c=i,r.d=function(a,l,u){r.o(a,l)||Object.defineProperty(a,l,{enumerable:!0,get:u})},r.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},r.t=function(a,l){if(1&l&&(a=r(a)),8&l||4&l&&typeof a=="object"&&a&&a.__esModule)return a;var u=Object.create(null);if(r.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:a}),2&l&&typeof a!="string")for(var d in a)r.d(u,d,(function(h){return a[h]}).bind(null,d));return u},r.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return r.d(l,"a",l),l},r.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},r.p="",r(r.s=3)}([function(t,i){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch{typeof window=="object"&&(r=window)}t.exports=r},function(t,i,r){(function(a){var l=r(2),u=setTimeout;function d(){}function h(w){if(!(this instanceof h))throw new TypeError("Promises must be constructed via new");if(typeof w!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],b(w,this)}function g(w,_){for(;w._state===3;)w=w._value;w._state!==0?(w._handled=!0,h._immediateFn(function(){var E=w._state===1?_.onFulfilled:_.onRejected;if(E!==null){var S;try{S=E(w._value)}catch(M){return void m(_.promise,M)}p(_.promise,S)}else(w._state===1?p:m)(_.promise,w._value)})):w._deferreds.push(_)}function p(w,_){try{if(_===w)throw new TypeError("A promise cannot be resolved with itself.");if(_&&(typeof _=="object"||typeof _=="function")){var E=_.then;if(_ instanceof h)return w._state=3,w._value=_,void k(w);if(typeof E=="function")return void b((S=E,M=_,function(){S.apply(M,arguments)}),w)}w._state=1,w._value=_,k(w)}catch(O){m(w,O)}var S,M}function m(w,_){w._state=2,w._value=_,k(w)}function k(w){w._state===2&&w._deferreds.length===0&&h._immediateFn(function(){w._handled||h._unhandledRejectionFn(w._value)});for(var _=0,E=w._deferreds.length;_<E;_++)g(w,w._deferreds[_]);w._deferreds=null}function v(w,_,E){this.onFulfilled=typeof w=="function"?w:null,this.onRejected=typeof _=="function"?_:null,this.promise=E}function b(w,_){var E=!1;try{w(function(S){E||(E=!0,p(_,S))},function(S){E||(E=!0,m(_,S))})}catch(S){if(E)return;E=!0,m(_,S)}}h.prototype.catch=function(w){return this.then(null,w)},h.prototype.then=function(w,_){var E=new this.constructor(d);return g(this,new v(w,_,E)),E},h.prototype.finally=l.a,h.all=function(w){return new h(function(_,E){if(!w||w.length===void 0)throw new TypeError("Promise.all accepts an array");var S=Array.prototype.slice.call(w);if(S.length===0)return _([]);var M=S.length;function O(U,T){try{if(T&&(typeof T=="object"||typeof T=="function")){var I=T.then;if(typeof I=="function")return void I.call(T,function(F){O(U,F)},E)}S[U]=T,--M==0&&_(S)}catch(F){E(F)}}for(var P=0;P<S.length;P++)O(P,S[P])})},h.resolve=function(w){return w&&typeof w=="object"&&w.constructor===h?w:new h(function(_){_(w)})},h.reject=function(w){return new h(function(_,E){E(w)})},h.race=function(w){return new h(function(_,E){for(var S=0,M=w.length;S<M;S++)w[S].then(_,E)})},h._immediateFn=typeof a=="function"&&function(w){a(w)}||function(w){u(w,0)},h._unhandledRejectionFn=function(w){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",w)},i.a=h}).call(this,r(5).setImmediate)},function(t,i,r){i.a=function(a){var l=this.constructor;return this.then(function(u){return l.resolve(a()).then(function(){return u})},function(u){return l.resolve(a()).then(function(){return l.reject(u)})})}},function(t,i,r){function a(v){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(v)}r(4);var l,u,d,h,g,p,m=r(8),k=(u=function(v){return new Promise(function(b,w){v=h(v),v=g(v);var _=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");_.open(v.method,v.url),_.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(v.headers).forEach(function(S){var M=v.headers[S];_.setRequestHeader(S,M)});var E=v.ratio;_.upload.addEventListener("progress",function(S){var M=Math.round(S.loaded/S.total*100),O=Math.ceil(M*E/100);v.progress(O)},!1),_.addEventListener("progress",function(S){var M=Math.round(S.loaded/S.total*100),O=Math.ceil(M*(100-E)/100)+E;v.progress(O)},!1),_.onreadystatechange=function(){if(_.readyState===4){var S=_.response;try{S=JSON.parse(S)}catch{}var M=m.parseHeaders(_.getAllResponseHeaders()),O={body:S,code:_.status,headers:M};_.status===200?b(O):w(O)}},_.send(v.data)})},d=function(v){return v.method="POST",u(v)},h=function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(v.url&&typeof v.url!="string")throw new Error("Url must be a string");if(v.url=v.url||"",v.method&&typeof v.method!="string")throw new Error("`method` must be a string or null");if(v.method=v.method?v.method.toUpperCase():"GET",v.headers&&a(v.headers)!=="object")throw new Error("`headers` must be an object or null");if(v.headers=v.headers||{},v.type&&(typeof v.type!="string"||!Object.values(l).includes(v.type)))throw new Error("`type` must be taken from module's «contentType» library");if(v.progress&&typeof v.progress!="function")throw new Error("`progress` must be a function or null");if(v.progress=v.progress||function(b){},v.beforeSend=v.beforeSend||function(b){},v.ratio&&typeof v.ratio!="number")throw new Error("`ratio` must be a number");if(v.ratio<0||v.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(v.ratio=v.ratio||90,v.accept&&typeof v.accept!="string")throw new Error("`accept` must be a string with a list of allowed mime-types");if(v.accept=v.accept||"*/*",v.multiple&&typeof v.multiple!="boolean")throw new Error("`multiple` must be a true or false");if(v.multiple=v.multiple||!1,v.fieldName&&typeof v.fieldName!="string")throw new Error("`fieldName` must be a string");return v.fieldName=v.fieldName||"files",v},g=function(v){switch(v.method){case"GET":var b=p(v.data,l.URLENCODED);delete v.data,v.url=/\?/.test(v.url)?v.url+"&"+b:v.url+"?"+b;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var w=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).type||l.JSON}(v);(m.isFormData(v.data)||m.isFormElement(v.data))&&(w=l.FORM),v.data=p(v.data,w),w!==k.contentType.FORM&&(v.headers["content-type"]=w)}return v},p=function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case l.URLENCODED:return m.urlEncode(v);case l.JSON:return m.jsonEncode(v);case l.FORM:return m.formEncode(v);default:return v}},{contentType:l={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:u,get:function(v){return v.method="GET",u(v)},post:d,transport:function(v){return v=h(v),m.selectFiles(v).then(function(b){for(var w=new FormData,_=0;_<b.length;_++)w.append(v.fieldName,b[_],b[_].name);return m.isObject(v.data)&&Object.keys(v.data).forEach(function(E){var S=v.data[E];w.append(E,S)}),v.beforeSend&&v.beforeSend(b),v.data=w,d(v)})},selectFiles:function(v){return delete(v=h(v)).beforeSend,m.selectFiles(v)}});t.exports=k},function(t,i,r){r.r(i);var a=r(1);window.Promise=window.Promise||a.a},function(t,i,r){(function(a){var l=a!==void 0&&a||typeof self<"u"&&self||window,u=Function.prototype.apply;function d(h,g){this._id=h,this._clearFn=g}i.setTimeout=function(){return new d(u.call(setTimeout,l,arguments),clearTimeout)},i.setInterval=function(){return new d(u.call(setInterval,l,arguments),clearInterval)},i.clearTimeout=i.clearInterval=function(h){h&&h.close()},d.prototype.unref=d.prototype.ref=function(){},d.prototype.close=function(){this._clearFn.call(l,this._id)},i.enroll=function(h,g){clearTimeout(h._idleTimeoutId),h._idleTimeout=g},i.unenroll=function(h){clearTimeout(h._idleTimeoutId),h._idleTimeout=-1},i._unrefActive=i.active=function(h){clearTimeout(h._idleTimeoutId);var g=h._idleTimeout;g>=0&&(h._idleTimeoutId=setTimeout(function(){h._onTimeout&&h._onTimeout()},g))},r(6),i.setImmediate=typeof self<"u"&&self.setImmediate||a!==void 0&&a.setImmediate||this&&this.setImmediate,i.clearImmediate=typeof self<"u"&&self.clearImmediate||a!==void 0&&a.clearImmediate||this&&this.clearImmediate}).call(this,r(0))},function(t,i,r){(function(a,l){(function(u,d){if(!u.setImmediate){var h,g,p,m,k,v=1,b={},w=!1,_=u.document,E=Object.getPrototypeOf&&Object.getPrototypeOf(u);E=E&&E.setTimeout?E:u,{}.toString.call(u.process)==="[object process]"?h=function(O){l.nextTick(function(){M(O)})}:function(){if(u.postMessage&&!u.importScripts){var O=!0,P=u.onmessage;return u.onmessage=function(){O=!1},u.postMessage("","*"),u.onmessage=P,O}}()?(m="setImmediate$"+Math.random()+"$",k=function(O){O.source===u&&typeof O.data=="string"&&O.data.indexOf(m)===0&&M(+O.data.slice(m.length))},u.addEventListener?u.addEventListener("message",k,!1):u.attachEvent("onmessage",k),h=function(O){u.postMessage(m+O,"*")}):u.MessageChannel?((p=new MessageChannel).port1.onmessage=function(O){M(O.data)},h=function(O){p.port2.postMessage(O)}):_&&"onreadystatechange"in _.createElement("script")?(g=_.documentElement,h=function(O){var P=_.createElement("script");P.onreadystatechange=function(){M(O),P.onreadystatechange=null,g.removeChild(P),P=null},g.appendChild(P)}):h=function(O){setTimeout(M,0,O)},E.setImmediate=function(O){typeof O!="function"&&(O=new Function(""+O));for(var P=new Array(arguments.length-1),U=0;U<P.length;U++)P[U]=arguments[U+1];var T={callback:O,args:P};return b[v]=T,h(v),v++},E.clearImmediate=S}function S(O){delete b[O]}function M(O){if(w)setTimeout(M,0,O);else{var P=b[O];if(P){w=!0;try{(function(U){var T=U.callback,I=U.args;switch(I.length){case 0:T();break;case 1:T(I[0]);break;case 2:T(I[0],I[1]);break;case 3:T(I[0],I[1],I[2]);break;default:T.apply(d,I)}})(P)}finally{S(O),w=!1}}}}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,r(0),r(7))},function(t,i){var r,a,l=t.exports={};function u(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}function h(E){if(r===setTimeout)return setTimeout(E,0);if((r===u||!r)&&setTimeout)return r=setTimeout,setTimeout(E,0);try{return r(E,0)}catch{try{return r.call(null,E,0)}catch{return r.call(this,E,0)}}}(function(){try{r=typeof setTimeout=="function"?setTimeout:u}catch{r=u}try{a=typeof clearTimeout=="function"?clearTimeout:d}catch{a=d}})();var g,p=[],m=!1,k=-1;function v(){m&&g&&(m=!1,g.length?p=g.concat(p):k=-1,p.length&&b())}function b(){if(!m){var E=h(v);m=!0;for(var S=p.length;S;){for(g=p,p=[];++k<S;)g&&g[k].run();k=-1,S=p.length}g=null,m=!1,function(M){if(a===clearTimeout)return clearTimeout(M);if((a===d||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(M);try{a(M)}catch{try{return a.call(null,M)}catch{return a.call(this,M)}}}(E)}}function w(E,S){this.fun=E,this.array=S}function _(){}l.nextTick=function(E){var S=new Array(arguments.length-1);if(arguments.length>1)for(var M=1;M<arguments.length;M++)S[M-1]=arguments[M];p.push(new w(E,S)),p.length!==1||m||h(b)},w.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=_,l.addListener=_,l.once=_,l.off=_,l.removeListener=_,l.removeAllListeners=_,l.emit=_,l.prependListener=_,l.prependOnceListener=_,l.listeners=function(E){return[]},l.binding=function(E){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(E){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},function(t,i,r){function a(u,d){for(var h=0;h<d.length;h++){var g=d[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(u,g.key,g)}}var l=r(9);t.exports=function(){function u(){(function(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")})(this,u)}var d,h,g;return d=u,g=[{key:"urlEncode",value:function(p){return l(p)}},{key:"jsonEncode",value:function(p){return JSON.stringify(p)}},{key:"formEncode",value:function(p){if(this.isFormData(p))return p;if(this.isFormElement(p))return new FormData(p);if(this.isObject(p)){var m=new FormData;return Object.keys(p).forEach(function(k){var v=p[k];m.append(k,v)}),m}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(p){return Object.prototype.toString.call(p)==="[object Object]"}},{key:"isFormData",value:function(p){return p instanceof FormData}},{key:"isFormElement",value:function(p){return p instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(m,k){var v=document.createElement("INPUT");v.type="file",p.multiple&&v.setAttribute("multiple","multiple"),p.accept&&v.setAttribute("accept",p.accept),v.style.display="none",document.body.appendChild(v),v.addEventListener("change",function(b){var w=b.target.files;m(w),document.body.removeChild(v)},!1),v.click()})}},{key:"parseHeaders",value:function(p){var m=p.trim().split(/[\r\n]+/),k={};return m.forEach(function(v){var b=v.split(": "),w=b.shift(),_=b.join(": ");w&&(k[w]=_)}),k}}],(h=null)&&a(d.prototype,h),g&&a(d,g),u}()},function(t,i){var r=function(l){return encodeURIComponent(l).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},a=function(l,u,d,h){return u=u||null,d=d||"&",h=h||null,l?function(g){for(var p=new Array,m=0;m<g.length;m++)g[m]&&p.push(g[m]);return p}(Object.keys(l).map(function(g){var p,m,k=g;if(h&&(k=h+"["+k+"]"),typeof l[g]=="object"&&l[g]!==null)p=a(l[g],null,d,k);else{u&&(m=k,k=!isNaN(parseFloat(m))&&isFinite(m)?u+Number(k):k);var v=l[g];v=(v=(v=(v=v===!0?"1":v)===!1?"0":v)===0?"0":v)||"",p=r(k)+"="+r(v)}return p})).join(d).replace(/[!'()*]/g,""):""};t.exports=a}])})})(Rm);var OT=Rm.exports;const RT=MT(OT),PT='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.569 6.39509 13.9269 6.25143 12.8271 7.17675L11.39 8.38588C10.0935 9.47674 9.95704 11.4241 11.0887 12.6852L11.12 12.72"/></svg>';let NT=class{static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:PT,title:"Link"}}static get enableLineBreaks(){return!0}constructor({data:e,config:t,api:i,readOnly:r}){this.api=i,this.readOnly=r,this.config={endpoint:t.endpoint||"",headers:t.headers||{}},this.nodes={wrapper:null,container:null,progress:null,input:null,inputHolder:null,linkContent:null,linkImage:null,linkTitle:null,linkDescription:null,linkText:null},this._data={link:"",meta:{}},this.data=e}render(){return this.nodes.wrapper=this.make("div",this.CSS.baseClass),this.nodes.container=this.make("div",this.CSS.container),this.nodes.inputHolder=this.makeInputHolder(),this.nodes.linkContent=this.prepareLinkPreview(),Object.keys(this.data.meta).length?(this.nodes.container.appendChild(this.nodes.linkContent),this.showLinkPreview(this.data.meta)):this.nodes.container.appendChild(this.nodes.inputHolder),this.nodes.wrapper.appendChild(this.nodes.container),this.nodes.wrapper}save(){return this.data}validate(){return this.data.link.trim()!==""}set data(e){this._data=Object.assign({},{link:e.link||this._data.link,meta:e.meta||this._data.meta})}get data(){return this._data}get CSS(){return{baseClass:this.api.styles.block,input:this.api.styles.input,container:"link-tool",inputEl:"link-tool__input",inputHolder:"link-tool__input-holder",inputError:"link-tool__input-holder--error",linkContent:"link-tool__content",linkContentRendered:"link-tool__content--rendered",linkImage:"link-tool__image",linkTitle:"link-tool__title",linkDescription:"link-tool__description",linkText:"link-tool__anchor",progress:"link-tool__progress",progressLoading:"link-tool__progress--loading",progressLoaded:"link-tool__progress--loaded"}}makeInputHolder(){const e=this.make("div",this.CSS.inputHolder);return this.nodes.progress=this.make("label",this.CSS.progress),this.nodes.input=this.make("div",[this.CSS.input,this.CSS.inputEl],{contentEditable:!this.readOnly}),this.nodes.input.dataset.placeholder=this.api.i18n.t("Link"),this.readOnly||(this.nodes.input.addEventListener("paste",t=>{this.startFetching(t)}),this.nodes.input.addEventListener("keydown",t=>{const[i,r]=[13,65],a=t.ctrlKey||t.metaKey;switch(t.keyCode){case i:t.preventDefault(),t.stopPropagation(),this.startFetching(t);break;case r:a&&this.selectLinkUrl(t);break}})),e.appendChild(this.nodes.progress),e.appendChild(this.nodes.input),e}startFetching(e){let t=this.nodes.input.textContent;e.type==="paste"&&(t=(e.clipboardData||window.clipboardData).getData("text")),this.removeErrorStyle(),this.fetchLinkData(t)}removeErrorStyle(){this.nodes.inputHolder.classList.remove(this.CSS.inputError),this.nodes.inputHolder.insertBefore(this.nodes.progress,this.nodes.input)}selectLinkUrl(e){e.preventDefault(),e.stopPropagation();const t=window.getSelection(),i=new Range,r=t.anchorNode.parentNode.closest(`.${this.CSS.inputHolder}`).querySelector(`.${this.CSS.inputEl}`);i.selectNodeContents(r),t.removeAllRanges(),t.addRange(i)}prepareLinkPreview(){const e=this.make("a",this.CSS.linkContent,{target:"_blank",rel:"nofollow noindex noreferrer"});return this.nodes.linkImage=this.make("div",this.CSS.linkImage),this.nodes.linkTitle=this.make("div",this.CSS.linkTitle),this.nodes.linkDescription=this.make("p",this.CSS.linkDescription),this.nodes.linkText=this.make("span",this.CSS.linkText),e}showLinkPreview({image:e,title:t,description:i}){this.nodes.container.appendChild(this.nodes.linkContent),e&&e.url&&(this.nodes.linkImage.style.backgroundImage="url("+e.url+")",this.nodes.linkContent.appendChild(this.nodes.linkImage)),t&&(this.nodes.linkTitle.textContent=t,this.nodes.linkContent.appendChild(this.nodes.linkTitle)),i&&(this.nodes.linkDescription.textContent=i,this.nodes.linkContent.appendChild(this.nodes.linkDescription)),this.nodes.linkContent.classList.add(this.CSS.linkContentRendered),this.nodes.linkContent.setAttribute("href",this.data.link),this.nodes.linkContent.appendChild(this.nodes.linkText);try{this.nodes.linkText.textContent=new URL(this.data.link).hostname}catch{this.nodes.linkText.textContent=this.data.link}}showProgress(){this.nodes.progress.classList.add(this.CSS.progressLoading)}hideProgress(){return new Promise(e=>{this.nodes.progress.classList.remove(this.CSS.progressLoading),this.nodes.progress.classList.add(this.CSS.progressLoaded),setTimeout(e,500)})}applyErrorStyle(){this.nodes.inputHolder.classList.add(this.CSS.inputError),this.nodes.progress.remove()}async fetchLinkData(e){this.showProgress(),this.data={link:e};try{const{body:t}=await RT.get({url:this.config.endpoint,headers:this.config.headers,data:{url:e}});this.onFetch(t)}catch{this.fetchingFailed(this.api.i18n.t("Couldn't fetch the link data"))}}onFetch(e){if(!e||!e.success){this.fetchingFailed(this.api.i18n.t("Couldn't get this link data, try the other one"));return}const t=e.meta,i=e.link||this.data.link;if(this.data={meta:t,link:i},!t){this.fetchingFailed(this.api.i18n.t("Wrong response format from the server"));return}this.hideProgress().then(()=>{this.nodes.inputHolder.remove(),this.showLinkPreview(t)})}fetchingFailed(e){this.api.notifier.show({message:e,style:"error"}),this.applyErrorStyle()}make(e,t=null,i={}){const r=document.createElement(e);Array.isArray(t)?r.classList.add(...t):t&&r.classList.add(t);for(const a in i)r[a]=i[a];return r}};(function(){try{if(typeof document<"u"){var n=document.createElement("style");n.appendChild(document.createTextNode('.cdx-checklist{gap:6px;display:flex;flex-direction:column}.cdx-checklist__item{display:flex;box-sizing:content-box;align-items:flex-start}.cdx-checklist__item-text{outline:none;flex-grow:1;line-height:1.57em}.cdx-checklist__item-checkbox{width:22px;height:22px;display:flex;align-items:center;margin-right:8px;margin-top:calc(.785em - 11px);cursor:pointer}.cdx-checklist__item-checkbox svg{opacity:0;height:20px;width:20px;position:absolute;left:-1px;top:-1px;max-height:20px}@media (hover: hover){.cdx-checklist__item-checkbox:not(.cdx-checklist__item-checkbox--no-hover):hover .cdx-checklist__item-checkbox-check svg{opacity:1}}.cdx-checklist__item-checkbox-check{cursor:pointer;display:inline-block;flex-shrink:0;position:relative;width:20px;height:20px;box-sizing:border-box;margin-left:0;border-radius:5px;border:1px solid #C9C9C9;background:#fff}.cdx-checklist__item-checkbox-check:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;border-radius:100%;background-color:#369fff;visibility:hidden;pointer-events:none;transform:scale(1);transition:transform .4s ease-out,opacity .4s}@media (hover: hover){.cdx-checklist__item--checked .cdx-checklist__item-checkbox:not(.cdx-checklist__item--checked .cdx-checklist__item-checkbox--no-hover):hover .cdx-checklist__item-checkbox-check{background:#0059AB;border-color:#0059ab}}.cdx-checklist__item--checked .cdx-checklist__item-checkbox-check{background:#369FFF;border-color:#369fff}.cdx-checklist__item--checked .cdx-checklist__item-checkbox-check svg{opacity:1}.cdx-checklist__item--checked .cdx-checklist__item-checkbox-check svg path{stroke:#fff}.cdx-checklist__item--checked .cdx-checklist__item-checkbox-check:before{opacity:0;visibility:visible;transform:scale(2.5)}')),document.head.appendChild(n)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const DT='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 12L10.4884 15.8372C10.5677 15.9245 10.705 15.9245 10.7844 15.8372L17 9"/></svg>',FT='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.2 12L11.0586 13.8586C11.1367 13.9367 11.2633 13.9367 11.3414 13.8586L14.7 10.5"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>';function pp(){const n=document.activeElement,e=window.getSelection().getRangeAt(0),t=e.cloneRange();return t.selectNodeContents(n),t.setStart(e.endContainer,e.endOffset),t.extractContents()}function HT(n){const e=document.createElement("div");return e.appendChild(n),e.innerHTML}function xr(n,e=null,t={}){const i=document.createElement(n);Array.isArray(e)?i.classList.add(...e):e&&i.classList.add(e);for(const r in t)i[r]=t[r];return i}function gp(n){return n.innerHTML.replace("<br>"," ").trim()}function mp(n,e=!1,t=void 0){const i=document.createRange(),r=window.getSelection();i.selectNodeContents(n),t!==void 0&&(i.setStart(n,t),i.setEnd(n,t)),i.collapse(e),r.removeAllRanges(),r.addRange(i)}Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);Element.prototype.closest||(Element.prototype.closest=function(n){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(n))return e;e=e.parentElement||e.parentNode}while(e!==null&&e.nodeType===1);return null});let UT=class{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return{icon:FT,title:"Checklist"}}static get conversionConfig(){return{export:e=>e.items.map(({text:t})=>t).join(". "),import:e=>({items:[{text:e,checked:!1}]})}}constructor({data:e,config:t,api:i,readOnly:r}){this._elements={wrapper:null,items:[]},this.readOnly=r,this.api=i,this.data=e||{}}render(){return this._elements.wrapper=xr("div",[this.CSS.baseBlock,this.CSS.wrapper]),this.data.items||(this.data.items=[{text:"",checked:!1}]),this.data.items.forEach(e=>{const t=this.createChecklistItem(e);this._elements.wrapper.appendChild(t)}),this.readOnly?this._elements.wrapper:(this._elements.wrapper.addEventListener("keydown",e=>{const[t,i]=[13,8];switch(e.keyCode){case t:this.enterPressed(e);break;case i:this.backspace(e);break}},!1),this._elements.wrapper.addEventListener("click",e=>{this.toggleCheckbox(e)}),this._elements.wrapper)}save(){let e=this.items.map(t=>{const i=this.getItemInput(t);return{text:gp(i),checked:t.classList.contains(this.CSS.itemChecked)}});return e=e.filter(t=>t.text.trim().length!==0),{items:e}}validate(e){return!!e.items.length}toggleCheckbox(e){const t=e.target.closest(`.${this.CSS.item}`),i=t.querySelector(`.${this.CSS.checkboxContainer}`);i.contains(e.target)&&(t.classList.toggle(this.CSS.itemChecked),i.classList.add(this.CSS.noHover),i.addEventListener("mouseleave",()=>this.removeSpecialHoverBehavior(i),{once:!0}))}createChecklistItem(e={}){const t=xr("div",this.CSS.item),i=xr("span",this.CSS.checkbox),r=xr("div",this.CSS.checkboxContainer),a=xr("div",this.CSS.textField,{innerHTML:e.text?e.text:"",contentEditable:!this.readOnly});return e.checked&&t.classList.add(this.CSS.itemChecked),i.innerHTML=DT,r.appendChild(i),t.appendChild(r),t.appendChild(a),t}enterPressed(e){e.preventDefault();const t=this.items,i=document.activeElement.closest(`.${this.CSS.item}`);if(t.indexOf(i)===t.length-1&&gp(this.getItemInput(i)).length===0){const u=this.api.blocks.getCurrentBlockIndex();i.remove(),this.api.blocks.insert(),this.api.caret.setToBlock(u+1);return}const r=pp(),a=HT(r),l=this.createChecklistItem({text:a,checked:!1});this._elements.wrapper.insertBefore(l,i.nextSibling),mp(this.getItemInput(l),!0)}backspace(e){const t=e.target.closest(`.${this.CSS.item}`),i=this.items.indexOf(t),r=this.items[i-1];if(!r||window.getSelection().focusOffset!==0)return;e.preventDefault();const a=pp(),l=this.getItemInput(r),u=l.childNodes.length;l.appendChild(a),mp(l,void 0,u),t.remove()}get CSS(){return{baseBlock:this.api.styles.block,wrapper:"cdx-checklist",item:"cdx-checklist__item",itemChecked:"cdx-checklist__item--checked",noHover:"cdx-checklist__item-checkbox--no-hover",checkbox:"cdx-checklist__item-checkbox-check",textField:"cdx-checklist__item-text",checkboxContainer:"cdx-checklist__item-checkbox"}}get items(){return Array.from(this._elements.wrapper.querySelectorAll(`.${this.CSS.item}`))}removeSpecialHoverBehavior(e){e.classList.remove(this.CSS.noHover)}getItemInput(e){return e.querySelector(`.${this.CSS.textField}`)}};(function(){try{if(typeof document<"u"){var n=document.createElement("style");n.appendChild(document.createTextNode(".cdx-list{margin:0;padding-left:40px;outline:none}.cdx-list__item{padding:5.5px 0 5.5px 3px;line-height:1.6em}.cdx-list--unordered{list-style:disc}.cdx-list--ordered{list-style:decimal}.cdx-list-settings{display:flex}.cdx-list-settings .cdx-settings-button{width:50%}")),document.head.appendChild(n)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const vp='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="9" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 17H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 12H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 7H4.99002"/></svg>',zT='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="12" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.79999 14L7.79999 7.2135C7.79999 7.12872 7.7011 7.0824 7.63597 7.13668L4.79999 9.5"/></svg>';class $T{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return{icon:vp,title:"List"}}constructor({data:e,config:t,api:i,readOnly:r}){this._elements={wrapper:null},this.api=i,this.readOnly=r,this.settings=[{name:"unordered",label:this.api.i18n.t("Unordered"),icon:vp,default:t.defaultStyle==="unordered"||!1},{name:"ordered",label:this.api.i18n.t("Ordered"),icon:zT,default:t.defaultStyle==="ordered"||!0}],this._data={style:this.settings.find(a=>a.default===!0).name,items:[]},this.data=e}render(){return this._elements.wrapper=this.makeMainTag(this._data.style),this._data.items.length?this._data.items.forEach(e=>{this._elements.wrapper.appendChild(this._make("li",this.CSS.item,{innerHTML:e}))}):this._elements.wrapper.appendChild(this._make("li",this.CSS.item)),this.readOnly||this._elements.wrapper.addEventListener("keydown",e=>{const[t,i]=[13,8];switch(e.keyCode){case t:this.getOutofList(e);break;case i:this.backspace(e);break}},!1),this._elements.wrapper}save(){return this.data}static get conversionConfig(){return{export:e=>e.items.join(". "),import:e=>({items:[e],style:"unordered"})}}static get sanitize(){return{style:{},items:{br:!0}}}renderSettings(){return this.settings.map(e=>({...e,isActive:this._data.style===e.name,closeOnActivate:!0,onActivate:()=>this.toggleTune(e.name)}))}onPaste(e){const t=e.detail.data;this.data=this.pasteHandler(t)}static get pasteConfig(){return{tags:["OL","UL","LI"]}}makeMainTag(e){const t=e==="ordered"?this.CSS.wrapperOrdered:this.CSS.wrapperUnordered,i=e==="ordered"?"ol":"ul";return this._make(i,[this.CSS.baseBlock,this.CSS.wrapper,t],{contentEditable:!this.readOnly})}toggleTune(e){const t=this.makeMainTag(e);for(;this._elements.wrapper.hasChildNodes();)t.appendChild(this._elements.wrapper.firstChild);this._elements.wrapper.replaceWith(t),this._elements.wrapper=t,this._data.style=e}get CSS(){return{baseBlock:this.api.styles.block,wrapper:"cdx-list",wrapperOrdered:"cdx-list--ordered",wrapperUnordered:"cdx-list--unordered",item:"cdx-list__item"}}set data(e){e||(e={}),this._data.style=e.style||this.settings.find(i=>i.default===!0).name,this._data.items=e.items||[];const t=this._elements.wrapper;t&&t.parentNode.replaceChild(this.render(),t)}get data(){this._data.items=[];const e=this._elements.wrapper.querySelectorAll(`.${this.CSS.item}`);for(let t=0;t<e.length;t++)e[t].innerHTML.replace("<br>"," ").trim()&&this._data.items.push(e[t].innerHTML);return this._data}_make(e,t=null,i={}){const r=document.createElement(e);Array.isArray(t)?r.classList.add(...t):t&&r.classList.add(t);for(const a in i)r[a]=i[a];return r}get currentItem(){let e=window.getSelection().anchorNode;return e.nodeType!==Node.ELEMENT_NODE&&(e=e.parentNode),e.closest(`.${this.CSS.item}`)}getOutofList(e){const t=this._elements.wrapper.querySelectorAll("."+this.CSS.item);if(t.length<2)return;const i=t[t.length-1],r=this.currentItem;r===i&&!i.textContent.trim().length&&(r.parentElement.removeChild(r),this.api.blocks.insert(),this.api.caret.setToBlock(this.api.blocks.getCurrentBlockIndex()),e.preventDefault(),e.stopPropagation())}backspace(e){const t=this._elements.wrapper.querySelectorAll("."+this.CSS.item),i=t[0];i&&t.length<2&&!i.innerHTML.replace("<br>"," ").trim()&&e.preventDefault()}selectItem(e){e.preventDefault();const t=window.getSelection(),i=t.anchorNode.parentNode,r=i.closest("."+this.CSS.item),a=new Range;a.selectNodeContents(r),t.removeAllRanges(),t.addRange(a)}pasteHandler(e){const{tagName:t}=e;let i;switch(t){case"OL":i="ordered";break;case"UL":case"LI":i="unordered"}const r={style:i,items:[]};if(t==="LI")r.items=[e.innerHTML];else{const a=Array.from(e.querySelectorAll("LI"));r.items=a.map(l=>l.innerHTML).filter(l=>!!l.trim())}return r}}(function(){try{if(typeof document<"u"){var n=document.createElement("style");n.appendChild(document.createTextNode('.embed-tool--loading .embed-tool__caption{display:none}.embed-tool--loading .embed-tool__preloader{display:block}.embed-tool--loading .embed-tool__content{display:none}.embed-tool__preloader{display:none;position:relative;height:200px;box-sizing:border-box;border-radius:5px;border:1px solid #e6e9eb}.embed-tool__preloader:before{content:"";position:absolute;z-index:3;left:50%;top:50%;width:30px;height:30px;margin-top:-25px;margin-left:-15px;border-radius:50%;border:2px solid #cdd1e0;border-top-color:#388ae5;box-sizing:border-box;animation:embed-preloader-spin 2s infinite linear}.embed-tool__url{position:absolute;bottom:20px;left:50%;transform:translate(-50%);max-width:250px;color:#7b7e89;font-size:11px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.embed-tool__content{width:100%}.embed-tool__caption{margin-top:7px}.embed-tool__caption[contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.embed-tool__caption[contentEditable=true][data-placeholder]:empty:before{opacity:1}.embed-tool__caption[contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}@keyframes embed-preloader-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}')),document.head.appendChild(n)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const jT={vimeo:{regex:/(?:http[s]?:\/\/)?(?:www.)?(?:player.)?vimeo\.co(?:.+\/([^\/]\d+)(?:#t=[\d]+)?s?$)/,embedUrl:"https://player.vimeo.com/video/<%= remote_id %>?title=0&byline=0",html:'<iframe style="width:100%;" height="320" frameborder="0"></iframe>',height:320,width:580},youtube:{regex:/(?:https?:\/\/)?(?:www\.)?(?:(?:youtu\.be\/)|(?:youtube\.com)\/(?:v\/|u\/\w\/|embed\/|watch))(?:(?:\?v=)?([^#&?=]*))?((?:[?&]\w*=\w*)*)/,embedUrl:"https://www.youtube.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580,id:([n,e])=>{if(!e&&n)return n;const t={start:"start",end:"end",t:"start",time_continue:"start",list:"list"};let i=e.slice(1).split("&").map(r=>{const[a,l]=r.split("=");return!n&&a==="v"?(n=l,null):!t[a]||l==="LL"||l.startsWith("RDMM")||l.startsWith("FL")?null:`${t[a]}=${l}`}).filter(r=>!!r);return n+"?"+i.join("&")}},coub:{regex:/https?:\/\/coub\.com\/view\/([^\/\?\&]+)/,embedUrl:"https://coub.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},vine:{regex:/https?:\/\/vine\.co\/v\/([^\/\?\&]+)/,embedUrl:"https://vine.co/v/<%= remote_id %>/embed/simple/",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},imgur:{regex:/https?:\/\/(?:i\.)?imgur\.com.*\/([a-zA-Z0-9]+)(?:\.gifv)?/,embedUrl:"http://imgur.com/<%= remote_id %>/embed",html:'<iframe allowfullscreen="true" scrolling="no" id="imgur-embed-iframe-pub-<%= remote_id %>" class="imgur-embed-iframe-pub" style="height: 500px; width: 100%; border: 1px solid #000"></iframe>',height:500,width:540},gfycat:{regex:/https?:\/\/gfycat\.com(?:\/detail)?\/([a-zA-Z]+)/,embedUrl:"https://gfycat.com/ifr/<%= remote_id %>",html:`<iframe frameborder='0' scrolling='no' style="width:100%;" height='436' allowfullscreen ></iframe>`,height:436,width:580},"twitch-channel":{regex:/https?:\/\/www\.twitch\.tv\/([^\/\?\&]*)\/?$/,embedUrl:"https://player.twitch.tv/?channel=<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"twitch-video":{regex:/https?:\/\/www\.twitch\.tv\/(?:[^\/\?\&]*\/v|videos)\/([0-9]*)/,embedUrl:"https://player.twitch.tv/?video=v<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"yandex-music-album":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/?$/,embedUrl:"https://music.yandex.ru/iframe/#album/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" style="width:100%;" height="400"></iframe>',height:400,width:540},"yandex-music-track":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/track\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#track/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:100px;" style="width:100%;" height="100"></iframe>',height:100,width:540,id:n=>n.join("/")},"yandex-music-playlist":{regex:/https?:\/\/music\.yandex\.ru\/users\/([^\/\?\&]*)\/playlists\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#playlist/<%= remote_id %>/show/cover/description/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" width="540" height="400"></iframe>',height:400,width:540,id:n=>n.join("/")},codepen:{regex:/https?:\/\/codepen\.io\/([^\/\?\&]*)\/pen\/([^\/\?\&]*)/,embedUrl:"https://codepen.io/<%= remote_id %>?height=300&theme-id=0&default-tab=css,result&embed-version=2",html:"<iframe height='300' scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'></iframe>",height:300,width:600,id:n=>n.join("/embed/")},instagram:{regex:/https?:\/\/www\.instagram\.com\/p\/([^\/\?\&]+)\/?.*/,embedUrl:"https://www.instagram.com/p/<%= remote_id %>/embed",html:'<iframe width="400" height="505" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:505,width:400},twitter:{regex:/^https?:\/\/(www\.)?(?:twitter\.com|x\.com)\/.+\/status\/(\d+)/,embedUrl:"https://platform.twitter.com/embed/Tweet.html?id=<%= remote_id %>",html:'<iframe width="600" height="600" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600,id:n=>n[1]},pinterest:{regex:/https?:\/\/([^\/\?\&]*).pinterest.com\/pin\/([^\/\?\&]*)\/?$/,embedUrl:"https://assets.pinterest.com/ext/embed.html?id=<%= remote_id %>",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 400px; max-height: 1000px;'></iframe>",id:n=>n[1]},facebook:{regex:/https?:\/\/www.facebook.com\/([^\/\?\&]*)\/(.*)/,embedUrl:"https://www.facebook.com/plugins/post.php?href=https://www.facebook.com/<%= remote_id %>&width=500",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 500px; max-height: 1000px;'></iframe>",id:n=>n.join("/")},aparat:{regex:/(?:http[s]?:\/\/)?(?:www.)?aparat\.com\/v\/([^\/\?\&]+)\/?/,embedUrl:"https://www.aparat.com/video/video/embed/videohash/<%= remote_id %>/vt/frame",html:'<iframe width="600" height="300" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600},miro:{regex:/https:\/\/miro.com\/\S+(\S{12})\/(\S+)?/,embedUrl:"https://miro.com/app/live-embed/<%= remote_id %>",html:'<iframe width="700" height="500" style="margin: 0 auto;" allowFullScreen frameBorder="0" scrolling="no"></iframe>'},github:{regex:/https?:\/\/gist.github.com\/([^\/\?\&]*)\/([^\/\?\&]*)/,embedUrl:'data:text/html;charset=utf-8,<head><base target="_blank" /></head><body><script src="https://gist.github.com/<%= remote_id %>" ><\/script></body>',html:'<iframe width="100%" height="350" frameborder="0" style="margin: 0 auto;"></iframe>',height:300,width:600,id:n=>`${n.join("/")}.js`}};function zc(n,e,t){var i,r,a,l,u;e==null&&(e=100);function d(){var g=Date.now()-l;g<e&&g>=0?i=setTimeout(d,e-g):(i=null,t||(u=n.apply(a,r),a=r=null))}var h=function(){a=this,r=arguments,l=Date.now();var g=t&&!i;return i||(i=setTimeout(d,e)),g&&(u=n.apply(a,r),a=r=null),u};return h.clear=function(){i&&(clearTimeout(i),i=null)},h.flush=function(){i&&(u=n.apply(a,r),a=r=null,clearTimeout(i),i=null)},h}zc.debounce=zc;var WT=zc;let qT=class si{constructor({data:e,api:t,readOnly:i}){this.api=t,this._data={},this.element=null,this.readOnly=i,this.data=e}set data(e){var t;if(!(e instanceof Object))throw Error("Embed Tool data should be object");const{service:i,source:r,embed:a,width:l,height:u,caption:d=""}=e;this._data={service:i||this.data.service,source:r||this.data.source,embed:a||this.data.embed,width:l||this.data.width,height:u||this.data.height,caption:d||this.data.caption||""};const h=this.element;h&&((t=h.parentNode)==null||t.replaceChild(this.render(),h))}get data(){if(this.element){const e=this.element.querySelector(`.${this.api.styles.input}`);this._data.caption=e?e.innerHTML:""}return this._data}get CSS(){return{baseClass:this.api.styles.block,input:this.api.styles.input,container:"embed-tool",containerLoading:"embed-tool--loading",preloader:"embed-tool__preloader",caption:"embed-tool__caption",url:"embed-tool__url",content:"embed-tool__content"}}render(){if(!this.data.service){const u=document.createElement("div");return this.element=u,u}const{html:e}=si.services[this.data.service],t=document.createElement("div"),i=document.createElement("div"),r=document.createElement("template"),a=this.createPreloader();t.classList.add(this.CSS.baseClass,this.CSS.container,this.CSS.containerLoading),i.classList.add(this.CSS.input,this.CSS.caption),t.appendChild(a),i.contentEditable=(!this.readOnly).toString(),i.dataset.placeholder=this.api.i18n.t("Enter a caption"),i.innerHTML=this.data.caption||"",r.innerHTML=e,r.content.firstChild.setAttribute("src",this.data.embed),r.content.firstChild.classList.add(this.CSS.content);const l=this.embedIsReady(t);return r.content.firstChild&&t.appendChild(r.content.firstChild),t.appendChild(i),l.then(()=>{t.classList.remove(this.CSS.containerLoading)}),this.element=t,t}createPreloader(){const e=document.createElement("preloader"),t=document.createElement("div");return t.textContent=this.data.source,e.classList.add(this.CSS.preloader),t.classList.add(this.CSS.url),e.appendChild(t),e}save(){return this.data}onPaste(e){var t;const{key:i,data:r}=e.detail,{regex:a,embedUrl:l,width:u,height:d,id:h=m=>m.shift()||""}=si.services[i],g=(t=a.exec(r))==null?void 0:t.slice(1),p=g?l.replace(/<%= remote_id %>/g,h(g)):"";this.data={service:i,source:r,embed:p,width:u,height:d}}static prepare({config:e={}}){const{services:t={}}=e;let i=Object.entries(jT);const r=Object.entries(t).filter(([l,u])=>typeof u=="boolean"&&u===!0).map(([l])=>l),a=Object.entries(t).filter(([l,u])=>typeof u=="object").filter(([l,u])=>si.checkServiceConfig(u)).map(([l,u])=>{const{regex:d,embedUrl:h,html:g,height:p,width:m,id:k}=u;return[l,{regex:d,embedUrl:h,html:g,height:p,width:m,id:k}]});r.length&&(i=i.filter(([l])=>r.includes(l))),i=i.concat(a),si.services=i.reduce((l,[u,d])=>u in l?(l[u]=Object.assign({},l[u],d),l):(l[u]=d,l),{}),si.patterns=i.reduce((l,[u,d])=>(d&&typeof d!="boolean"&&(l[u]=d.regex),l),{})}static checkServiceConfig(e){const{regex:t,embedUrl:i,html:r,height:a,width:l,id:u}=e;let d=!!(t&&t instanceof RegExp)&&!!(i&&typeof i=="string")&&!!(r&&typeof r=="string");return d=d&&(u!==void 0?u instanceof Function:!0),d=d&&(a!==void 0?Number.isFinite(a):!0),d=d&&(l!==void 0?Number.isFinite(l):!0),d}static get pasteConfig(){return{patterns:si.patterns}}static get isReadOnlySupported(){return!0}embedIsReady(e){let t;return new Promise((i,r)=>{t=new MutationObserver(WT.debounce(i,450)),t.observe(e,{childList:!0,subtree:!0})}).then(()=>{t.disconnect()})}};(function(){var n;try{if(typeof document<"u"){var e=document.createElement("style");e.nonce=(n=document.head.querySelector("meta[property=csp-nonce]"))==null?void 0:n.content,e.appendChild(document.createTextNode('.tc-wrap{--color-background:#f9f9fb;--color-text-secondary:#7b7e89;--color-border:#e8e8eb;--cell-size:34px;--toolbox-icon-size:18px;--toolbox-padding:6px;--toolbox-aiming-field-size:calc(var(--toolbox-icon-size) + var(--toolbox-padding)*2);border-left:0;position:relative;height:100%;width:100%;margin-top:var(--toolbox-icon-size);box-sizing:border-box;display:grid;grid-template-columns:calc(100% - var(--cell-size)) var(--cell-size)}.tc-wrap--readonly{grid-template-columns:100% var(--cell-size)}.tc-wrap svg{vertical-align:top}@media print{.tc-wrap{border-left-color:var(--color-border);border-left-style:solid;border-left-width:1px;grid-template-columns:100% var(--cell-size)}}@media print{.tc-wrap .tc-row:after{display:none}}.tc-table{position:relative;width:100%;height:100%;display:grid;font-size:14px;border-top:1px solid var(--color-border);line-height:1.4}.tc-table:after{width:calc(var(--cell-size));height:100%;left:calc(var(--cell-size)*-1);top:0}.tc-table:after,.tc-table:before{position:absolute;content:""}.tc-table:before{width:100%;height:var(--toolbox-aiming-field-size);top:calc(var(--toolbox-aiming-field-size)*-1);left:0}.tc-table--heading .tc-row:first-child{font-weight:600;border-bottom:2px solid var(--color-border)}.tc-table--heading .tc-row:first-child [contenteditable]:empty:before{content:attr(heading);color:var(--color-text-secondary)}.tc-table--heading .tc-row:first-child:after{bottom:-2px;border-bottom:2px solid var(--color-border)}.tc-add-column,.tc-add-row{display:flex;color:var(--color-text-secondary)}@media print{.tc-add{display:none}}.tc-add-column{padding:4px 0;justify-content:center;border-top:1px solid var(--color-border)}@media print{.tc-add-column{display:none}}.tc-add-row{height:var(--cell-size);align-items:center;padding-left:4px;position:relative}.tc-add-row:before{content:"";position:absolute;right:calc(var(--cell-size)*-1);width:var(--cell-size);height:100%}@media print{.tc-add-row{display:none}}.tc-add-column,.tc-add-row{transition:0s;cursor:pointer;will-change:background-color}.tc-add-column:hover,.tc-add-row:hover{transition:background-color .1s ease;background-color:var(--color-background)}.tc-add-row{margin-top:1px}.tc-add-row:hover:before{transition:.1s;background-color:var(--color-background)}.tc-row{display:grid;grid-template-columns:repeat(auto-fit,minmax(10px,1fr));position:relative;border-bottom:1px solid var(--color-border)}.tc-row:after{content:"";pointer-events:none;position:absolute;width:var(--cell-size);height:100%;bottom:-1px;right:calc(var(--cell-size)*-1);border-bottom:1px solid var(--color-border)}.tc-row--selected{background:var(--color-background)}.tc-row--selected:after{background:var(--color-background)}.tc-cell{border-right:1px solid var(--color-border);padding:6px 12px;overflow:hidden;outline:none;line-break:normal}.tc-cell--selected{background:var(--color-background)}.tc-wrap--readonly .tc-row:after{display:none}.tc-toolbox{--toolbox-padding:6px;--popover-margin:30px;--toggler-click-zone-size:30px;--toggler-dots-color:#7b7e89;--toggler-dots-color-hovered:#1d202b;position:absolute;cursor:pointer;z-index:1;opacity:0;transition:opacity .1s;will-change:left,opacity}.tc-toolbox--column{top:calc(var(--toggler-click-zone-size)*-1);transform:translate(calc(var(--toggler-click-zone-size)*-1/2));will-change:left,opacity}.tc-toolbox--row{left:calc(var(--popover-margin)*-1);transform:translateY(calc(var(--toggler-click-zone-size)*-1/2));margin-top:-1px;will-change:top,opacity}.tc-toolbox--showed{opacity:1}.tc-toolbox .tc-popover{position:absolute;top:0;left:var(--popover-margin)}.tc-toolbox__toggler{display:flex;align-items:center;justify-content:center;width:var(--toggler-click-zone-size);height:var(--toggler-click-zone-size);color:var(--toggler-dots-color);opacity:0;transition:opacity .15s ease;will-change:opacity}.tc-toolbox__toggler:hover{color:var(--toggler-dots-color-hovered)}.tc-toolbox__toggler svg{fill:currentColor}.tc-wrap:hover .tc-toolbox__toggler{opacity:1}.tc-settings .cdx-settings-button{width:50%;margin:0}.tc-popover{--color-border:#eaeaea;--color-background:#fff;--color-background-hover:rgba(232,232,235,.49);--color-background-confirm:#e24a4a;--color-background-confirm-hover:#d54040;--color-text-confirm:#fff;background:var(--color-background);border:1px solid var(--color-border);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;padding:6px;display:none;will-change:opacity,transform}.tc-popover--opened{display:block;animation:menuShowing .1s cubic-bezier(.215,.61,.355,1) forwards}.tc-popover__item{display:flex;align-items:center;padding:2px 14px 2px 2px;border-radius:5px;cursor:pointer;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;user-select:none}.tc-popover__item:hover{background:var(--color-background-hover)}.tc-popover__item:not(:last-of-type){margin-bottom:2px}.tc-popover__item-icon{display:inline-flex;width:26px;height:26px;align-items:center;justify-content:center;background:var(--color-background);border-radius:5px;border:1px solid var(--color-border);margin-right:8px}.tc-popover__item-label{line-height:22px;font-size:14px;font-weight:500}.tc-popover__item--confirm{background:var(--color-background-confirm);color:var(--color-text-confirm)}.tc-popover__item--confirm:hover{background-color:var(--color-background-confirm-hover)}.tc-popover__item--confirm .tc-popover__item-icon{background:var(--color-background-confirm);border-color:#0000001a}.tc-popover__item--confirm .tc-popover__item-icon svg{transition:transform .2s ease-in;transform:rotate(90deg) scale(1.2)}.tc-popover__item--hidden{display:none}@keyframes menuShowing{0%{opacity:0;transform:translateY(-8px) scale(.9)}70%{opacity:1;transform:translateY(2px)}to{transform:translateY(0)}}')),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();function fn(n,e,t={}){const i=document.createElement(n);Array.isArray(e)?i.classList.add(...e):e&&i.classList.add(e);for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r]);return i}function bp(n){const e=n.getBoundingClientRect();return{y1:Math.floor(e.top+window.pageYOffset),x1:Math.floor(e.left+window.pageXOffset),x2:Math.floor(e.right+window.pageXOffset),y2:Math.floor(e.bottom+window.pageYOffset)}}function yp(n,e){const t=bp(n),i=bp(e);return{fromTopBorder:i.y1-t.y1,fromLeftBorder:i.x1-t.x1,fromRightBorder:t.x2-i.x2,fromBottomBorder:t.y2-i.y2}}function VT(n,e){const t=n.getBoundingClientRect(),{width:i,height:r,x:a,y:l}=t,{clientX:u,clientY:d}=e;return{width:i,height:r,x:u-a,y:d-l}}function wp(n,e){return e.parentNode.insertBefore(n,e)}function kp(n,e=!0){const t=document.createRange(),i=window.getSelection();t.selectNodeContents(n),t.collapse(e),i.removeAllRanges(),i.addRange(t)}class en{constructor({items:e}){this.items=e,this.wrapper=void 0,this.itemEls=[]}static get CSS(){return{popover:"tc-popover",popoverOpened:"tc-popover--opened",item:"tc-popover__item",itemHidden:"tc-popover__item--hidden",itemConfirmState:"tc-popover__item--confirm",itemIcon:"tc-popover__item-icon",itemLabel:"tc-popover__item-label"}}render(){return this.wrapper=fn("div",en.CSS.popover),this.items.forEach((e,t)=>{const i=fn("div",en.CSS.item),r=fn("div",en.CSS.itemIcon,{innerHTML:e.icon}),a=fn("div",en.CSS.itemLabel,{textContent:e.label});i.dataset.index=t,i.appendChild(r),i.appendChild(a),this.wrapper.appendChild(i),this.itemEls.push(i)}),this.wrapper.addEventListener("click",e=>{this.popoverClicked(e)}),this.wrapper}popoverClicked(e){const t=e.target.closest(`.${en.CSS.item}`);if(!t)return;const i=t.dataset.index,r=this.items[i];if(r.confirmationRequired&&!this.hasConfirmationState(t)){this.setConfirmationState(t);return}r.onClick()}setConfirmationState(e){e.classList.add(en.CSS.itemConfirmState)}clearConfirmationState(e){e.classList.remove(en.CSS.itemConfirmState)}hasConfirmationState(e){return e.classList.contains(en.CSS.itemConfirmState)}get opened(){return this.wrapper.classList.contains(en.CSS.popoverOpened)}open(){this.items.forEach((e,t)=>{typeof e.hideIf=="function"&&this.itemEls[t].classList.toggle(en.CSS.itemHidden,e.hideIf())}),this.wrapper.classList.add(en.CSS.popoverOpened)}close(){this.wrapper.classList.remove(en.CSS.popoverOpened),this.itemEls.forEach(e=>{this.clearConfirmationState(e)})}}const xp='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',KT='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.8833 9.16666L18.2167 12.5M18.2167 12.5L14.8833 15.8333M18.2167 12.5H10.05C9.16594 12.5 8.31809 12.1488 7.69297 11.5237C7.06785 10.8986 6.71666 10.0507 6.71666 9.16666"/></svg>',GT='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.9167 14.9167L11.5833 18.25M11.5833 18.25L8.25 14.9167M11.5833 18.25L11.5833 10.0833C11.5833 9.19928 11.9345 8.35143 12.5596 7.72631C13.1848 7.10119 14.0326 6.75 14.9167 6.75"/></svg>',YT='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.13333 14.9167L12.4667 18.25M12.4667 18.25L15.8 14.9167M12.4667 18.25L12.4667 10.0833C12.4667 9.19928 12.1155 8.35143 11.4904 7.72631C10.8652 7.10119 10.0174 6.75 9.13333 6.75"/></svg>',XT='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.8833 15.8333L18.2167 12.5M18.2167 12.5L14.8833 9.16667M18.2167 12.5L10.05 12.5C9.16595 12.5 8.31811 12.8512 7.69299 13.4763C7.06787 14.1014 6.71667 14.9493 6.71667 15.8333"/></svg>',ZT='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.41 9.66H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 9.66H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.31 14.36H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 14.36H14.59"/></svg>',_p='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>',JT='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',QT='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M10 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M14 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><path stroke="currentColor" stroke-width="2" d="M5 14H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',eB='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M10 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>';class Ho{constructor({api:e,items:t,onOpen:i,onClose:r,cssModifier:a=""}){this.api=e,this.items=t,this.onOpen=i,this.onClose=r,this.cssModifier=a,this.popover=null,this.wrapper=this.createToolbox()}static get CSS(){return{toolbox:"tc-toolbox",toolboxShowed:"tc-toolbox--showed",toggler:"tc-toolbox__toggler"}}get element(){return this.wrapper}createToolbox(){const e=fn("div",[Ho.CSS.toolbox,this.cssModifier?`${Ho.CSS.toolbox}--${this.cssModifier}`:""]);e.dataset.mutationFree="true";const t=this.createPopover(),i=this.createToggler();return e.appendChild(i),e.appendChild(t),e}createToggler(){const e=fn("div",Ho.CSS.toggler,{innerHTML:ZT});return e.addEventListener("click",()=>{this.togglerClicked()}),e}createPopover(){return this.popover=new en({items:this.items}),this.popover.render()}togglerClicked(){this.popover.opened?(this.popover.close(),this.onClose()):(this.popover.open(),this.onOpen())}show(e){const t=e();Object.entries(t).forEach(([i,r])=>{this.wrapper.style[i]=r}),this.wrapper.classList.add(Ho.CSS.toolboxShowed)}hide(){this.popover.close(),this.wrapper.classList.remove(Ho.CSS.toolboxShowed)}}function tB(n,e){let t=0;return function(...i){const r=new Date().getTime();if(!(r-t<n))return t=r,e(...i)}}const rt={wrapper:"tc-wrap",wrapperReadOnly:"tc-wrap--readonly",table:"tc-table",row:"tc-row",withHeadings:"tc-table--heading",rowSelected:"tc-row--selected",cell:"tc-cell",cellSelected:"tc-cell--selected",addRow:"tc-add-row",addColumn:"tc-add-column"};class nB{constructor(e,t,i,r){this.readOnly=e,this.api=t,this.data=i,this.config=r,this.wrapper=null,this.table=null,this.toolboxColumn=this.createColumnToolbox(),this.toolboxRow=this.createRowToolbox(),this.createTableWrapper(),this.hoveredRow=0,this.hoveredColumn=0,this.selectedRow=0,this.selectedColumn=0,this.tunes={withHeadings:!1},this.resize(),this.fill(),this.focusedCell={row:0,column:0},this.documentClicked=a=>{const l=a.target.closest(`.${rt.table}`)!==null,u=a.target.closest(`.${rt.wrapper}`)===null;(l||u)&&this.hideToolboxes();const d=a.target.closest(`.${rt.addRow}`),h=a.target.closest(`.${rt.addColumn}`);d&&d.parentNode===this.wrapper?(this.addRow(void 0,!0),this.hideToolboxes()):h&&h.parentNode===this.wrapper&&(this.addColumn(void 0,!0),this.hideToolboxes())},this.readOnly||this.bindEvents()}getWrapper(){return this.wrapper}bindEvents(){document.addEventListener("click",this.documentClicked),this.table.addEventListener("mousemove",tB(150,e=>this.onMouseMoveInTable(e)),{passive:!0}),this.table.onkeypress=e=>this.onKeyPressListener(e),this.table.addEventListener("keydown",e=>this.onKeyDownListener(e)),this.table.addEventListener("focusin",e=>this.focusInTableListener(e))}createColumnToolbox(){return new Ho({api:this.api,cssModifier:"column",items:[{label:this.api.i18n.t("Add column to left"),icon:GT,onClick:()=>{this.addColumn(this.selectedColumn,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Add column to right"),icon:YT,onClick:()=>{this.addColumn(this.selectedColumn+1,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Delete column"),icon:xp,hideIf:()=>this.numberOfColumns===1,confirmationRequired:!0,onClick:()=>{this.deleteColumn(this.selectedColumn),this.hideToolboxes()}}],onOpen:()=>{this.selectColumn(this.hoveredColumn),this.hideRowToolbox()},onClose:()=>{this.unselectColumn()}})}createRowToolbox(){return new Ho({api:this.api,cssModifier:"row",items:[{label:this.api.i18n.t("Add row above"),icon:XT,onClick:()=>{this.addRow(this.selectedRow,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Add row below"),icon:KT,onClick:()=>{this.addRow(this.selectedRow+1,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Delete row"),icon:xp,hideIf:()=>this.numberOfRows===1,confirmationRequired:!0,onClick:()=>{this.deleteRow(this.selectedRow),this.hideToolboxes()}}],onOpen:()=>{this.selectRow(this.hoveredRow),this.hideColumnToolbox()},onClose:()=>{this.unselectRow()}})}moveCursorToNextRow(){this.focusedCell.row!==this.numberOfRows?(this.focusedCell.row+=1,this.focusCell(this.focusedCell)):(this.addRow(),this.focusedCell.row+=1,this.focusCell(this.focusedCell),this.updateToolboxesPosition(0,0))}getCell(e,t){return this.table.querySelectorAll(`.${rt.row}:nth-child(${e}) .${rt.cell}`)[t-1]}getRow(e){return this.table.querySelector(`.${rt.row}:nth-child(${e})`)}getRowByCell(e){return e.parentElement}getRowFirstCell(e){return e.querySelector(`.${rt.cell}:first-child`)}setCellContent(e,t,i){const r=this.getCell(e,t);r.innerHTML=i}addColumn(e=-1,t=!1){let i=this.numberOfColumns;for(let r=1;r<=this.numberOfRows;r++){let a;const l=this.createCell();if(e>0&&e<=i?(a=this.getCell(r,e),wp(l,a)):a=this.getRow(r).appendChild(l),r===1){const u=this.getCell(r,e>0?e:i+1);u&&t&&kp(u)}}this.addHeadingAttrToFirstRow()}addRow(e=-1,t=!1){let i,r=fn("div",rt.row);this.tunes.withHeadings&&this.removeHeadingAttrFromFirstRow();let a=this.numberOfColumns;if(e>0&&e<=this.numberOfRows){let u=this.getRow(e);i=wp(r,u)}else i=this.table.appendChild(r);this.fillRow(i,a),this.tunes.withHeadings&&this.addHeadingAttrToFirstRow();const l=this.getRowFirstCell(i);return l&&t&&kp(l),i}deleteColumn(e){for(let t=1;t<=this.numberOfRows;t++){const i=this.getCell(t,e);if(!i)return;i.remove()}}deleteRow(e){this.getRow(e).remove(),this.addHeadingAttrToFirstRow()}createTableWrapper(){if(this.wrapper=fn("div",rt.wrapper),this.table=fn("div",rt.table),this.readOnly&&this.wrapper.classList.add(rt.wrapperReadOnly),this.wrapper.appendChild(this.toolboxRow.element),this.wrapper.appendChild(this.toolboxColumn.element),this.wrapper.appendChild(this.table),!this.readOnly){const e=fn("div",rt.addColumn,{innerHTML:_p}),t=fn("div",rt.addRow,{innerHTML:_p});this.wrapper.appendChild(e),this.wrapper.appendChild(t)}}computeInitialSize(){const e=this.data&&this.data.content,t=Array.isArray(e),i=t?e.length:!1,r=t?e.length:void 0,a=i?e[0].length:void 0,l=Number.parseInt(this.config&&this.config.rows),u=Number.parseInt(this.config&&this.config.cols),d=!isNaN(l)&&l>0?l:void 0,h=!isNaN(u)&&u>0?u:void 0;return{rows:r||d||2,cols:a||h||2}}resize(){const{rows:e,cols:t}=this.computeInitialSize();for(let i=0;i<e;i++)this.addRow();for(let i=0;i<t;i++)this.addColumn()}fill(){const e=this.data;if(e&&e.content)for(let t=0;t<e.content.length;t++)for(let i=0;i<e.content[t].length;i++)this.setCellContent(t+1,i+1,e.content[t][i])}fillRow(e,t){for(let i=1;i<=t;i++){const r=this.createCell();e.appendChild(r)}}createCell(){return fn("div",rt.cell,{contentEditable:!this.readOnly})}get numberOfRows(){return this.table.childElementCount}get numberOfColumns(){return this.numberOfRows?this.table.querySelectorAll(`.${rt.row}:first-child .${rt.cell}`).length:0}get isColumnMenuShowing(){return this.selectedColumn!==0}get isRowMenuShowing(){return this.selectedRow!==0}onMouseMoveInTable(e){const{row:t,column:i}=this.getHoveredCell(e);this.hoveredColumn=i,this.hoveredRow=t,this.updateToolboxesPosition()}onKeyPressListener(e){if(e.key==="Enter"){if(e.shiftKey)return!0;this.moveCursorToNextRow()}return e.key!=="Enter"}onKeyDownListener(e){e.key==="Tab"&&e.stopPropagation()}focusInTableListener(e){const t=e.target,i=this.getRowByCell(t);this.focusedCell={row:Array.from(this.table.querySelectorAll(`.${rt.row}`)).indexOf(i)+1,column:Array.from(i.querySelectorAll(`.${rt.cell}`)).indexOf(t)+1}}hideToolboxes(){this.hideRowToolbox(),this.hideColumnToolbox(),this.updateToolboxesPosition()}hideRowToolbox(){this.unselectRow(),this.toolboxRow.hide()}hideColumnToolbox(){this.unselectColumn(),this.toolboxColumn.hide()}focusCell(){this.focusedCellElem.focus()}get focusedCellElem(){const{row:e,column:t}=this.focusedCell;return this.getCell(e,t)}updateToolboxesPosition(e=this.hoveredRow,t=this.hoveredColumn){this.isColumnMenuShowing||t>0&&t<=this.numberOfColumns&&this.toolboxColumn.show(()=>({left:`calc((100% - var(--cell-size)) / (${this.numberOfColumns} * 2) * (1 + (${t} - 1) * 2))`})),this.isRowMenuShowing||e>0&&e<=this.numberOfRows&&this.toolboxRow.show(()=>{const i=this.getRow(e),{fromTopBorder:r}=yp(this.table,i),{height:a}=i.getBoundingClientRect();return{top:`${Math.ceil(r+a/2)}px`}})}setHeadingsSetting(e){this.tunes.withHeadings=e,e?(this.table.classList.add(rt.withHeadings),this.addHeadingAttrToFirstRow()):(this.table.classList.remove(rt.withHeadings),this.removeHeadingAttrFromFirstRow())}addHeadingAttrToFirstRow(){for(let e=1;e<=this.numberOfColumns;e++){let t=this.getCell(1,e);t&&t.setAttribute("heading",this.api.i18n.t("Heading"))}}removeHeadingAttrFromFirstRow(){for(let e=1;e<=this.numberOfColumns;e++){let t=this.getCell(1,e);t&&t.removeAttribute("heading")}}selectRow(e){const t=this.getRow(e);t&&(this.selectedRow=e,t.classList.add(rt.rowSelected))}unselectRow(){if(this.selectedRow<=0)return;const e=this.table.querySelector(`.${rt.rowSelected}`);e&&e.classList.remove(rt.rowSelected),this.selectedRow=0}selectColumn(e){for(let t=1;t<=this.numberOfRows;t++){const i=this.getCell(t,e);i&&i.classList.add(rt.cellSelected)}this.selectedColumn=e}unselectColumn(){if(this.selectedColumn<=0)return;let e=this.table.querySelectorAll(`.${rt.cellSelected}`);Array.from(e).forEach(t=>{t.classList.remove(rt.cellSelected)}),this.selectedColumn=0}getHoveredCell(e){let t=this.hoveredRow,i=this.hoveredColumn;const{width:r,height:a,x:l,y:u}=VT(this.table,e);return l>=0&&(i=this.binSearch(this.numberOfColumns,d=>this.getCell(1,d),({fromLeftBorder:d})=>l<d,({fromRightBorder:d})=>l>r-d)),u>=0&&(t=this.binSearch(this.numberOfRows,d=>this.getCell(d,1),({fromTopBorder:d})=>u<d,({fromBottomBorder:d})=>u>a-d)),{row:t||this.hoveredRow,column:i||this.hoveredColumn}}binSearch(e,t,i,r){let a=0,l=e+1,u=0,d;for(;a<l-1&&u<10;){d=Math.ceil((a+l)/2);const h=t(d),g=yp(this.table,h);if(i(g))l=d;else if(r(g))a=d;else break;u++}return d}getData(){const e=[];for(let t=1;t<=this.numberOfRows;t++){const i=this.table.querySelector(`.${rt.row}:nth-child(${t})`),r=Array.from(i.querySelectorAll(`.${rt.cell}`));r.every(a=>!a.textContent.trim())||e.push(r.map(a=>a.innerHTML))}return e}destroy(){document.removeEventListener("click",this.documentClicked)}}class oB{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}constructor({data:e,config:t,api:i,readOnly:r}){this.api=i,this.readOnly=r,this.config=t,this.data={withHeadings:this.getConfig("withHeadings",!1,e),content:e&&e.content?e.content:[]},this.table=null}static get toolbox(){return{icon:eB,title:"Table"}}render(){return this.table=new nB(this.readOnly,this.api,this.data,this.config),this.container=fn("div",this.api.styles.block),this.container.appendChild(this.table.getWrapper()),this.table.setHeadingsSetting(this.data.withHeadings),this.container}renderSettings(){return[{label:this.api.i18n.t("With headings"),icon:JT,isActive:this.data.withHeadings,closeOnActivate:!0,toggle:!0,onActivate:()=>{this.data.withHeadings=!0,this.table.setHeadingsSetting(this.data.withHeadings)}},{label:this.api.i18n.t("Without headings"),icon:QT,isActive:!this.data.withHeadings,closeOnActivate:!0,toggle:!0,onActivate:()=>{this.data.withHeadings=!1,this.table.setHeadingsSetting(this.data.withHeadings)}}]}save(){const e=this.table.getData();return{withHeadings:this.data.withHeadings,content:e}}destroy(){this.table.destroy()}getConfig(e,t=void 0,i=void 0){const r=this.data||i;return r?r[e]?r[e]:t:this.config&&this.config[e]?this.config[e]:t}static get pasteConfig(){return{tags:["TABLE","TR","TH","TD"]}}onPaste(e){const t=e.detail.data,i=t.querySelector(":scope > thead, tr:first-of-type th"),r=Array.from(t.querySelectorAll("tr")).map(a=>Array.from(a.querySelectorAll("th, td")).map(l=>l.innerHTML));this.data={withHeadings:i!==null,content:r},this.table.wrapper&&this.table.wrapper.replaceWith(this.render())}}(function(){try{if(typeof document<"u"){var n=document.createElement("style");n.appendChild(document.createTextNode('.ce-delimiter{line-height:1.6em;width:100%;text-align:center}.ce-delimiter:before{display:inline-block;content:"***";font-size:30px;line-height:65px;height:30px;letter-spacing:.2em}')),document.head.appendChild(n)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const iB='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="6" x2="10" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="14" x2="18" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>';/**
 * Delimiter Block for the Editor.js.
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 * @version 2.0.0
 */class rB{static get isReadOnlySupported(){return!0}static get contentless(){return!0}constructor({data:e,config:t,api:i}){this.api=i,this._CSS={block:this.api.styles.block,wrapper:"ce-delimiter"},this._element=this.drawView(),this.data=e}drawView(){let e=document.createElement("div");return e.classList.add(this._CSS.wrapper,this._CSS.block),e}render(){return this._element}save(e){return{}}static get toolbox(){return{icon:iB,title:"Delimiter"}}static get pasteConfig(){return{tags:["HR"]}}onPaste(e){this.data={}}}var _r=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bu(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Pm={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(window,function(){return function(t){var i={};function r(a){if(i[a])return i[a].exports;var l=i[a]={i:a,l:!1,exports:{}};return t[a].call(l.exports,l,l.exports,r),l.l=!0,l.exports}return r.m=t,r.c=i,r.d=function(a,l,u){r.o(a,l)||Object.defineProperty(a,l,{enumerable:!0,get:u})},r.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},r.t=function(a,l){if(1&l&&(a=r(a)),8&l||4&l&&typeof a=="object"&&a&&a.__esModule)return a;var u=Object.create(null);if(r.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:a}),2&l&&typeof a!="string")for(var d in a)r.d(u,d,(function(h){return a[h]}).bind(null,d));return u},r.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return r.d(l,"a",l),l},r.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},r.p="/",r(r.s=4)}([function(t,i,r){var a=r(1),l=r(2);typeof(l=l.__esModule?l.default:l)=="string"&&(l=[[t.i,l,""]]);var u={insert:"head",singleton:!1};a(l,u),t.exports=l.locals||{}},function(t,i,r){var a,l=function(){return a===void 0&&(a=!!(window&&document&&document.all&&!window.atob)),a},u=function(){var S={};return function(M){if(S[M]===void 0){var O=document.querySelector(M);if(window.HTMLIFrameElement&&O instanceof window.HTMLIFrameElement)try{O=O.contentDocument.head}catch{O=null}S[M]=O}return S[M]}}(),d=[];function h(S){for(var M=-1,O=0;O<d.length;O++)if(d[O].identifier===S){M=O;break}return M}function g(S,M){for(var O={},P=[],U=0;U<S.length;U++){var T=S[U],I=M.base?T[0]+M.base:T[0],F=O[I]||0,W="".concat(I," ").concat(F);O[I]=F+1;var z=h(W),Z={css:T[1],media:T[2],sourceMap:T[3]};z!==-1?(d[z].references++,d[z].updater(Z)):d.push({identifier:W,updater:E(Z,M),references:1}),P.push(W)}return P}function p(S){var M=document.createElement("style"),O=S.attributes||{};if(O.nonce===void 0){var P=r.nc;P&&(O.nonce=P)}if(Object.keys(O).forEach(function(T){M.setAttribute(T,O[T])}),typeof S.insert=="function")S.insert(M);else{var U=u(S.insert||"head");if(!U)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");U.appendChild(M)}return M}var m,k=(m=[],function(S,M){return m[S]=M,m.filter(Boolean).join(`
`)});function v(S,M,O,P){var U=O?"":P.media?"@media ".concat(P.media," {").concat(P.css,"}"):P.css;if(S.styleSheet)S.styleSheet.cssText=k(M,U);else{var T=document.createTextNode(U),I=S.childNodes;I[M]&&S.removeChild(I[M]),I.length?S.insertBefore(T,I[M]):S.appendChild(T)}}function b(S,M,O){var P=O.css,U=O.media,T=O.sourceMap;if(U?S.setAttribute("media",U):S.removeAttribute("media"),T&&typeof btoa<"u"&&(P+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(T))))," */")),S.styleSheet)S.styleSheet.cssText=P;else{for(;S.firstChild;)S.removeChild(S.firstChild);S.appendChild(document.createTextNode(P))}}var w=null,_=0;function E(S,M){var O,P,U;if(M.singleton){var T=_++;O=w||(w=p(M)),P=v.bind(null,O,T,!1),U=v.bind(null,O,T,!0)}else O=p(M),P=b.bind(null,O,M),U=function(){(function(I){if(I.parentNode===null)return!1;I.parentNode.removeChild(I)})(O)};return P(S),function(I){if(I){if(I.css===S.css&&I.media===S.media&&I.sourceMap===S.sourceMap)return;P(S=I)}else U()}}t.exports=function(S,M){(M=M||{}).singleton||typeof M.singleton=="boolean"||(M.singleton=l());var O=g(S=S||[],M);return function(P){if(P=P||[],Object.prototype.toString.call(P)==="[object Array]"){for(var U=0;U<O.length;U++){var T=h(O[U]);d[T].references--}for(var I=g(P,M),F=0;F<O.length;F++){var W=h(O[F]);d[W].references===0&&(d[W].updater(),d.splice(W,1))}O=I}}}},function(t,i,r){(i=r(3)(!1)).push([t.i,`.cdx-underline {
    text-decoration: underline;
}
`,""]),t.exports=i},function(t,i,r){t.exports=function(a){var l=[];return l.toString=function(){return this.map(function(u){var d=function(h,g){var p=h[1]||"",m=h[3];if(!m)return p;if(g&&typeof btoa=="function"){var k=(b=m,w=btoa(unescape(encodeURIComponent(JSON.stringify(b)))),_="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(w),"/*# ".concat(_," */")),v=m.sources.map(function(E){return"/*# sourceURL=".concat(m.sourceRoot||"").concat(E," */")});return[p].concat(v).concat([k]).join(`
`)}var b,w,_;return[p].join(`
`)}(u,a);return u[2]?"@media ".concat(u[2]," {").concat(d,"}"):d}).join("")},l.i=function(u,d,h){typeof u=="string"&&(u=[[null,u,""]]);var g={};if(h)for(var p=0;p<this.length;p++){var m=this[p][0];m!=null&&(g[m]=!0)}for(var k=0;k<u.length;k++){var v=[].concat(u[k]);h&&g[v[0]]||(d&&(v[2]?v[2]="".concat(d," and ").concat(v[2]):v[2]=d),l.push(v))}},l}},function(t,i,r){r.r(i),r.d(i,"default",function(){return u}),r(0);function a(d){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(d)}function l(d,h){for(var g=0;g<h.length;g++){var p=h[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,(m=p.key,k=void 0,k=function(v,b){if(a(v)!=="object"||v===null)return v;var w=v[Symbol.toPrimitive];if(w!==void 0){var _=w.call(v,b||"default");if(a(_)!=="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(b==="string"?String:Number)(v)}(m,"string"),a(k)==="symbol"?k:String(k)),p)}var m,k}var u=function(){function d(m){var k=m.api;(function(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")})(this,d),this.api=k,this.button=null,this.tag="U",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}var h,g,p;return h=d,p=[{key:"CSS",get:function(){return"cdx-underline"}},{key:"isInline",get:function(){return!0}},{key:"sanitize",get:function(){return{u:{class:d.CSS}}}}],(g=[{key:"render",value:function(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}},{key:"surround",value:function(m){if(m){var k=this.api.selection.findParentTag(this.tag,d.CSS);k?this.unwrap(k):this.wrap(m)}}},{key:"wrap",value:function(m){var k=document.createElement(this.tag);k.classList.add(d.CSS),k.appendChild(m.extractContents()),m.insertNode(k),this.api.selection.expandToTag(k)}},{key:"unwrap",value:function(m){this.api.selection.expandToTag(m);var k=window.getSelection(),v=k.getRangeAt(0),b=v.extractContents();m.parentNode.removeChild(m),v.insertNode(b),k.removeAllRanges(),k.addRange(v)}},{key:"checkState",value:function(){var m=this.api.selection.findParentTag(this.tag,d.CSS);this.button.classList.toggle(this.iconClasses.active,!!m)}},{key:"toolboxIcon",get:function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7.5V11.5C9 12.2956 9.31607 13.0587 9.87868 13.6213C10.4413 14.1839 11.2044 14.5 12 14.5C12.7956 14.5 13.5587 14.1839 14.1213 13.6213C14.6839 13.0587 15 12.2956 15 11.5V7.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7.71429 18H16.2857"/></svg>'}}])&&l(h.prototype,g),p&&l(h,p),Object.defineProperty(h,"prototype",{writable:!1}),d}()}]).default})})(Pm);var sB=Pm.exports;const aB=Bu(sB);var Nm={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(self,()=>(()=>{var t={523:(l,u,d)=>{d.d(u,{A:()=>p});var h=d(314),g=d.n(h)()(function(m){return m[1]});g.push([l.id,`.ce-popover-indent-item {\r
    cursor: default !important;\r
}\r
\r
.ce-popover-indent-item:hover {\r
    background-color: transparent !important;\r
}\r
\r
.ce-popover-indent-item .ce-popover-item__icon {\r
    cursor: pointer;\r
    will-change: background-color;\r
    transition: 0.3s background-color;\r
    padding-block: 0px;\r
    padding-inline: 0px;\r
    border-width: 0px;\r
    color: var(--color-text-primary, black);\r
}\r
\r
.ce-popover-indent-item .ce-popover-item--disabled {\r
    color: var(--color-text-secondary, #707684);\r
    cursor: default;\r
}\r
\r
.ce-popover-indent-item .ce-popover-item__icon:focus {\r
    outline: none;\r
}\r
\r
.ce-popover-indent-item:hover .ce-popover-item__icon {\r
    box-shadow: 0 0 0 1px var(--color-border-icon, rgba(201, 201, 204, 0.48)) !important;\r
    -webkit-box-shadow: 0 0 0 1px var(--color-border-icon, rgba(201, 201, 204, 0.48)) !important;\r
}\r
\r
.ce-popover-indent-item .ce-popover-item__icon:hover {\r
    background-color: var(--color-background-item-hover, #eff2f5);\r
}\r
\r
[data-block-indent-wrapper] {\r
    /* will-change: padding-left, padding-right;\r
    transition: padding-left .4s, padding-right .4s;\r
    -webkit-transition: padding-left .4s, padding-right .4s;\r
    -moz-transition: padding-left .4s, padding-right .4s;\r
    -ms-transition: padding-left .4s, padding-right .4s;\r
    -o-transition: padding-left .4s, padding-right .4s; */\r
}\r
\r
.ce-highlight-indent {\r
    display: inline-block;\r
    height: 1.6em;\r
    top: 50%;\r
    position: absolute;\r
    transform: translate(0px, -50%);\r
    -webkit-transform: translate(0px, -50%);\r
    -moz-transform: translate(0px, -50%);\r
    -ms-transform: translate(0px, -50%);\r
    -o-transform: translate(0px, -50%);\r
}`,""]);const p=g},314:l=>{l.exports=function(u){var d=[];return d.toString=function(){return this.map(function(h){var g=u(h);return h[2]?"@media ".concat(h[2]," {").concat(g,"}"):g}).join("")},d.i=function(h,g,p){typeof h=="string"&&(h=[[null,h,""]]);var m={};if(p)for(var k=0;k<this.length;k++){var v=this[k][0];v!=null&&(m[v]=!0)}for(var b=0;b<h.length;b++){var w=[].concat(h[b]);p&&m[w[0]]||(g&&(w[2]?w[2]="".concat(g," and ").concat(w[2]):w[2]=g),d.push(w))}},d}},72:(l,u,d)=>{var h,g=function(){var P={};return function(U){if(P[U]===void 0){var T=document.querySelector(U);if(window.HTMLIFrameElement&&T instanceof window.HTMLIFrameElement)try{T=T.contentDocument.head}catch{T=null}P[U]=T}return P[U]}}(),p=[];function m(P){for(var U=-1,T=0;T<p.length;T++)if(p[T].identifier===P){U=T;break}return U}function k(P,U){for(var T={},I=[],F=0;F<P.length;F++){var W=P[F],z=U.base?W[0]+U.base:W[0],Z=T[z]||0,he="".concat(z," ").concat(Z);T[z]=Z+1;var oe=m(he),me={css:W[1],media:W[2],sourceMap:W[3]};oe!==-1?(p[oe].references++,p[oe].updater(me)):p.push({identifier:he,updater:O(me,U),references:1}),I.push(he)}return I}function v(P){var U=document.createElement("style"),T=P.attributes||{};if(T.nonce===void 0){var I=d.nc;I&&(T.nonce=I)}if(Object.keys(T).forEach(function(W){U.setAttribute(W,T[W])}),typeof P.insert=="function")P.insert(U);else{var F=g(P.insert||"head");if(!F)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");F.appendChild(U)}return U}var b,w=(b=[],function(P,U){return b[P]=U,b.filter(Boolean).join(`
`)});function _(P,U,T,I){var F=T?"":I.media?"@media ".concat(I.media," {").concat(I.css,"}"):I.css;if(P.styleSheet)P.styleSheet.cssText=w(U,F);else{var W=document.createTextNode(F),z=P.childNodes;z[U]&&P.removeChild(z[U]),z.length?P.insertBefore(W,z[U]):P.appendChild(W)}}function E(P,U,T){var I=T.css,F=T.media,W=T.sourceMap;if(F?P.setAttribute("media",F):P.removeAttribute("media"),W&&typeof btoa<"u"&&(I+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(W))))," */")),P.styleSheet)P.styleSheet.cssText=I;else{for(;P.firstChild;)P.removeChild(P.firstChild);P.appendChild(document.createTextNode(I))}}var S=null,M=0;function O(P,U){var T,I,F;if(U.singleton){var W=M++;T=S||(S=v(U)),I=_.bind(null,T,W,!1),F=_.bind(null,T,W,!0)}else T=v(U),I=E.bind(null,T,U),F=function(){(function(z){if(z.parentNode===null)return!1;z.parentNode.removeChild(z)})(T)};return I(P),function(z){if(z){if(z.css===P.css&&z.media===P.media&&z.sourceMap===P.sourceMap)return;I(P=z)}else F()}}l.exports=function(P,U){(U=U||{}).singleton||typeof U.singleton=="boolean"||(U.singleton=(h===void 0&&(h=!!(window&&document&&document.all&&!window.atob)),h));var T=k(P=P||[],U);return function(I){if(I=I||[],Object.prototype.toString.call(I)==="[object Array]"){for(var F=0;F<T.length;F++){var W=m(T[F]);p[W].references--}for(var z=k(I,U),Z=0;Z<T.length;Z++){var he=m(T[Z]);p[he].references===0&&(p[he].updater(),p.splice(he,1))}T=z}}}}},i={};function r(l){var u=i[l];if(u!==void 0)return u.exports;var d=i[l]={id:l,exports:{}};return t[l](d,d.exports,r),d.exports}r.n=l=>{var u=l&&l.__esModule?()=>l.default:()=>l;return r.d(u,{a:u}),u},r.d=(l,u)=>{for(var d in u)r.o(u,d)&&!r.o(l,d)&&Object.defineProperty(l,d,{enumerable:!0,get:u[d]})},r.o=(l,u)=>Object.prototype.hasOwnProperty.call(l,u),r.nc=void 0;var a={};return(()=>{r.d(a,{default:()=>k});const l='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.5 17.5L9.64142 12.6414C9.56331 12.5633 9.56331 12.4367 9.64142 12.3586L14.5 7.5"/></svg>',u='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.58284 17.5L14.4414 12.6414C14.5195 12.5633 14.5195 12.4367 14.4414 12.3586L9.58284 7.5"/></svg>';var d=r(72),h=r.n(d),g=r(523);h()(g.A,{insert:"head",singleton:!1}),g.A.locals;var p=function(){return p=Object.assign||function(v){for(var b,w=1,_=arguments.length;w<_;w++)for(var E in b=arguments[w])Object.prototype.hasOwnProperty.call(b,E)&&(v[E]=b[E]);return v},p.apply(this,arguments)},m=function(){function v(b){var w,_,E,S,M,O=b.api,P=b.data,U=b.config,T=b.block,I=this;this.wrapper=document.createElement("div"),this.DEFAULT_INDENT_KEY="Tab",this.lastResizeTimeout=null,this.cachedMaxWidthForContent=null,this.api=O,this.block=T,this.config=p(p({},{indentSize:24,maxIndent:8,minIndent:0,multiblock:!1,tuneName:null,orientation:"horizontal",customBlockIndentLimits:{},handleShortcut:void 0,direction:"ltr",directionChangeHandler:null}),U??{}),!((w=this.config)===null||w===void 0)&&w.directionChangeHandler&&this.config.directionChangeHandler(this.alignmentChangeListener.bind(this));var F=(M=(S=this.config.customBlockIndentLimits[(E=(_=this.block)===null||_===void 0?void 0:_.name)!==null&&E!==void 0?E:""])===null||S===void 0?void 0:S.min)!==null&&M!==void 0?M:this.config.minIndent;this.data=p({indentLevel:F},P??{}),this.config.multiblock&&!this.config.tuneName&&console.error("IndentTune config 'tuneName' was not provided, this is required for multiblock option to work."),window.addEventListener("resize",function(W){return I.onResize.call(I,W)})}return Object.defineProperty(v,"isTune",{get:function(){return!0},enumerable:!1,configurable:!0}),v.prototype.render=function(){var b,w,_,E,S=this;if(queueMicrotask(function(){var T,I;S.data.indentLevel==S.maxIndent&&((T=S.getTuneButton("indent"))===null||T===void 0||T.classList.add(S.CSS.disabledItem)),S.data.indentLevel==S.minIndent&&((I=S.getTuneButton("unindent"))===null||I===void 0||I.classList.add(S.CSS.disabledItem))}),this.config.orientation==="vertical"){var M="".concat(this.TuneNames.indentLeft,"-").concat((b=this.block)===null||b===void 0?void 0:b.id),O="".concat(this.TuneNames.indentRight,"-").concat((w=this.block)===null||w===void 0?void 0:w.id);return[{title:this.rightText,onActivate:function(T,I){S.handleIndentRight(),T.title=S.rightText},icon:u,name:O},{title:this.leftText,onActivate:function(T,I){S.handleIndentLeft(),T.title=S.leftText},icon:l,name:M}]}var P=`
			<div class="`.concat(this.CSS.popoverItem," ").concat(this.CSS.customPopoverItem,`" data-item-name='indent'>
				<button type="button" class="`).concat(this.CSS.popoverItemIcon,'" data-').concat(this.TuneNames.indentLeft,">").concat(l,`</button>
				<div class="`).concat(this.CSS.popoverItemTitle,'">').concat(this.api.sanitizer.clean(this.api.i18n.t("Indent"),{}),`</div>
				<button type="button" class="`).concat(this.CSS.popoverItemIcon,'" data-').concat(this.TuneNames.indentRight,' style="margin-left:10px;">').concat(u,`</button>
			</div>
		`),U=this.createElementFromTemplate(P);return(_=U.querySelector("[data-".concat(this.TuneNames.indentRight,"]")))===null||_===void 0||_.addEventListener("click",function(){return S.handleIndentRight()}),(E=U.querySelector("[data-".concat(this.TuneNames.indentLeft,"]")))===null||E===void 0||E.addEventListener("click",function(){return S.handleIndentLeft()}),U},v.prototype.wrap=function(b){var w,_,E,S,M,O=this;if(this.wrapper.appendChild(b),this.wrapper.setAttribute(v.DATA_WRAPPER_NAME,""),!(!this.config.highlightIndent||!((w=this.block)===null||w===void 0)&&w.name&&(!((E=(_=this.config.highlightIndent)===null||_===void 0?void 0:_.tuneNames)===null||E===void 0)&&E.includes(this.block.name)))){var P=this.createElementFromTemplate(`
                <div class="`.concat((M=(S=this.config.highlightIndent)===null||S===void 0?void 0:S.className)!==null&&M!==void 0?M:""," ").concat(this.CSS.highlightIndent,`">
                </div>
            `)),U=b.classList.contains(this.EditorCSS.content)?b:b.querySelector(".".concat(this.EditorCSS.content));U==null||U.appendChild(P)}return this.applyStylesToWrapper(this.wrapper,this.data.indentLevel),this.wrapper.addEventListener("keydown",function(){for(var T=[],I=0;I<arguments.length;I++)T[I]=arguments[I];return O.onKeyDown.apply(O,T)},{capture:!0}),this.wrapper.addEventListener("focus",function(T){return O.onFocus.call(O,T)},{capture:!0}),this.wrapper.addEventListener("blur",function(T){return O.onBlur.call(O,T)},{capture:!0}),this.wrapper},v.prototype.save=function(){return this.data},Object.defineProperty(v.prototype,"CSS",{get:function(){return{customPopoverItem:"ce-popover-indent-item",popoverItem:"ce-popover-item",popoverItemIcon:"ce-popover-item__icon",popoverItemTitle:"ce-popover-item__title",disabledItem:"ce-popover-item--disabled",highlightIndent:"ce-highlight-indent"}},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"EditorCSS",{get:function(){return{block:"ce-block",content:"ce-block__content",redactor:"codex-editor__redactor"}},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"TuneNames",{get:function(){return{indentLeft:"tune-indent-left",indentRight:"tune-indent-right"}},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"customInterval",{get:function(){var b,w,_;return(_=this.config.customBlockIndentLimits[(w=(b=this.block)===null||b===void 0?void 0:b.name)!==null&&w!==void 0?w:""])!==null&&_!==void 0?_:{}},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"maxIndent",{get:function(){var b;return(b=this.customInterval.max)!==null&&b!==void 0?b:this.config.maxIndent},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"minIndent",{get:function(){var b;return(b=this.customInterval.min)!==null&&b!==void 0?b:this.config.minIndent},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"isDirectionInverted",{get:function(){return this.config.direction!=="ltr"},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"rightText",{get:function(){return this.api.i18n.t(this.isDirectionInverted?"Un Indent":"Indent")},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"leftText",{get:function(){return this.api.i18n.t(this.isDirectionInverted?"Indent":"Un Indent")},enumerable:!1,configurable:!0}),v.prototype.onKeyDown=function(b){var w,_,E,S=this;if(!((w=this.block)===null||w===void 0)&&w.id&&this.config.handleShortcut!==!1){var M=b.key==this.DEFAULT_INDENT_KEY,O=typeof this.config.handleShortcut=="function";if(O||M){var P=(E=(_=this.config).handleShortcut)===null||E===void 0?void 0:E.call(_,b,this.block.id);if(P||!O){var U;switch(P){case"indent":U=!0;break;case"unindent":U=!1;break;default:if(!M)return;U=!b.shiftKey}b.stopPropagation(),b.preventDefault(),this.api.inlineToolbar.close();var T=this.getGlobalSelectedBlocks();if(!this.config.multiblock||T.length<2)return U?this.indentBlock():this.unIndentBlock(),void this.block.dispatchChange();this.config.tuneName?T.forEach(function(I){return F=S,W=void 0,Z=function(){var he,oe,me,we,J,ae;return function(pe,_e){var Be,Ce,ke,Oe,ve={label:0,sent:function(){if(1&ke[0])throw ke[1];return ke[1]},trys:[],ops:[]};return Oe={next:j(0),throw:j(1),return:j(2)},typeof Symbol=="function"&&(Oe[Symbol.iterator]=function(){return this}),Oe;function j(le){return function(se){return function(ie){if(Be)throw new TypeError("Generator is already executing.");for(;Oe&&(Oe=0,ie[0]&&(ve=0)),ve;)try{if(Be=1,Ce&&(ke=2&ie[0]?Ce.return:ie[0]?Ce.throw||((ke=Ce.return)&&ke.call(Ce),0):Ce.next)&&!(ke=ke.call(Ce,ie[1])).done)return ke;switch(Ce=0,ke&&(ie=[2&ie[0],ke.value]),ie[0]){case 0:case 1:ke=ie;break;case 4:return ve.label++,{value:ie[1],done:!1};case 5:ve.label++,Ce=ie[1],ie=[0];continue;case 7:ie=ve.ops.pop(),ve.trys.pop();continue;default:if(!((ke=(ke=ve.trys).length>0&&ke[ke.length-1])||ie[0]!==6&&ie[0]!==2)){ve=0;continue}if(ie[0]===3&&(!ke||ie[1]>ke[0]&&ie[1]<ke[3])){ve.label=ie[1];break}if(ie[0]===6&&ve.label<ke[1]){ve.label=ke[1],ke=ie;break}if(ke&&ve.label<ke[2]){ve.label=ke[2],ve.ops.push(ie);break}ke[2]&&ve.ops.pop(),ve.trys.pop();continue}ie=_e.call(pe,ve)}catch(je){ie=[6,je],Ce=0}finally{Be=ke=0}if(5&ie[0])throw ie[1];return{value:ie[0]?ie[1]:void 0,done:!0}}([le,se])}}}(this,function(pe){switch(pe.label){case 0:return[4,I.save()];case 1:return(he=pe.sent())?"tunes"in he&&typeof he.tunes=="object"&&he.tunes?(oe=he.tunes[(we=this.config.tuneName)!==null&&we!==void 0?we:""])?(oe.indentLevel=U?Math.min(this.config.maxIndent,((J=oe.indentLevel)!==null&&J!==void 0?J:0)+1):Math.max(0,((ae=oe.indentLevel)!==null&&ae!==void 0?ae:0)-1),I.dispatchChange(),(me=this.getWrapperBlockById(I.id))instanceof HTMLElement&&this.applyStylesToWrapper(me,oe.indentLevel),[2]):(console.error("'tuneName' is invalid, no tune was found for block ".concat(I.name)),[2]):(console.error("Multiblock indenting is not supported for this editor version. "),[2]):[2]}})},new((z=void 0)||(z=Promise))(function(he,oe){function me(ae){try{J(Z.next(ae))}catch(pe){oe(pe)}}function we(ae){try{J(Z.throw(ae))}catch(pe){oe(pe)}}function J(ae){var pe;ae.done?he(ae.value):(pe=ae.value,pe instanceof z?pe:new z(function(_e){_e(pe)})).then(me,we)}J((Z=Z.apply(F,W||[])).next())});var F,W,z,Z}):console.error("'tuneName' is empty.")}}}},v.prototype.handleIndentLeft=function(){var b;this.isDirectionInverted?this.indentBlock():this.unIndentBlock(),(b=this.block)===null||b===void 0||b.dispatchChange()},v.prototype.handleIndentRight=function(){var b;this.isDirectionInverted?this.unIndentBlock():this.indentBlock(),(b=this.block)===null||b===void 0||b.dispatchChange()},v.prototype.indentBlock=function(){this.wrapper&&(this.data.indentLevel=Math.min(this.data.indentLevel+1,this.maxIndent),this.applyStylesToWrapper(this.wrapper,this.data.indentLevel),this.toggleDisableStateForButtons())},v.prototype.unIndentBlock=function(){this.wrapper&&(this.data.indentLevel=Math.max(this.data.indentLevel-1,this.minIndent),this.applyStylesToWrapper(this.wrapper,this.data.indentLevel),this.toggleDisableStateForButtons())},v.prototype.toggleDisableStateForButtons=function(){var b,w,_,E;this.data.indentLevel===this.minIndent?(b=this.getTuneButton("unindent"))===null||b===void 0||b.classList.add(this.CSS.disabledItem):(w=this.getTuneButton("unindent"))===null||w===void 0||w.classList.remove(this.CSS.disabledItem),this.data.indentLevel===this.maxIndent?(_=this.getTuneButton("indent"))===null||_===void 0||_.classList.add(this.CSS.disabledItem):(E=this.getTuneButton("indent"))===null||E===void 0||E.classList.remove(this.CSS.disabledItem)},v.prototype.getTuneButton=function(b){var w,_=b==="indent"?"indentRight":"indentLeft";return this.isDirectionInverted&&(_=b=="indent"?"indentLeft":"indentRight"),this.config.orientation==="vertical"?this.getTuneByName("".concat(this.TuneNames[_],"-").concat((w=this.block)===null||w===void 0?void 0:w.id)):document.querySelector(".".concat(this.CSS.popoverItemIcon,"[data-").concat(this.TuneNames[_],"]"))},v.prototype.getTuneByName=function(b){return document.querySelector(".".concat(this.CSS.popoverItem,'[data-item-name="').concat(b,'"]'))},v.prototype.getTuneTitleByName=function(b){var w;return(w=this.getTuneByName(b))===null||w===void 0?void 0:w.querySelector(".".concat(this.CSS.popoverItemTitle))},v.prototype.applyStylesToWrapper=function(b,w){var _=this;w===void 0&&(w=parseInt(b.getAttribute(v.DATA_INDENT_LEVEL)||"0"));var E=w*this.config.indentSize;b.setAttribute(v.DATA_INDENT_LEVEL,w.toString());var S=b.querySelector(".".concat(this.EditorCSS.content)),M=this.getBlockForWrapper(b)||document.querySelector(".".concat(this.EditorCSS.redactor));if(S instanceof HTMLElement&&M){var O=M.getBoundingClientRect().width;if(O!==0){var P=(O-this.maxWidthForContent(b))/2,U=Math.max(0,Math.min(P,E)),T="".concat(2*U,"px"),I="".concat(U,"px");this.isDirectionInverted?(b.style.paddingLeft="0px",b.style.paddingRight=T):(b.style.paddingLeft=T,b.style.paddingRight="0px");var F=b.querySelector(".".concat(this.CSS.highlightIndent));F instanceof HTMLElement&&(this.isDirectionInverted?(F.style.width=I,F.style.left="100%",F.style.right=""):(F.style.width=I,F.style.left="",F.style.right="100%"))}else queueMicrotask(function(){return _.applyStylesToWrapper.bind(_)(b,w)})}},v.prototype.onFocus=function(b){b.target instanceof HTMLElement&&this.wrapper.contains(b.target)&&this.wrapper.setAttribute(v.DATA_FOCUSED,"")},v.prototype.onBlur=function(b){b.target instanceof HTMLElement&&this.wrapper.contains(b.target)&&this.wrapper.removeAttribute(v.DATA_FOCUSED)},v.prototype.onResize=function(b){var w=this;this.lastResizeTimeout&&clearTimeout(this.lastResizeTimeout),this.lastResizeTimeout=setTimeout(function(){document.querySelectorAll("[".concat(v.DATA_WRAPPER_NAME,"]")).forEach(function(_){_ instanceof HTMLElement&&w.applyStylesToWrapper(_)})},500)},v.prototype.getGlobalSelectedBlocks=function(){var b=this;return new Array(this.api.blocks.getBlocksCount()).fill(0).map(function(w,_){return b.api.blocks.getBlockByIndex(_)}).filter(function(w){return!!(w!=null&&w.selected)})},v.prototype.getWrapperBlockById=function(b){return document.querySelector(".".concat(this.EditorCSS.block,'[data-id="').concat(b,'"] [').concat(v.DATA_WRAPPER_NAME,"]"))},v.prototype.getBlockForWrapper=function(b){for(var w=b;!w.classList.contains(this.EditorCSS.block);){if(!w.parentElement||w instanceof HTMLHtmlElement)return null;w=w.parentElement}return w},v.prototype.alignmentChangeListener=function(b,w){var _,E,S;if(b===((_=this.block)===null||_===void 0?void 0:_.id)&&w!==this.config.direction&&(this.config.direction=w,this.applyStylesToWrapper(this.wrapper,this.data.indentLevel),this.toggleDisableStateForButtons(),this.config.orientation==="vertical")){var M=this.getTuneTitleByName("".concat(this.TuneNames.indentRight,"-").concat((E=this.block)===null||E===void 0?void 0:E.id));M&&(M.textContent=this.rightText);var O=this.getTuneTitleByName("".concat(this.TuneNames.indentLeft,"-").concat((S=this.block)===null||S===void 0?void 0:S.id));O&&(O.textContent=this.leftText)}},v.prototype.createElementFromTemplate=function(b){return new DOMParser().parseFromString(b,"text/html").body.firstChild},v.prototype.maxWidthForContent=function(b){var w=b.querySelector(".".concat(this.EditorCSS.content));if(w instanceof HTMLElement){var _=window.getComputedStyle(w).maxWidth;if(_)return this.cachedMaxWidthForContent=parseInt(_),this.cachedMaxWidthForContent}return this.cachedMaxWidthForContent!==null||(this.cachedMaxWidthForContent=650),this.cachedMaxWidthForContent},v.DATA_WRAPPER_NAME="data-block-indent-wrapper",v.DATA_FOCUSED="data-focused",v.DATA_INDENT_LEVEL="data-indent-level",v}();const k=m})(),a.default})())})(Nm);var lB=Nm.exports;const cB=Bu(lB);var Dm={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(window,function(){return function(t){var i={};function r(a){if(i[a])return i[a].exports;var l=i[a]={i:a,l:!1,exports:{}};return t[a].call(l.exports,l,l.exports,r),l.l=!0,l.exports}return r.m=t,r.c=i,r.d=function(a,l,u){r.o(a,l)||Object.defineProperty(a,l,{enumerable:!0,get:u})},r.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},r.t=function(a,l){if(1&l&&(a=r(a)),8&l||4&l&&typeof a=="object"&&a&&a.__esModule)return a;var u=Object.create(null);if(r.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:a}),2&l&&typeof a!="string")for(var d in a)r.d(u,d,(function(h){return a[h]}).bind(null,d));return u},r.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return r.d(l,"a",l),l},r.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},r.p="/",r(r.s=4)}([function(t,i,r){var a=r(5),l=r(6),u=r(7);t.exports=function(d){return a(d)||l(d)||u()}},function(t,i){t.exports=function(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}},function(t,i){function r(a,l){for(var u=0;u<l.length;u++){var d=l[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}t.exports=function(a,l,u){return l&&r(a.prototype,l),u&&r(a,u),a}},function(t,i){t.exports=function(r){return r&&r.__esModule?r:{default:r}}},function(t,i,r){var a,l,u;l=[i,r(0),r(1),r(2),r(8),r(9),r(10)],(u=typeof(a=function(d,h,g,p,m,k,v){var b=r(3);Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0,h=b(h),g=b(g),p=b(p),k=b(k);var w=function(){function _(E){var S=E.data,M=E.config,O=E.api;(0,g.default)(this,_),this.api=O,this.config=M,this.config.label=M.label||"Button",this.config.classes=M.classes||["button"],this.config.target=M.target||m.TargetOptionsEnum.SELF,this._DOMService=new k.default,this._data=Object.assign({label:this.config.label,target:this.config.target},S),this._tuneSettings=[{title:"centered",icon:'<svg width="15" height="15" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="align-center" class="svg-inline--fa fa-align-center fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M432 160H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0 256H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM108.1 96h231.81A12.09 12.09 0 0 0 352 83.9V44.09A12.09 12.09 0 0 0 339.91 32H108.1A12.09 12.09 0 0 0 96 44.09V83.9A12.1 12.1 0 0 0 108.1 96zm231.81 256A12.09 12.09 0 0 0 352 339.9v-39.81A12.09 12.09 0 0 0 339.91 288H108.1A12.09 12.09 0 0 0 96 300.09v39.81a12.1 12.1 0 0 0 12.1 12.1z"></path></svg>'},{title:"stretched",icon:'<svg width="17" height="10" viewBox="0 0 17 10" xmlns="http://www.w3.org/2000/svg"><path d="M13.568 5.925H4.056l1.703 1.703a1.125 1.125 0 0 1-1.59 1.591L.962 6.014A1.069 1.069 0 0 1 .588 4.26L4.38.469a1.069 1.069 0 0 1 1.512 1.511L4.084 3.787h9.606l-1.85-1.85a1.069 1.069 0 1 1 1.512-1.51l3.792 3.791a1.069 1.069 0 0 1-.475 1.788L13.514 9.16a1.125 1.125 0 0 1-1.59-1.591l1.644-1.644z"/></svg>'},{title:"large",icon:'<svg width="15" height="15" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="expand" class="svg-inline--fa fa-expand fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M0 180V56c0-13.3 10.7-24 24-24h124c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H64v84c0 6.6-5.4 12-12 12H12c-6.6 0-12-5.4-12-12zM288 44v40c0 6.6 5.4 12 12 12h84v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12V56c0-13.3-10.7-24-24-24H300c-6.6 0-12 5.4-12 12zm148 276h-40c-6.6 0-12 5.4-12 12v84h-84c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24V332c0-6.6-5.4-12-12-12zM160 468v-40c0-6.6-5.4-12-12-12H64v-84c0-6.6-5.4-12-12-12H12c-6.6 0-12 5.4-12 12v124c0 13.3 10.7 24 24 24h124c6.6 0 12-5.4 12-12z"></path></svg>'}]}return(0,p.default)(_,[{key:"render",value:function(){var E=this;this._container=this._DOMService.make("div",[this.CSS.baseClass,this.CSS.container]);var S=this._DOMService.makeButton(this._data.label||this.config.label,[this.CSS.buttonEl].concat((0,h.default)(this.config.classes))),M=this._DOMService.make("div",[this.CSS.formEl]),O=this._DOMService.makeInput("url",this._data.url||"","https://...",[this.CSS.input,this.CSS.inputEl,"url"]),P=this._DOMService.makeInput("label",this._data.label||this.config.label,this.config.label,[this.CSS.input,this.CSS.inputEl,"button-label"]),U=this._DOMService.makeSelect("target",Object.values(m.TargetOptionsEnum),this._data.target||this.config.target,[this.CSS.input,this.CSS.selectEl,"target"]);return this._container.classList.add("button-container"),this._container.appendChild(S),this._container.appendChild(M),M.appendChild(O),M.appendChild(P),M.appendChild(U),this._tuneSettings.forEach(function(T){E._data[T.title]&&E._container.classList.add(T.title)}),O.addEventListener("keyup",function(){E._updateData(O,"url")}),P.addEventListener("keyup",function(){E._updateData(P,"label"),S.innerText=P.value}),U.addEventListener("change",function(){E._updateData(U,"target")}),this._container}},{key:"save",value:function(){return this._saveData=Object.assign({label:"",url:"",target:""},this._data),this._saveData}},{key:"validate",value:function(E){return!!E.url.trim()&&!!E.label.trim()}},{key:"renderSettings",value:function(){var E=this,S=this._DOMService.make("div",[]);return this._tuneSettings.forEach(function(M){var O=E._DOMService.make("div",["cdx-settings-button"]);E._data[M.title]!==void 0&&O.classList.toggle("cdx-settings-button--active",E._data[M.title]),O.innerHTML=M.icon,S.appendChild(O),O.addEventListener("click",function(){E._toggleTune(M.title),O.classList.toggle("cdx-settings-button--active")})}),S}},{key:"_updateData",value:function(E,S){this._data[S]=E.value}},{key:"_toggleTune",value:function(E){this._data[E]=!this._data[E],this._acceptTuneView()}},{key:"_acceptTuneView",value:function(){var E=this;this._tuneSettings.forEach(function(S){E._container.classList.toggle(S.title,!!E._data[S.title])})}},{key:"CSS",get:function(){return{baseClass:this.api.styles.block,input:this.api.styles.input,container:"button-container",buttonEl:"button-container__button",formEl:"button-container__form",inputEl:"button-container__form__input",selectEl:"button-container__form__select"}}},{key:"saveData",get:function(){return this._saveData}}],[{key:"toolbox",get:function(){return{title:"Button",icon:'<svg width="13" height="14" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="external-link-square-alt" class="svg-inline--fa fa-external-link-square-alt fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M448 80v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h352c26.51 0 48 21.49 48 48zm-88 16H248.029c-21.313 0-32.08 25.861-16.971 40.971l31.984 31.987L67.515 364.485c-4.686 4.686-4.686 12.284 0 16.971l31.029 31.029c4.687 4.686 12.285 4.686 16.971 0l195.526-195.526 31.988 31.991C358.058 263.977 384 253.425 384 231.979V120c0-13.255-10.745-24-24-24z"></path></svg>'}}}]),_}();d.default=w})=="function"?a.apply(i,l):a)===void 0||(t.exports=u)},function(t,i){t.exports=function(r){if(Array.isArray(r)){for(var a=0,l=new Array(r.length);a<r.length;a++)l[a]=r[a];return l}}},function(t,i){t.exports=function(r){if(Symbol.iterator in Object(r)||Object.prototype.toString.call(r)==="[object Arguments]")return Array.from(r)}},function(t,i){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,i,r){var a,l,u;l=[i],(u=typeof(a=function(d){var h;Object.defineProperty(d,"__esModule",{value:!0}),d.TargetOptionsEnum=void 0,d.TargetOptionsEnum=h,function(g){g.SELF="_self",g.BLANK="_blank",g.PARENT="_parent",g.TOP="_top"}(h||(d.TargetOptionsEnum=h={}))})=="function"?a.apply(i,l):a)===void 0||(t.exports=u)},function(t,i,r){var a,l,u;l=[i,r(0),r(1),r(2)],(u=typeof(a=function(d,h,g,p){var m=r(3);Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0,h=m(h),g=m(g),p=m(p);var k=function(){function v(){(0,g.default)(this,v)}return(0,p.default)(v,[{key:"make",value:function(b,w){var _=document.createElement(b);return this.mapClasses(_,w),_}},{key:"makeButton",value:function(b,w){var _=document.createElement("button");return _.innerText=b,this.mapClasses(_,w),_}},{key:"makeInput",value:function(b,w,_,E){var S=document.createElement("input");return S.name=b,S.value=w,S.placeholder=_,this.mapClasses(S,E),S}},{key:"makeSelect",value:function(b,w,_,E){var S=this,M=document.createElement("select");return this.mapClasses(M,E),w.map(function(O){M.appendChild(S.makeOption(O,O,_))}),M}},{key:"makeOption",value:function(b,w,_){var E=document.createElement("option");return E.innerText=w,E.value=b,E.selected=b===_,E}},{key:"mapClasses",value:function(b,w){var _;(_=b.classList).add.apply(_,(0,h.default)(w))}}]),v}();d.default=k})=="function"?a.apply(i,l):a)===void 0||(t.exports=u)},function(t,i,r){var a=r(11);typeof a=="string"&&(a=[[t.i,a,""]]);var l={hmr:!0,transform:void 0,insertInto:void 0};r(13)(a,l),a.locals&&(t.exports=a.locals)},function(t,i,r){(t.exports=r(12)(!1)).push([t.i,`.button-container__button {
  margin-bottom: 15px;
}

.button-container__form {
  display: flex;
}

.button-container__form__input {
  margin: 0 5px 15px;
}

.button-container__form__select {
  height: 36px;
  margin: 0 5px 15px;
}

.button-container.centered .button-container__button {
  display: block;
  margin: 0 auto 15px;
}

.button-container.stretched .button-container__button {
  width: 100%
}

.button-container.large .button-container__button {
  display: block;
  font-size: 200%;
}
`,""])},function(t,i){t.exports=function(r){var a=[];return a.toString=function(){return this.map(function(l){var u=function(d,h){var g=d[1]||"",p=d[3];if(!p)return g;if(h&&typeof btoa=="function"){var m=(v=p,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(v))))+" */"),k=p.sources.map(function(b){return"/*# sourceURL="+p.sourceRoot+b+" */"});return[g].concat(k).concat([m]).join(`
`)}var v;return[g].join(`
`)}(l,r);return l[2]?"@media "+l[2]+"{"+u+"}":u}).join("")},a.i=function(l,u){typeof l=="string"&&(l=[[null,l,""]]);for(var d={},h=0;h<this.length;h++){var g=this[h][0];typeof g=="number"&&(d[g]=!0)}for(h=0;h<l.length;h++){var p=l[h];typeof p[0]=="number"&&d[p[0]]||(u&&!p[2]?p[2]=u:u&&(p[2]="("+p[2]+") and ("+u+")"),a.push(p))}},a}},function(t,i,r){var a,l,u={},d=(a=function(){return window&&document&&document.all&&!window.atob},function(){return l===void 0&&(l=a.apply(this,arguments)),l}),h=function(T){var I={};return function(F){if(typeof F=="function")return F();if(I[F]===void 0){var W=(function(z){return document.querySelector(z)}).call(this,F);if(window.HTMLIFrameElement&&W instanceof window.HTMLIFrameElement)try{W=W.contentDocument.head}catch{W=null}I[F]=W}return I[F]}}(),g=null,p=0,m=[],k=r(14);function v(T,I){for(var F=0;F<T.length;F++){var W=T[F],z=u[W.id];if(z){z.refs++;for(var Z=0;Z<z.parts.length;Z++)z.parts[Z](W.parts[Z]);for(;Z<W.parts.length;Z++)z.parts.push(M(W.parts[Z],I))}else{var he=[];for(Z=0;Z<W.parts.length;Z++)he.push(M(W.parts[Z],I));u[W.id]={id:W.id,refs:1,parts:he}}}}function b(T,I){for(var F=[],W={},z=0;z<T.length;z++){var Z=T[z],he=I.base?Z[0]+I.base:Z[0],oe={css:Z[1],media:Z[2],sourceMap:Z[3]};W[he]?W[he].parts.push(oe):F.push(W[he]={id:he,parts:[oe]})}return F}function w(T,I){var F=h(T.insertInto);if(!F)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var W=m[m.length-1];if(T.insertAt==="top")W?W.nextSibling?F.insertBefore(I,W.nextSibling):F.appendChild(I):F.insertBefore(I,F.firstChild),m.push(I);else if(T.insertAt==="bottom")F.appendChild(I);else{if(typeof T.insertAt!="object"||!T.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var z=h(T.insertInto+" "+T.insertAt.before);F.insertBefore(I,z)}}function _(T){if(T.parentNode===null)return!1;T.parentNode.removeChild(T);var I=m.indexOf(T);I>=0&&m.splice(I,1)}function E(T){var I=document.createElement("style");return T.attrs.type===void 0&&(T.attrs.type="text/css"),S(I,T.attrs),w(T,I),I}function S(T,I){Object.keys(I).forEach(function(F){T.setAttribute(F,I[F])})}function M(T,I){var F,W,z,Z;if(I.transform&&T.css){if(!(Z=I.transform(T.css)))return function(){};T.css=Z}if(I.singleton){var he=p++;F=g||(g=E(I)),W=U.bind(null,F,he,!1),z=U.bind(null,F,he,!0)}else T.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(F=function(oe){var me=document.createElement("link");return oe.attrs.type===void 0&&(oe.attrs.type="text/css"),oe.attrs.rel="stylesheet",S(me,oe.attrs),w(oe,me),me}(I),W=(function(oe,me,we){var J=we.css,ae=we.sourceMap,pe=me.convertToAbsoluteUrls===void 0&&ae;(me.convertToAbsoluteUrls||pe)&&(J=k(J)),ae&&(J+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(ae))))+" */");var _e=new Blob([J],{type:"text/css"}),Be=oe.href;oe.href=URL.createObjectURL(_e),Be&&URL.revokeObjectURL(Be)}).bind(null,F,I),z=function(){_(F),F.href&&URL.revokeObjectURL(F.href)}):(F=E(I),W=(function(oe,me){var we=me.css,J=me.media;if(J&&oe.setAttribute("media",J),oe.styleSheet)oe.styleSheet.cssText=we;else{for(;oe.firstChild;)oe.removeChild(oe.firstChild);oe.appendChild(document.createTextNode(we))}}).bind(null,F),z=function(){_(F)});return W(T),function(oe){if(oe){if(oe.css===T.css&&oe.media===T.media&&oe.sourceMap===T.sourceMap)return;W(T=oe)}else z()}}t.exports=function(T,I){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(I=I||{}).attrs=typeof I.attrs=="object"?I.attrs:{},I.singleton||typeof I.singleton=="boolean"||(I.singleton=d()),I.insertInto||(I.insertInto="head"),I.insertAt||(I.insertAt="bottom");var F=b(T,I);return v(F,I),function(W){for(var z=[],Z=0;Z<F.length;Z++){var he=F[Z];(oe=u[he.id]).refs--,z.push(oe)}for(W&&v(b(W,I),I),Z=0;Z<z.length;Z++){var oe;if((oe=z[Z]).refs===0){for(var me=0;me<oe.parts.length;me++)oe.parts[me]();delete u[oe.id]}}}};var O,P=(O=[],function(T,I){return O[T]=I,O.filter(Boolean).join(`
`)});function U(T,I,F,W){var z=F?"":W.css;if(T.styleSheet)T.styleSheet.cssText=P(I,z);else{var Z=document.createTextNode(z),he=T.childNodes;he[I]&&T.removeChild(he[I]),he.length?T.insertBefore(Z,he[I]):T.appendChild(Z)}}},function(t,i){t.exports=function(r){var a=typeof window<"u"&&window.location;if(!a)throw new Error("fixUrls requires window.location");if(!r||typeof r!="string")return r;var l=a.protocol+"//"+a.host,u=l+a.pathname.replace(/\/[^\/]*$/,"/");return r.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(d,h){var g,p=h.trim().replace(/^"(.*)"$/,function(m,k){return k}).replace(/^'(.*)'$/,function(m,k){return k});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(p)?d:(g=p.indexOf("//")===0?p:p.indexOf("/")===0?l+p:u+p.replace(/^\.\//,""),"url("+JSON.stringify(g)+")")})}}]).default})})(Dm);var uB=Dm.exports;const dB=Bu(uB),hB={id:"editorjs"},fB=yi({__name:"EditorBlock",props:{data:{type:Array,default:()=>[]}},setup(n,{expose:e}){const t=zo(null);Qx(Kr({data:""})),ru(()=>{t.value=new hT({autofocus:!0,holder:"editorjs",placeholder:"請輸入內容",readOnly:!1,tools:{header:wT,link:NT,paragraph:{class:_T,inlineToolbar:!0},image:{class:AT,inlineToolbar:!1,config:{uploader:{uploadByUrl:a=>i(a)}}},checkList:UT,list:{class:$T,inlineToolbar:!0},embeds:{class:qT,inlineToolbar:!0,config:{services:{youtube:!0,coub:!0,vimeo:!0,codepen:!0,gfycat:!0,imgur:!0,"twitch-video":!0,"twitch-channel":!0}}},table:{class:oB,inlineToolbar:!0,config:{rows:2,cols:3}},delimiter:rB,underline:aB,indentTune:cB,button:{class:dB,config:{label:"Click",target:"_blank",classes:["button","is-primary"]}}},tunes:["indentTune"],onReady:()=>{console.log("Editor ready!")}})});const i=a=>new Promise(l=>{l({success:1,file:{url:a}})});return e({getEditorData:async()=>await t.value.save()}),(a,l)=>(mn(),qo("div",hB))}}),pB="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12.5%2016.6667V12.5H7.49998V16.6667M15%2016.6667H4.99998C4.07951%2016.6667%203.33331%2015.9205%203.33331%2015V5.00001C3.33331%204.07954%204.07951%203.33334%204.99998%203.33334H11.8096C12.2517%203.33334%2012.6756%203.50894%2012.9881%203.8215L16.1785%207.01186C16.4911%207.32442%2016.6666%207.74834%2016.6666%208.19037V15C16.6666%2015.9205%2015.9205%2016.6667%2015%2016.6667Z'%20stroke='black'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",gB="data:image/svg+xml,%3csvg%20width='16'%20height='17'%20viewBox='0%200%2016%2017'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M14.6666%2011.5V14C14.6666%2014.9205%2013.9205%2015.6667%2013%2015.6667H2.99998C2.07951%2015.6667%201.33331%2014.9205%201.33331%2014L1.33331%2011.5M4.66665%208.16667L7.99998%2011.5M7.99998%2011.5L11.3333%208.16667M7.99998%2011.5V1.5'%20stroke='black'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",mB="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M13.3333%2015V12.5H6.66668V15M13.3333%2015V17.5H6.66668V15M13.3333%2015H16.6667V7.5H13.3333M6.66668%2015H3.33334V7.5H6.66668M6.66668%207.5H13.3333M6.66668%207.5V3.33333C6.66668%202.8731%207.03977%202.5%207.50001%202.5H12.5C12.9602%202.5%2013.3333%202.8731%2013.3333%203.33333V7.5'%20stroke='black'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",vB="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6.66666%2010.8333H11.6667M6.66666%2014.1667H13.3333M10.8333%202.5H4.16666V17.5H15.8333V7.5M10.8333%202.5H11.6667L15.8333%206.66667V7.5M10.8333%202.5V5.83333C10.8333%206.66667%2011.6667%207.5%2012.5%207.5H15.8333'%20stroke='black'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",bB="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M16.6667%209.16667H3.33333M16.6667%209.16667V15.8333C16.6667%2016.7538%2015.9205%2017.5%2015%2017.5H4.99999C4.07952%2017.5%203.33333%2016.7538%203.33333%2015.8333V5.83333C3.33333%204.91286%204.07952%204.16667%204.99999%204.16667H15C15.9205%204.16667%2016.6667%204.91286%2016.6667%205.83333V9.16667ZM12.5%202.5V5.83333M7.49999%202.5V5.83333'%20stroke='black'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",yB={__name:"NLink",props:{to:{type:[String,Object],default:null},href:{type:String,default:null},target:{type:String,default:"_self"},disabled:{type:Boolean,default:!1},isBlock:{type:Boolean,default:!1}},emits:["click"],setup(n,{emit:e}){const t=n,i=e,r=Ht(()=>t.to),a=Ht(()=>t.href),l=Ht(()=>!t.to&&!t.href),u=Ht(()=>l.value?"button":r.value?"router-link":"a"),d=Ht(()=>l.value?{type:"button",disabled:t.disabled}:r.value?{to:t.to,target:t.target}:{href:t.href,target:t.target}),h=g=>{if(t.disabled){g.preventDefault();return}i("click",g)};return(g,p)=>(mn(),Gr(g_(u.value),Tg(d.value,{class:[{"n-link--disabled":n.disabled,"n-link--block":n.isBlock},"n-link"],href:a.value?n.href:null,to:r.value?n.to:null,onClick:h}),{default:pn(()=>[Ia(g.$slots,"default",{},void 0,!0)]),_:3},16,["class","href","to"]))}},Cr=Ji(yB,[["__scopeId","data-v-98743357"]]),wB={class:"flex flex-row justify-start items-cente gap-8 ml-8"},kB=It("img",{alt:"Save",src:pB},null,-1),xB=It("img",{alt:"Save",src:gB},null,-1),_B=It("img",{alt:"Save",src:mB},null,-1),CB=It("img",{alt:"Save",src:vB},null,-1),EB=It("img",{alt:"Save",src:bB},null,-1),SB=yi({__name:"Menu",emits:["saveTemplate","loadTemplate","exportTemplate","editRegularWords","editTables"],setup(n,{emit:e}){const t=e,i=()=>{t("saveTemplate")},r=()=>{t("loadTemplate")},a=()=>{t("exportTemplate")},l=()=>{t("editRegularWords")},u=()=>{t("editTables")};return(d,h)=>(mn(),qo("div",wB,[at(Cr,{onClick:i},{default:pn(()=>[kB,ho(" 儲存模板 ")]),_:1}),at(Cr,{onClick:r},{default:pn(()=>[xB,ho(" 載入模板 ")]),_:1}),at(Cr,{onClick:a},{default:pn(()=>[_B,ho(" 轉出模板 ")]),_:1}),at(Cr,{onClick:l},{default:pn(()=>[CB,ho(" 常用文字 ")]),_:1}),at(Cr,{onClick:u},{default:pn(()=>[EB,ho(" 常用表格 ")]),_:1})]))}}),TB=""+new URL("../../assets/1.4.137.logo.CHQpCNMA.png",import.meta.url).href,BB={},IB=n=>(l_("data-v-8f086992"),n=n(),c_(),n),LB={class:"logo"},AB=IB(()=>It("img",{alt:"GRAMICCI",src:TB},null,-1)),MB=[AB];function OB(n,e){return mn(),qo("div",LB,MB)}const RB=Ji(BB,[["render",OB],["__scopeId","data-v-8f086992"]]);var Vr=(n=>(n[n.DEFAULT=1]="DEFAULT",n[n.TOGGLE=2]="TOGGLE",n))(Vr||{});const PB=yi({__name:"NButton",props:{buttonType:{type:Number,default:Vr.DEFAULT},isActive:{type:Boolean,default:!0}},emits:["click"],setup(n,{emit:e}){const t=e;function i(){t("click")}return(r,a)=>(mn(),qo("button",{class:xa([{"n-button__toggle":n.buttonType===nn(Vr).TOGGLE,"n-button__toggle--unactive":!n.isActive},"n-button"]),onClick:i,type:"button"},[Ia(r.$slots,"default",{},void 0,!0)],2))}}),$c=Ji(PB,[["__scopeId","data-v-a959eea7"]]),NB={class:"w-screen h-screen fixed top-0 left-0 z-10 bg-gray-300 p-5"},DB={class:"flex justify-end items-center flex-row"},FB={class:"w-full max-w-3xl mx-auto"},HB={class:"text-3xl font-medium mb-6"},UB={__name:"FullPageModal",props:{title:{type:String,default:()=>{}}},emits:["close"],setup(n,{emit:e}){const t=e,i=()=>{t("close")};return(r,a)=>(mn(),qo("div",NB,[It("div",DB,[at($c,{onClick:i},{default:pn(()=>[ho("關閉")]),_:1})]),It("div",FB,[It("div",HB,Ap(n.title),1),It("div",null,[Ia(r.$slots,"default")])])]))}};var va={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */va.exports;(function(n,e){(function(){var t,i="4.17.21",r=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",u="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",h=500,g="__lodash_placeholder__",p=1,m=2,k=4,v=1,b=2,w=1,_=2,E=4,S=8,M=16,O=32,P=64,U=128,T=256,I=512,F=30,W="...",z=800,Z=16,he=1,oe=2,me=3,we=1/0,J=9007199254740991,ae=17976931348623157e292,pe=NaN,_e=4294967295,Be=_e-1,Ce=_e>>>1,ke=[["ary",U],["bind",w],["bindKey",_],["curry",S],["curryRight",M],["flip",I],["partial",O],["partialRight",P],["rearg",T]],Oe="[object Arguments]",ve="[object Array]",j="[object AsyncFunction]",le="[object Boolean]",se="[object Date]",ie="[object DOMException]",je="[object Error]",Qe="[object Function]",B="[object GeneratorFunction]",A="[object Map]",H="[object Number]",K="[object Null]",q="[object Object]",re="[object Promise]",ue="[object Proxy]",ne="[object RegExp]",Q="[object Set]",ee="[object String]",fe="[object Symbol]",xe="[object Undefined]",be="[object WeakMap]",Le="[object WeakSet]",Re="[object ArrayBuffer]",He="[object DataView]",et="[object Float32Array]",ut="[object Float64Array]",Ct="[object Int8Array]",ce="[object Int16Array]",Ie="[object Int32Array]",qe="[object Uint8Array]",dt="[object Uint8ClampedArray]",Ge="[object Uint16Array]",tt="[object Uint32Array]",Gt=/\b__p \+= '';/g,Mn=/\b(__p \+=) '' \+/g,zn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,vn=/&(?:amp|lt|gt|quot|#39);/g,$n=/[&<>"']/g,bo=RegExp(vn.source),Yt=RegExp($n.source),Hm=/<%-([\s\S]+?)%>/g,Um=/<%([\s\S]+?)%>/g,Iu=/<%=([\s\S]+?)%>/g,zm=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$m=/^\w*$/,jm=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Na=/[\\^$.*+?()[\]{}|]/g,Wm=RegExp(Na.source),Da=/^\s+/,qm=/\s/,Vm=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Km=/\{\n\/\* \[wrapped with (.+)\] \*/,Gm=/,? & /,Ym=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Xm=/[()=,{}\[\]\/\s]/,Zm=/\\(\\)?/g,Jm=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Lu=/\w*$/,Qm=/^[-+]0x[0-9a-f]+$/i,ev=/^0b[01]+$/i,tv=/^\[object .+?Constructor\]$/,nv=/^0o[0-7]+$/i,ov=/^(?:0|[1-9]\d*)$/,iv=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Qr=/($^)/,rv=/['\n\r\u2028\u2029\\]/g,es="\\ud800-\\udfff",sv="\\u0300-\\u036f",av="\\ufe20-\\ufe2f",lv="\\u20d0-\\u20ff",Au=sv+av+lv,Mu="\\u2700-\\u27bf",Ou="a-z\\xdf-\\xf6\\xf8-\\xff",cv="\\xac\\xb1\\xd7\\xf7",uv="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",dv="\\u2000-\\u206f",hv=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ru="A-Z\\xc0-\\xd6\\xd8-\\xde",Pu="\\ufe0e\\ufe0f",Nu=cv+uv+dv+hv,Fa="['’]",fv="["+es+"]",Du="["+Nu+"]",ts="["+Au+"]",Fu="\\d+",pv="["+Mu+"]",Hu="["+Ou+"]",Uu="[^"+es+Nu+Fu+Mu+Ou+Ru+"]",Ha="\\ud83c[\\udffb-\\udfff]",gv="(?:"+ts+"|"+Ha+")",zu="[^"+es+"]",Ua="(?:\\ud83c[\\udde6-\\uddff]){2}",za="[\\ud800-\\udbff][\\udc00-\\udfff]",wi="["+Ru+"]",$u="\\u200d",ju="(?:"+Hu+"|"+Uu+")",mv="(?:"+wi+"|"+Uu+")",Wu="(?:"+Fa+"(?:d|ll|m|re|s|t|ve))?",qu="(?:"+Fa+"(?:D|LL|M|RE|S|T|VE))?",Vu=gv+"?",Ku="["+Pu+"]?",vv="(?:"+$u+"(?:"+[zu,Ua,za].join("|")+")"+Ku+Vu+")*",bv="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",yv="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Gu=Ku+Vu+vv,wv="(?:"+[pv,Ua,za].join("|")+")"+Gu,kv="(?:"+[zu+ts+"?",ts,Ua,za,fv].join("|")+")",xv=RegExp(Fa,"g"),_v=RegExp(ts,"g"),$a=RegExp(Ha+"(?="+Ha+")|"+kv+Gu,"g"),Cv=RegExp([wi+"?"+Hu+"+"+Wu+"(?="+[Du,wi,"$"].join("|")+")",mv+"+"+qu+"(?="+[Du,wi+ju,"$"].join("|")+")",wi+"?"+ju+"+"+Wu,wi+"+"+qu,yv,bv,Fu,wv].join("|"),"g"),Ev=RegExp("["+$u+es+Au+Pu+"]"),Sv=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Tv=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Bv=-1,ht={};ht[et]=ht[ut]=ht[Ct]=ht[ce]=ht[Ie]=ht[qe]=ht[dt]=ht[Ge]=ht[tt]=!0,ht[Oe]=ht[ve]=ht[Re]=ht[le]=ht[He]=ht[se]=ht[je]=ht[Qe]=ht[A]=ht[H]=ht[q]=ht[ne]=ht[Q]=ht[ee]=ht[be]=!1;var ct={};ct[Oe]=ct[ve]=ct[Re]=ct[He]=ct[le]=ct[se]=ct[et]=ct[ut]=ct[Ct]=ct[ce]=ct[Ie]=ct[A]=ct[H]=ct[q]=ct[ne]=ct[Q]=ct[ee]=ct[fe]=ct[qe]=ct[dt]=ct[Ge]=ct[tt]=!0,ct[je]=ct[Qe]=ct[be]=!1;var Iv={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Lv={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Av={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Mv={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ov=parseFloat,Rv=parseInt,Yu=typeof _r=="object"&&_r&&_r.Object===Object&&_r,Pv=typeof self=="object"&&self&&self.Object===Object&&self,Mt=Yu||Pv||Function("return this")(),ja=e&&!e.nodeType&&e,Ko=ja&&!0&&n&&!n.nodeType&&n,Xu=Ko&&Ko.exports===ja,Wa=Xu&&Yu.process,bn=function(){try{var N=Ko&&Ko.require&&Ko.require("util").types;return N||Wa&&Wa.binding&&Wa.binding("util")}catch{}}(),Zu=bn&&bn.isArrayBuffer,Ju=bn&&bn.isDate,Qu=bn&&bn.isMap,ed=bn&&bn.isRegExp,td=bn&&bn.isSet,nd=bn&&bn.isTypedArray;function rn(N,V,$){switch($.length){case 0:return N.call(V);case 1:return N.call(V,$[0]);case 2:return N.call(V,$[0],$[1]);case 3:return N.call(V,$[0],$[1],$[2])}return N.apply(V,$)}function Nv(N,V,$,ge){for(var Pe=-1,Je=N==null?0:N.length;++Pe<Je;){var St=N[Pe];V(ge,St,$(St),N)}return ge}function yn(N,V){for(var $=-1,ge=N==null?0:N.length;++$<ge&&V(N[$],$,N)!==!1;);return N}function Dv(N,V){for(var $=N==null?0:N.length;$--&&V(N[$],$,N)!==!1;);return N}function od(N,V){for(var $=-1,ge=N==null?0:N.length;++$<ge;)if(!V(N[$],$,N))return!1;return!0}function yo(N,V){for(var $=-1,ge=N==null?0:N.length,Pe=0,Je=[];++$<ge;){var St=N[$];V(St,$,N)&&(Je[Pe++]=St)}return Je}function ns(N,V){var $=N==null?0:N.length;return!!$&&ki(N,V,0)>-1}function qa(N,V,$){for(var ge=-1,Pe=N==null?0:N.length;++ge<Pe;)if($(V,N[ge]))return!0;return!1}function pt(N,V){for(var $=-1,ge=N==null?0:N.length,Pe=Array(ge);++$<ge;)Pe[$]=V(N[$],$,N);return Pe}function wo(N,V){for(var $=-1,ge=V.length,Pe=N.length;++$<ge;)N[Pe+$]=V[$];return N}function Va(N,V,$,ge){var Pe=-1,Je=N==null?0:N.length;for(ge&&Je&&($=N[++Pe]);++Pe<Je;)$=V($,N[Pe],Pe,N);return $}function Fv(N,V,$,ge){var Pe=N==null?0:N.length;for(ge&&Pe&&($=N[--Pe]);Pe--;)$=V($,N[Pe],Pe,N);return $}function Ka(N,V){for(var $=-1,ge=N==null?0:N.length;++$<ge;)if(V(N[$],$,N))return!0;return!1}var Hv=Ga("length");function Uv(N){return N.split("")}function zv(N){return N.match(Ym)||[]}function id(N,V,$){var ge;return $(N,function(Pe,Je,St){if(V(Pe,Je,St))return ge=Je,!1}),ge}function os(N,V,$,ge){for(var Pe=N.length,Je=$+(ge?1:-1);ge?Je--:++Je<Pe;)if(V(N[Je],Je,N))return Je;return-1}function ki(N,V,$){return V===V?Qv(N,V,$):os(N,rd,$)}function $v(N,V,$,ge){for(var Pe=$-1,Je=N.length;++Pe<Je;)if(ge(N[Pe],V))return Pe;return-1}function rd(N){return N!==N}function sd(N,V){var $=N==null?0:N.length;return $?Xa(N,V)/$:pe}function Ga(N){return function(V){return V==null?t:V[N]}}function Ya(N){return function(V){return N==null?t:N[V]}}function ad(N,V,$,ge,Pe){return Pe(N,function(Je,St,lt){$=ge?(ge=!1,Je):V($,Je,St,lt)}),$}function jv(N,V){var $=N.length;for(N.sort(V);$--;)N[$]=N[$].value;return N}function Xa(N,V){for(var $,ge=-1,Pe=N.length;++ge<Pe;){var Je=V(N[ge]);Je!==t&&($=$===t?Je:$+Je)}return $}function Za(N,V){for(var $=-1,ge=Array(N);++$<N;)ge[$]=V($);return ge}function Wv(N,V){return pt(V,function($){return[$,N[$]]})}function ld(N){return N&&N.slice(0,hd(N)+1).replace(Da,"")}function sn(N){return function(V){return N(V)}}function Ja(N,V){return pt(V,function($){return N[$]})}function tr(N,V){return N.has(V)}function cd(N,V){for(var $=-1,ge=N.length;++$<ge&&ki(V,N[$],0)>-1;);return $}function ud(N,V){for(var $=N.length;$--&&ki(V,N[$],0)>-1;);return $}function qv(N,V){for(var $=N.length,ge=0;$--;)N[$]===V&&++ge;return ge}var Vv=Ya(Iv),Kv=Ya(Lv);function Gv(N){return"\\"+Mv[N]}function Yv(N,V){return N==null?t:N[V]}function xi(N){return Ev.test(N)}function Xv(N){return Sv.test(N)}function Zv(N){for(var V,$=[];!(V=N.next()).done;)$.push(V.value);return $}function Qa(N){var V=-1,$=Array(N.size);return N.forEach(function(ge,Pe){$[++V]=[Pe,ge]}),$}function dd(N,V){return function($){return N(V($))}}function ko(N,V){for(var $=-1,ge=N.length,Pe=0,Je=[];++$<ge;){var St=N[$];(St===V||St===g)&&(N[$]=g,Je[Pe++]=$)}return Je}function is(N){var V=-1,$=Array(N.size);return N.forEach(function(ge){$[++V]=ge}),$}function Jv(N){var V=-1,$=Array(N.size);return N.forEach(function(ge){$[++V]=[ge,ge]}),$}function Qv(N,V,$){for(var ge=$-1,Pe=N.length;++ge<Pe;)if(N[ge]===V)return ge;return-1}function e0(N,V,$){for(var ge=$+1;ge--;)if(N[ge]===V)return ge;return ge}function _i(N){return xi(N)?n0(N):Hv(N)}function On(N){return xi(N)?o0(N):Uv(N)}function hd(N){for(var V=N.length;V--&&qm.test(N.charAt(V)););return V}var t0=Ya(Av);function n0(N){for(var V=$a.lastIndex=0;$a.test(N);)++V;return V}function o0(N){return N.match($a)||[]}function i0(N){return N.match(Cv)||[]}var r0=function N(V){V=V==null?Mt:Ci.defaults(Mt.Object(),V,Ci.pick(Mt,Tv));var $=V.Array,ge=V.Date,Pe=V.Error,Je=V.Function,St=V.Math,lt=V.Object,el=V.RegExp,s0=V.String,wn=V.TypeError,rs=$.prototype,a0=Je.prototype,Ei=lt.prototype,ss=V["__core-js_shared__"],as=a0.toString,it=Ei.hasOwnProperty,l0=0,fd=function(){var o=/[^.]+$/.exec(ss&&ss.keys&&ss.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),ls=Ei.toString,c0=as.call(lt),u0=Mt._,d0=el("^"+as.call(it).replace(Na,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),cs=Xu?V.Buffer:t,xo=V.Symbol,us=V.Uint8Array,pd=cs?cs.allocUnsafe:t,ds=dd(lt.getPrototypeOf,lt),gd=lt.create,md=Ei.propertyIsEnumerable,hs=rs.splice,vd=xo?xo.isConcatSpreadable:t,nr=xo?xo.iterator:t,Go=xo?xo.toStringTag:t,fs=function(){try{var o=Qo(lt,"defineProperty");return o({},"",{}),o}catch{}}(),h0=V.clearTimeout!==Mt.clearTimeout&&V.clearTimeout,f0=ge&&ge.now!==Mt.Date.now&&ge.now,p0=V.setTimeout!==Mt.setTimeout&&V.setTimeout,ps=St.ceil,gs=St.floor,tl=lt.getOwnPropertySymbols,g0=cs?cs.isBuffer:t,bd=V.isFinite,m0=rs.join,v0=dd(lt.keys,lt),Tt=St.max,Nt=St.min,b0=ge.now,y0=V.parseInt,yd=St.random,w0=rs.reverse,nl=Qo(V,"DataView"),or=Qo(V,"Map"),ol=Qo(V,"Promise"),Si=Qo(V,"Set"),ir=Qo(V,"WeakMap"),rr=Qo(lt,"create"),ms=ir&&new ir,Ti={},k0=ei(nl),x0=ei(or),_0=ei(ol),C0=ei(Si),E0=ei(ir),vs=xo?xo.prototype:t,sr=vs?vs.valueOf:t,wd=vs?vs.toString:t;function x(o){if(yt(o)&&!De(o)&&!(o instanceof Ve)){if(o instanceof kn)return o;if(it.call(o,"__wrapped__"))return kh(o)}return new kn(o)}var Bi=function(){function o(){}return function(s){if(!vt(s))return{};if(gd)return gd(s);o.prototype=s;var c=new o;return o.prototype=t,c}}();function bs(){}function kn(o,s){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!s,this.__index__=0,this.__values__=t}x.templateSettings={escape:Hm,evaluate:Um,interpolate:Iu,variable:"",imports:{_:x}},x.prototype=bs.prototype,x.prototype.constructor=x,kn.prototype=Bi(bs.prototype),kn.prototype.constructor=kn;function Ve(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=_e,this.__views__=[]}function S0(){var o=new Ve(this.__wrapped__);return o.__actions__=Xt(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=Xt(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=Xt(this.__views__),o}function T0(){if(this.__filtered__){var o=new Ve(this);o.__dir__=-1,o.__filtered__=!0}else o=this.clone(),o.__dir__*=-1;return o}function B0(){var o=this.__wrapped__.value(),s=this.__dir__,c=De(o),f=s<0,y=c?o.length:0,C=Ub(0,y,this.__views__),L=C.start,R=C.end,D=R-L,G=f?R:L-1,X=this.__iteratees__,te=X.length,de=0,ye=Nt(D,this.__takeCount__);if(!c||!f&&y==D&&ye==D)return Wd(o,this.__actions__);var Se=[];e:for(;D--&&de<ye;){G+=s;for(var ze=-1,Te=o[G];++ze<te;){var We=X[ze],Ke=We.iteratee,cn=We.type,$t=Ke(Te);if(cn==oe)Te=$t;else if(!$t){if(cn==he)continue e;break e}}Se[de++]=Te}return Se}Ve.prototype=Bi(bs.prototype),Ve.prototype.constructor=Ve;function Yo(o){var s=-1,c=o==null?0:o.length;for(this.clear();++s<c;){var f=o[s];this.set(f[0],f[1])}}function I0(){this.__data__=rr?rr(null):{},this.size=0}function L0(o){var s=this.has(o)&&delete this.__data__[o];return this.size-=s?1:0,s}function A0(o){var s=this.__data__;if(rr){var c=s[o];return c===d?t:c}return it.call(s,o)?s[o]:t}function M0(o){var s=this.__data__;return rr?s[o]!==t:it.call(s,o)}function O0(o,s){var c=this.__data__;return this.size+=this.has(o)?0:1,c[o]=rr&&s===t?d:s,this}Yo.prototype.clear=I0,Yo.prototype.delete=L0,Yo.prototype.get=A0,Yo.prototype.has=M0,Yo.prototype.set=O0;function Qn(o){var s=-1,c=o==null?0:o.length;for(this.clear();++s<c;){var f=o[s];this.set(f[0],f[1])}}function R0(){this.__data__=[],this.size=0}function P0(o){var s=this.__data__,c=ys(s,o);if(c<0)return!1;var f=s.length-1;return c==f?s.pop():hs.call(s,c,1),--this.size,!0}function N0(o){var s=this.__data__,c=ys(s,o);return c<0?t:s[c][1]}function D0(o){return ys(this.__data__,o)>-1}function F0(o,s){var c=this.__data__,f=ys(c,o);return f<0?(++this.size,c.push([o,s])):c[f][1]=s,this}Qn.prototype.clear=R0,Qn.prototype.delete=P0,Qn.prototype.get=N0,Qn.prototype.has=D0,Qn.prototype.set=F0;function eo(o){var s=-1,c=o==null?0:o.length;for(this.clear();++s<c;){var f=o[s];this.set(f[0],f[1])}}function H0(){this.size=0,this.__data__={hash:new Yo,map:new(or||Qn),string:new Yo}}function U0(o){var s=As(this,o).delete(o);return this.size-=s?1:0,s}function z0(o){return As(this,o).get(o)}function $0(o){return As(this,o).has(o)}function j0(o,s){var c=As(this,o),f=c.size;return c.set(o,s),this.size+=c.size==f?0:1,this}eo.prototype.clear=H0,eo.prototype.delete=U0,eo.prototype.get=z0,eo.prototype.has=$0,eo.prototype.set=j0;function Xo(o){var s=-1,c=o==null?0:o.length;for(this.__data__=new eo;++s<c;)this.add(o[s])}function W0(o){return this.__data__.set(o,d),this}function q0(o){return this.__data__.has(o)}Xo.prototype.add=Xo.prototype.push=W0,Xo.prototype.has=q0;function Rn(o){var s=this.__data__=new Qn(o);this.size=s.size}function V0(){this.__data__=new Qn,this.size=0}function K0(o){var s=this.__data__,c=s.delete(o);return this.size=s.size,c}function G0(o){return this.__data__.get(o)}function Y0(o){return this.__data__.has(o)}function X0(o,s){var c=this.__data__;if(c instanceof Qn){var f=c.__data__;if(!or||f.length<r-1)return f.push([o,s]),this.size=++c.size,this;c=this.__data__=new eo(f)}return c.set(o,s),this.size=c.size,this}Rn.prototype.clear=V0,Rn.prototype.delete=K0,Rn.prototype.get=G0,Rn.prototype.has=Y0,Rn.prototype.set=X0;function kd(o,s){var c=De(o),f=!c&&ti(o),y=!c&&!f&&To(o),C=!c&&!f&&!y&&Mi(o),L=c||f||y||C,R=L?Za(o.length,s0):[],D=R.length;for(var G in o)(s||it.call(o,G))&&!(L&&(G=="length"||y&&(G=="offset"||G=="parent")||C&&(G=="buffer"||G=="byteLength"||G=="byteOffset")||io(G,D)))&&R.push(G);return R}function xd(o){var s=o.length;return s?o[pl(0,s-1)]:t}function Z0(o,s){return Ms(Xt(o),Zo(s,0,o.length))}function J0(o){return Ms(Xt(o))}function il(o,s,c){(c!==t&&!Pn(o[s],c)||c===t&&!(s in o))&&to(o,s,c)}function ar(o,s,c){var f=o[s];(!(it.call(o,s)&&Pn(f,c))||c===t&&!(s in o))&&to(o,s,c)}function ys(o,s){for(var c=o.length;c--;)if(Pn(o[c][0],s))return c;return-1}function Q0(o,s,c,f){return _o(o,function(y,C,L){s(f,y,c(y),L)}),f}function _d(o,s){return o&&Wn(s,At(s),o)}function eb(o,s){return o&&Wn(s,Jt(s),o)}function to(o,s,c){s=="__proto__"&&fs?fs(o,s,{configurable:!0,enumerable:!0,value:c,writable:!0}):o[s]=c}function rl(o,s){for(var c=-1,f=s.length,y=$(f),C=o==null;++c<f;)y[c]=C?t:Hl(o,s[c]);return y}function Zo(o,s,c){return o===o&&(c!==t&&(o=o<=c?o:c),s!==t&&(o=o>=s?o:s)),o}function xn(o,s,c,f,y,C){var L,R=s&p,D=s&m,G=s&k;if(c&&(L=y?c(o,f,y,C):c(o)),L!==t)return L;if(!vt(o))return o;var X=De(o);if(X){if(L=$b(o),!R)return Xt(o,L)}else{var te=Dt(o),de=te==Qe||te==B;if(To(o))return Kd(o,R);if(te==q||te==Oe||de&&!y){if(L=D||de?{}:hh(o),!R)return D?Ab(o,eb(L,o)):Lb(o,_d(L,o))}else{if(!ct[te])return y?o:{};L=jb(o,te,R)}}C||(C=new Rn);var ye=C.get(o);if(ye)return ye;C.set(o,L),zh(o)?o.forEach(function(Te){L.add(xn(Te,s,c,Te,o,C))}):Hh(o)&&o.forEach(function(Te,We){L.set(We,xn(Te,s,c,We,o,C))});var Se=G?D?El:Cl:D?Jt:At,ze=X?t:Se(o);return yn(ze||o,function(Te,We){ze&&(We=Te,Te=o[We]),ar(L,We,xn(Te,s,c,We,o,C))}),L}function tb(o){var s=At(o);return function(c){return Cd(c,o,s)}}function Cd(o,s,c){var f=c.length;if(o==null)return!f;for(o=lt(o);f--;){var y=c[f],C=s[y],L=o[y];if(L===t&&!(y in o)||!C(L))return!1}return!0}function Ed(o,s,c){if(typeof o!="function")throw new wn(l);return pr(function(){o.apply(t,c)},s)}function lr(o,s,c,f){var y=-1,C=ns,L=!0,R=o.length,D=[],G=s.length;if(!R)return D;c&&(s=pt(s,sn(c))),f?(C=qa,L=!1):s.length>=r&&(C=tr,L=!1,s=new Xo(s));e:for(;++y<R;){var X=o[y],te=c==null?X:c(X);if(X=f||X!==0?X:0,L&&te===te){for(var de=G;de--;)if(s[de]===te)continue e;D.push(X)}else C(s,te,f)||D.push(X)}return D}var _o=Jd(jn),Sd=Jd(al,!0);function nb(o,s){var c=!0;return _o(o,function(f,y,C){return c=!!s(f,y,C),c}),c}function ws(o,s,c){for(var f=-1,y=o.length;++f<y;){var C=o[f],L=s(C);if(L!=null&&(R===t?L===L&&!ln(L):c(L,R)))var R=L,D=C}return D}function ob(o,s,c,f){var y=o.length;for(c=Ue(c),c<0&&(c=-c>y?0:y+c),f=f===t||f>y?y:Ue(f),f<0&&(f+=y),f=c>f?0:jh(f);c<f;)o[c++]=s;return o}function Td(o,s){var c=[];return _o(o,function(f,y,C){s(f,y,C)&&c.push(f)}),c}function Ot(o,s,c,f,y){var C=-1,L=o.length;for(c||(c=qb),y||(y=[]);++C<L;){var R=o[C];s>0&&c(R)?s>1?Ot(R,s-1,c,f,y):wo(y,R):f||(y[y.length]=R)}return y}var sl=Qd(),Bd=Qd(!0);function jn(o,s){return o&&sl(o,s,At)}function al(o,s){return o&&Bd(o,s,At)}function ks(o,s){return yo(s,function(c){return ro(o[c])})}function Jo(o,s){s=Eo(s,o);for(var c=0,f=s.length;o!=null&&c<f;)o=o[qn(s[c++])];return c&&c==f?o:t}function Id(o,s,c){var f=s(o);return De(o)?f:wo(f,c(o))}function Ut(o){return o==null?o===t?xe:K:Go&&Go in lt(o)?Hb(o):Jb(o)}function ll(o,s){return o>s}function ib(o,s){return o!=null&&it.call(o,s)}function rb(o,s){return o!=null&&s in lt(o)}function sb(o,s,c){return o>=Nt(s,c)&&o<Tt(s,c)}function cl(o,s,c){for(var f=c?qa:ns,y=o[0].length,C=o.length,L=C,R=$(C),D=1/0,G=[];L--;){var X=o[L];L&&s&&(X=pt(X,sn(s))),D=Nt(X.length,D),R[L]=!c&&(s||y>=120&&X.length>=120)?new Xo(L&&X):t}X=o[0];var te=-1,de=R[0];e:for(;++te<y&&G.length<D;){var ye=X[te],Se=s?s(ye):ye;if(ye=c||ye!==0?ye:0,!(de?tr(de,Se):f(G,Se,c))){for(L=C;--L;){var ze=R[L];if(!(ze?tr(ze,Se):f(o[L],Se,c)))continue e}de&&de.push(Se),G.push(ye)}}return G}function ab(o,s,c,f){return jn(o,function(y,C,L){s(f,c(y),C,L)}),f}function cr(o,s,c){s=Eo(s,o),o=mh(o,s);var f=o==null?o:o[qn(Cn(s))];return f==null?t:rn(f,o,c)}function Ld(o){return yt(o)&&Ut(o)==Oe}function lb(o){return yt(o)&&Ut(o)==Re}function cb(o){return yt(o)&&Ut(o)==se}function ur(o,s,c,f,y){return o===s?!0:o==null||s==null||!yt(o)&&!yt(s)?o!==o&&s!==s:ub(o,s,c,f,ur,y)}function ub(o,s,c,f,y,C){var L=De(o),R=De(s),D=L?ve:Dt(o),G=R?ve:Dt(s);D=D==Oe?q:D,G=G==Oe?q:G;var X=D==q,te=G==q,de=D==G;if(de&&To(o)){if(!To(s))return!1;L=!0,X=!1}if(de&&!X)return C||(C=new Rn),L||Mi(o)?ch(o,s,c,f,y,C):Db(o,s,D,c,f,y,C);if(!(c&v)){var ye=X&&it.call(o,"__wrapped__"),Se=te&&it.call(s,"__wrapped__");if(ye||Se){var ze=ye?o.value():o,Te=Se?s.value():s;return C||(C=new Rn),y(ze,Te,c,f,C)}}return de?(C||(C=new Rn),Fb(o,s,c,f,y,C)):!1}function db(o){return yt(o)&&Dt(o)==A}function ul(o,s,c,f){var y=c.length,C=y,L=!f;if(o==null)return!C;for(o=lt(o);y--;){var R=c[y];if(L&&R[2]?R[1]!==o[R[0]]:!(R[0]in o))return!1}for(;++y<C;){R=c[y];var D=R[0],G=o[D],X=R[1];if(L&&R[2]){if(G===t&&!(D in o))return!1}else{var te=new Rn;if(f)var de=f(G,X,D,o,s,te);if(!(de===t?ur(X,G,v|b,f,te):de))return!1}}return!0}function Ad(o){if(!vt(o)||Kb(o))return!1;var s=ro(o)?d0:tv;return s.test(ei(o))}function hb(o){return yt(o)&&Ut(o)==ne}function fb(o){return yt(o)&&Dt(o)==Q}function pb(o){return yt(o)&&Fs(o.length)&&!!ht[Ut(o)]}function Md(o){return typeof o=="function"?o:o==null?Qt:typeof o=="object"?De(o)?Pd(o[0],o[1]):Rd(o):ef(o)}function dl(o){if(!fr(o))return v0(o);var s=[];for(var c in lt(o))it.call(o,c)&&c!="constructor"&&s.push(c);return s}function gb(o){if(!vt(o))return Zb(o);var s=fr(o),c=[];for(var f in o)f=="constructor"&&(s||!it.call(o,f))||c.push(f);return c}function hl(o,s){return o<s}function Od(o,s){var c=-1,f=Zt(o)?$(o.length):[];return _o(o,function(y,C,L){f[++c]=s(y,C,L)}),f}function Rd(o){var s=Tl(o);return s.length==1&&s[0][2]?ph(s[0][0],s[0][1]):function(c){return c===o||ul(c,o,s)}}function Pd(o,s){return Il(o)&&fh(s)?ph(qn(o),s):function(c){var f=Hl(c,o);return f===t&&f===s?Ul(c,o):ur(s,f,v|b)}}function xs(o,s,c,f,y){o!==s&&sl(s,function(C,L){if(y||(y=new Rn),vt(C))mb(o,s,L,c,xs,f,y);else{var R=f?f(Al(o,L),C,L+"",o,s,y):t;R===t&&(R=C),il(o,L,R)}},Jt)}function mb(o,s,c,f,y,C,L){var R=Al(o,c),D=Al(s,c),G=L.get(D);if(G){il(o,c,G);return}var X=C?C(R,D,c+"",o,s,L):t,te=X===t;if(te){var de=De(D),ye=!de&&To(D),Se=!de&&!ye&&Mi(D);X=D,de||ye||Se?De(R)?X=R:kt(R)?X=Xt(R):ye?(te=!1,X=Kd(D,!0)):Se?(te=!1,X=Gd(D,!0)):X=[]:gr(D)||ti(D)?(X=R,ti(R)?X=Wh(R):(!vt(R)||ro(R))&&(X=hh(D))):te=!1}te&&(L.set(D,X),y(X,D,f,C,L),L.delete(D)),il(o,c,X)}function Nd(o,s){var c=o.length;if(c)return s+=s<0?c:0,io(s,c)?o[s]:t}function Dd(o,s,c){s.length?s=pt(s,function(C){return De(C)?function(L){return Jo(L,C.length===1?C[0]:C)}:C}):s=[Qt];var f=-1;s=pt(s,sn(Ee()));var y=Od(o,function(C,L,R){var D=pt(s,function(G){return G(C)});return{criteria:D,index:++f,value:C}});return jv(y,function(C,L){return Ib(C,L,c)})}function vb(o,s){return Fd(o,s,function(c,f){return Ul(o,f)})}function Fd(o,s,c){for(var f=-1,y=s.length,C={};++f<y;){var L=s[f],R=Jo(o,L);c(R,L)&&dr(C,Eo(L,o),R)}return C}function bb(o){return function(s){return Jo(s,o)}}function fl(o,s,c,f){var y=f?$v:ki,C=-1,L=s.length,R=o;for(o===s&&(s=Xt(s)),c&&(R=pt(o,sn(c)));++C<L;)for(var D=0,G=s[C],X=c?c(G):G;(D=y(R,X,D,f))>-1;)R!==o&&hs.call(R,D,1),hs.call(o,D,1);return o}function Hd(o,s){for(var c=o?s.length:0,f=c-1;c--;){var y=s[c];if(c==f||y!==C){var C=y;io(y)?hs.call(o,y,1):vl(o,y)}}return o}function pl(o,s){return o+gs(yd()*(s-o+1))}function yb(o,s,c,f){for(var y=-1,C=Tt(ps((s-o)/(c||1)),0),L=$(C);C--;)L[f?C:++y]=o,o+=c;return L}function gl(o,s){var c="";if(!o||s<1||s>J)return c;do s%2&&(c+=o),s=gs(s/2),s&&(o+=o);while(s);return c}function $e(o,s){return Ml(gh(o,s,Qt),o+"")}function wb(o){return xd(Oi(o))}function kb(o,s){var c=Oi(o);return Ms(c,Zo(s,0,c.length))}function dr(o,s,c,f){if(!vt(o))return o;s=Eo(s,o);for(var y=-1,C=s.length,L=C-1,R=o;R!=null&&++y<C;){var D=qn(s[y]),G=c;if(D==="__proto__"||D==="constructor"||D==="prototype")return o;if(y!=L){var X=R[D];G=f?f(X,D,R):t,G===t&&(G=vt(X)?X:io(s[y+1])?[]:{})}ar(R,D,G),R=R[D]}return o}var Ud=ms?function(o,s){return ms.set(o,s),o}:Qt,xb=fs?function(o,s){return fs(o,"toString",{configurable:!0,enumerable:!1,value:$l(s),writable:!0})}:Qt;function _b(o){return Ms(Oi(o))}function _n(o,s,c){var f=-1,y=o.length;s<0&&(s=-s>y?0:y+s),c=c>y?y:c,c<0&&(c+=y),y=s>c?0:c-s>>>0,s>>>=0;for(var C=$(y);++f<y;)C[f]=o[f+s];return C}function Cb(o,s){var c;return _o(o,function(f,y,C){return c=s(f,y,C),!c}),!!c}function _s(o,s,c){var f=0,y=o==null?f:o.length;if(typeof s=="number"&&s===s&&y<=Ce){for(;f<y;){var C=f+y>>>1,L=o[C];L!==null&&!ln(L)&&(c?L<=s:L<s)?f=C+1:y=C}return y}return ml(o,s,Qt,c)}function ml(o,s,c,f){var y=0,C=o==null?0:o.length;if(C===0)return 0;s=c(s);for(var L=s!==s,R=s===null,D=ln(s),G=s===t;y<C;){var X=gs((y+C)/2),te=c(o[X]),de=te!==t,ye=te===null,Se=te===te,ze=ln(te);if(L)var Te=f||Se;else G?Te=Se&&(f||de):R?Te=Se&&de&&(f||!ye):D?Te=Se&&de&&!ye&&(f||!ze):ye||ze?Te=!1:Te=f?te<=s:te<s;Te?y=X+1:C=X}return Nt(C,Be)}function zd(o,s){for(var c=-1,f=o.length,y=0,C=[];++c<f;){var L=o[c],R=s?s(L):L;if(!c||!Pn(R,D)){var D=R;C[y++]=L===0?0:L}}return C}function $d(o){return typeof o=="number"?o:ln(o)?pe:+o}function an(o){if(typeof o=="string")return o;if(De(o))return pt(o,an)+"";if(ln(o))return wd?wd.call(o):"";var s=o+"";return s=="0"&&1/o==-we?"-0":s}function Co(o,s,c){var f=-1,y=ns,C=o.length,L=!0,R=[],D=R;if(c)L=!1,y=qa;else if(C>=r){var G=s?null:Pb(o);if(G)return is(G);L=!1,y=tr,D=new Xo}else D=s?[]:R;e:for(;++f<C;){var X=o[f],te=s?s(X):X;if(X=c||X!==0?X:0,L&&te===te){for(var de=D.length;de--;)if(D[de]===te)continue e;s&&D.push(te),R.push(X)}else y(D,te,c)||(D!==R&&D.push(te),R.push(X))}return R}function vl(o,s){return s=Eo(s,o),o=mh(o,s),o==null||delete o[qn(Cn(s))]}function jd(o,s,c,f){return dr(o,s,c(Jo(o,s)),f)}function Cs(o,s,c,f){for(var y=o.length,C=f?y:-1;(f?C--:++C<y)&&s(o[C],C,o););return c?_n(o,f?0:C,f?C+1:y):_n(o,f?C+1:0,f?y:C)}function Wd(o,s){var c=o;return c instanceof Ve&&(c=c.value()),Va(s,function(f,y){return y.func.apply(y.thisArg,wo([f],y.args))},c)}function bl(o,s,c){var f=o.length;if(f<2)return f?Co(o[0]):[];for(var y=-1,C=$(f);++y<f;)for(var L=o[y],R=-1;++R<f;)R!=y&&(C[y]=lr(C[y]||L,o[R],s,c));return Co(Ot(C,1),s,c)}function qd(o,s,c){for(var f=-1,y=o.length,C=s.length,L={};++f<y;){var R=f<C?s[f]:t;c(L,o[f],R)}return L}function yl(o){return kt(o)?o:[]}function wl(o){return typeof o=="function"?o:Qt}function Eo(o,s){return De(o)?o:Il(o,s)?[o]:wh(nt(o))}var Eb=$e;function So(o,s,c){var f=o.length;return c=c===t?f:c,!s&&c>=f?o:_n(o,s,c)}var Vd=h0||function(o){return Mt.clearTimeout(o)};function Kd(o,s){if(s)return o.slice();var c=o.length,f=pd?pd(c):new o.constructor(c);return o.copy(f),f}function kl(o){var s=new o.constructor(o.byteLength);return new us(s).set(new us(o)),s}function Sb(o,s){var c=s?kl(o.buffer):o.buffer;return new o.constructor(c,o.byteOffset,o.byteLength)}function Tb(o){var s=new o.constructor(o.source,Lu.exec(o));return s.lastIndex=o.lastIndex,s}function Bb(o){return sr?lt(sr.call(o)):{}}function Gd(o,s){var c=s?kl(o.buffer):o.buffer;return new o.constructor(c,o.byteOffset,o.length)}function Yd(o,s){if(o!==s){var c=o!==t,f=o===null,y=o===o,C=ln(o),L=s!==t,R=s===null,D=s===s,G=ln(s);if(!R&&!G&&!C&&o>s||C&&L&&D&&!R&&!G||f&&L&&D||!c&&D||!y)return 1;if(!f&&!C&&!G&&o<s||G&&c&&y&&!f&&!C||R&&c&&y||!L&&y||!D)return-1}return 0}function Ib(o,s,c){for(var f=-1,y=o.criteria,C=s.criteria,L=y.length,R=c.length;++f<L;){var D=Yd(y[f],C[f]);if(D){if(f>=R)return D;var G=c[f];return D*(G=="desc"?-1:1)}}return o.index-s.index}function Xd(o,s,c,f){for(var y=-1,C=o.length,L=c.length,R=-1,D=s.length,G=Tt(C-L,0),X=$(D+G),te=!f;++R<D;)X[R]=s[R];for(;++y<L;)(te||y<C)&&(X[c[y]]=o[y]);for(;G--;)X[R++]=o[y++];return X}function Zd(o,s,c,f){for(var y=-1,C=o.length,L=-1,R=c.length,D=-1,G=s.length,X=Tt(C-R,0),te=$(X+G),de=!f;++y<X;)te[y]=o[y];for(var ye=y;++D<G;)te[ye+D]=s[D];for(;++L<R;)(de||y<C)&&(te[ye+c[L]]=o[y++]);return te}function Xt(o,s){var c=-1,f=o.length;for(s||(s=$(f));++c<f;)s[c]=o[c];return s}function Wn(o,s,c,f){var y=!c;c||(c={});for(var C=-1,L=s.length;++C<L;){var R=s[C],D=f?f(c[R],o[R],R,c,o):t;D===t&&(D=o[R]),y?to(c,R,D):ar(c,R,D)}return c}function Lb(o,s){return Wn(o,Bl(o),s)}function Ab(o,s){return Wn(o,uh(o),s)}function Es(o,s){return function(c,f){var y=De(c)?Nv:Q0,C=s?s():{};return y(c,o,Ee(f,2),C)}}function Ii(o){return $e(function(s,c){var f=-1,y=c.length,C=y>1?c[y-1]:t,L=y>2?c[2]:t;for(C=o.length>3&&typeof C=="function"?(y--,C):t,L&&zt(c[0],c[1],L)&&(C=y<3?t:C,y=1),s=lt(s);++f<y;){var R=c[f];R&&o(s,R,f,C)}return s})}function Jd(o,s){return function(c,f){if(c==null)return c;if(!Zt(c))return o(c,f);for(var y=c.length,C=s?y:-1,L=lt(c);(s?C--:++C<y)&&f(L[C],C,L)!==!1;);return c}}function Qd(o){return function(s,c,f){for(var y=-1,C=lt(s),L=f(s),R=L.length;R--;){var D=L[o?R:++y];if(c(C[D],D,C)===!1)break}return s}}function Mb(o,s,c){var f=s&w,y=hr(o);function C(){var L=this&&this!==Mt&&this instanceof C?y:o;return L.apply(f?c:this,arguments)}return C}function eh(o){return function(s){s=nt(s);var c=xi(s)?On(s):t,f=c?c[0]:s.charAt(0),y=c?So(c,1).join(""):s.slice(1);return f[o]()+y}}function Li(o){return function(s){return Va(Jh(Zh(s).replace(xv,"")),o,"")}}function hr(o){return function(){var s=arguments;switch(s.length){case 0:return new o;case 1:return new o(s[0]);case 2:return new o(s[0],s[1]);case 3:return new o(s[0],s[1],s[2]);case 4:return new o(s[0],s[1],s[2],s[3]);case 5:return new o(s[0],s[1],s[2],s[3],s[4]);case 6:return new o(s[0],s[1],s[2],s[3],s[4],s[5]);case 7:return new o(s[0],s[1],s[2],s[3],s[4],s[5],s[6])}var c=Bi(o.prototype),f=o.apply(c,s);return vt(f)?f:c}}function Ob(o,s,c){var f=hr(o);function y(){for(var C=arguments.length,L=$(C),R=C,D=Ai(y);R--;)L[R]=arguments[R];var G=C<3&&L[0]!==D&&L[C-1]!==D?[]:ko(L,D);if(C-=G.length,C<c)return rh(o,s,Ss,y.placeholder,t,L,G,t,t,c-C);var X=this&&this!==Mt&&this instanceof y?f:o;return rn(X,this,L)}return y}function th(o){return function(s,c,f){var y=lt(s);if(!Zt(s)){var C=Ee(c,3);s=At(s),c=function(R){return C(y[R],R,y)}}var L=o(s,c,f);return L>-1?y[C?s[L]:L]:t}}function nh(o){return oo(function(s){var c=s.length,f=c,y=kn.prototype.thru;for(o&&s.reverse();f--;){var C=s[f];if(typeof C!="function")throw new wn(l);if(y&&!L&&Ls(C)=="wrapper")var L=new kn([],!0)}for(f=L?f:c;++f<c;){C=s[f];var R=Ls(C),D=R=="wrapper"?Sl(C):t;D&&Ll(D[0])&&D[1]==(U|S|O|T)&&!D[4].length&&D[9]==1?L=L[Ls(D[0])].apply(L,D[3]):L=C.length==1&&Ll(C)?L[R]():L.thru(C)}return function(){var G=arguments,X=G[0];if(L&&G.length==1&&De(X))return L.plant(X).value();for(var te=0,de=c?s[te].apply(this,G):X;++te<c;)de=s[te].call(this,de);return de}})}function Ss(o,s,c,f,y,C,L,R,D,G){var X=s&U,te=s&w,de=s&_,ye=s&(S|M),Se=s&I,ze=de?t:hr(o);function Te(){for(var We=arguments.length,Ke=$(We),cn=We;cn--;)Ke[cn]=arguments[cn];if(ye)var $t=Ai(Te),un=qv(Ke,$t);if(f&&(Ke=Xd(Ke,f,y,ye)),C&&(Ke=Zd(Ke,C,L,ye)),We-=un,ye&&We<G){var xt=ko(Ke,$t);return rh(o,s,Ss,Te.placeholder,c,Ke,xt,R,D,G-We)}var Nn=te?c:this,ao=de?Nn[o]:o;return We=Ke.length,R?Ke=Qb(Ke,R):Se&&We>1&&Ke.reverse(),X&&D<We&&(Ke.length=D),this&&this!==Mt&&this instanceof Te&&(ao=ze||hr(ao)),ao.apply(Nn,Ke)}return Te}function oh(o,s){return function(c,f){return ab(c,o,s(f),{})}}function Ts(o,s){return function(c,f){var y;if(c===t&&f===t)return s;if(c!==t&&(y=c),f!==t){if(y===t)return f;typeof c=="string"||typeof f=="string"?(c=an(c),f=an(f)):(c=$d(c),f=$d(f)),y=o(c,f)}return y}}function xl(o){return oo(function(s){return s=pt(s,sn(Ee())),$e(function(c){var f=this;return o(s,function(y){return rn(y,f,c)})})})}function Bs(o,s){s=s===t?" ":an(s);var c=s.length;if(c<2)return c?gl(s,o):s;var f=gl(s,ps(o/_i(s)));return xi(s)?So(On(f),0,o).join(""):f.slice(0,o)}function Rb(o,s,c,f){var y=s&w,C=hr(o);function L(){for(var R=-1,D=arguments.length,G=-1,X=f.length,te=$(X+D),de=this&&this!==Mt&&this instanceof L?C:o;++G<X;)te[G]=f[G];for(;D--;)te[G++]=arguments[++R];return rn(de,y?c:this,te)}return L}function ih(o){return function(s,c,f){return f&&typeof f!="number"&&zt(s,c,f)&&(c=f=t),s=so(s),c===t?(c=s,s=0):c=so(c),f=f===t?s<c?1:-1:so(f),yb(s,c,f,o)}}function Is(o){return function(s,c){return typeof s=="string"&&typeof c=="string"||(s=En(s),c=En(c)),o(s,c)}}function rh(o,s,c,f,y,C,L,R,D,G){var X=s&S,te=X?L:t,de=X?t:L,ye=X?C:t,Se=X?t:C;s|=X?O:P,s&=~(X?P:O),s&E||(s&=~(w|_));var ze=[o,s,y,ye,te,Se,de,R,D,G],Te=c.apply(t,ze);return Ll(o)&&vh(Te,ze),Te.placeholder=f,bh(Te,o,s)}function _l(o){var s=St[o];return function(c,f){if(c=En(c),f=f==null?0:Nt(Ue(f),292),f&&bd(c)){var y=(nt(c)+"e").split("e"),C=s(y[0]+"e"+(+y[1]+f));return y=(nt(C)+"e").split("e"),+(y[0]+"e"+(+y[1]-f))}return s(c)}}var Pb=Si&&1/is(new Si([,-0]))[1]==we?function(o){return new Si(o)}:ql;function sh(o){return function(s){var c=Dt(s);return c==A?Qa(s):c==Q?Jv(s):Wv(s,o(s))}}function no(o,s,c,f,y,C,L,R){var D=s&_;if(!D&&typeof o!="function")throw new wn(l);var G=f?f.length:0;if(G||(s&=~(O|P),f=y=t),L=L===t?L:Tt(Ue(L),0),R=R===t?R:Ue(R),G-=y?y.length:0,s&P){var X=f,te=y;f=y=t}var de=D?t:Sl(o),ye=[o,s,c,f,y,X,te,C,L,R];if(de&&Xb(ye,de),o=ye[0],s=ye[1],c=ye[2],f=ye[3],y=ye[4],R=ye[9]=ye[9]===t?D?0:o.length:Tt(ye[9]-G,0),!R&&s&(S|M)&&(s&=~(S|M)),!s||s==w)var Se=Mb(o,s,c);else s==S||s==M?Se=Ob(o,s,R):(s==O||s==(w|O))&&!y.length?Se=Rb(o,s,c,f):Se=Ss.apply(t,ye);var ze=de?Ud:vh;return bh(ze(Se,ye),o,s)}function ah(o,s,c,f){return o===t||Pn(o,Ei[c])&&!it.call(f,c)?s:o}function lh(o,s,c,f,y,C){return vt(o)&&vt(s)&&(C.set(s,o),xs(o,s,t,lh,C),C.delete(s)),o}function Nb(o){return gr(o)?t:o}function ch(o,s,c,f,y,C){var L=c&v,R=o.length,D=s.length;if(R!=D&&!(L&&D>R))return!1;var G=C.get(o),X=C.get(s);if(G&&X)return G==s&&X==o;var te=-1,de=!0,ye=c&b?new Xo:t;for(C.set(o,s),C.set(s,o);++te<R;){var Se=o[te],ze=s[te];if(f)var Te=L?f(ze,Se,te,s,o,C):f(Se,ze,te,o,s,C);if(Te!==t){if(Te)continue;de=!1;break}if(ye){if(!Ka(s,function(We,Ke){if(!tr(ye,Ke)&&(Se===We||y(Se,We,c,f,C)))return ye.push(Ke)})){de=!1;break}}else if(!(Se===ze||y(Se,ze,c,f,C))){de=!1;break}}return C.delete(o),C.delete(s),de}function Db(o,s,c,f,y,C,L){switch(c){case He:if(o.byteLength!=s.byteLength||o.byteOffset!=s.byteOffset)return!1;o=o.buffer,s=s.buffer;case Re:return!(o.byteLength!=s.byteLength||!C(new us(o),new us(s)));case le:case se:case H:return Pn(+o,+s);case je:return o.name==s.name&&o.message==s.message;case ne:case ee:return o==s+"";case A:var R=Qa;case Q:var D=f&v;if(R||(R=is),o.size!=s.size&&!D)return!1;var G=L.get(o);if(G)return G==s;f|=b,L.set(o,s);var X=ch(R(o),R(s),f,y,C,L);return L.delete(o),X;case fe:if(sr)return sr.call(o)==sr.call(s)}return!1}function Fb(o,s,c,f,y,C){var L=c&v,R=Cl(o),D=R.length,G=Cl(s),X=G.length;if(D!=X&&!L)return!1;for(var te=D;te--;){var de=R[te];if(!(L?de in s:it.call(s,de)))return!1}var ye=C.get(o),Se=C.get(s);if(ye&&Se)return ye==s&&Se==o;var ze=!0;C.set(o,s),C.set(s,o);for(var Te=L;++te<D;){de=R[te];var We=o[de],Ke=s[de];if(f)var cn=L?f(Ke,We,de,s,o,C):f(We,Ke,de,o,s,C);if(!(cn===t?We===Ke||y(We,Ke,c,f,C):cn)){ze=!1;break}Te||(Te=de=="constructor")}if(ze&&!Te){var $t=o.constructor,un=s.constructor;$t!=un&&"constructor"in o&&"constructor"in s&&!(typeof $t=="function"&&$t instanceof $t&&typeof un=="function"&&un instanceof un)&&(ze=!1)}return C.delete(o),C.delete(s),ze}function oo(o){return Ml(gh(o,t,Ch),o+"")}function Cl(o){return Id(o,At,Bl)}function El(o){return Id(o,Jt,uh)}var Sl=ms?function(o){return ms.get(o)}:ql;function Ls(o){for(var s=o.name+"",c=Ti[s],f=it.call(Ti,s)?c.length:0;f--;){var y=c[f],C=y.func;if(C==null||C==o)return y.name}return s}function Ai(o){var s=it.call(x,"placeholder")?x:o;return s.placeholder}function Ee(){var o=x.iteratee||jl;return o=o===jl?Md:o,arguments.length?o(arguments[0],arguments[1]):o}function As(o,s){var c=o.__data__;return Vb(s)?c[typeof s=="string"?"string":"hash"]:c.map}function Tl(o){for(var s=At(o),c=s.length;c--;){var f=s[c],y=o[f];s[c]=[f,y,fh(y)]}return s}function Qo(o,s){var c=Yv(o,s);return Ad(c)?c:t}function Hb(o){var s=it.call(o,Go),c=o[Go];try{o[Go]=t;var f=!0}catch{}var y=ls.call(o);return f&&(s?o[Go]=c:delete o[Go]),y}var Bl=tl?function(o){return o==null?[]:(o=lt(o),yo(tl(o),function(s){return md.call(o,s)}))}:Vl,uh=tl?function(o){for(var s=[];o;)wo(s,Bl(o)),o=ds(o);return s}:Vl,Dt=Ut;(nl&&Dt(new nl(new ArrayBuffer(1)))!=He||or&&Dt(new or)!=A||ol&&Dt(ol.resolve())!=re||Si&&Dt(new Si)!=Q||ir&&Dt(new ir)!=be)&&(Dt=function(o){var s=Ut(o),c=s==q?o.constructor:t,f=c?ei(c):"";if(f)switch(f){case k0:return He;case x0:return A;case _0:return re;case C0:return Q;case E0:return be}return s});function Ub(o,s,c){for(var f=-1,y=c.length;++f<y;){var C=c[f],L=C.size;switch(C.type){case"drop":o+=L;break;case"dropRight":s-=L;break;case"take":s=Nt(s,o+L);break;case"takeRight":o=Tt(o,s-L);break}}return{start:o,end:s}}function zb(o){var s=o.match(Km);return s?s[1].split(Gm):[]}function dh(o,s,c){s=Eo(s,o);for(var f=-1,y=s.length,C=!1;++f<y;){var L=qn(s[f]);if(!(C=o!=null&&c(o,L)))break;o=o[L]}return C||++f!=y?C:(y=o==null?0:o.length,!!y&&Fs(y)&&io(L,y)&&(De(o)||ti(o)))}function $b(o){var s=o.length,c=new o.constructor(s);return s&&typeof o[0]=="string"&&it.call(o,"index")&&(c.index=o.index,c.input=o.input),c}function hh(o){return typeof o.constructor=="function"&&!fr(o)?Bi(ds(o)):{}}function jb(o,s,c){var f=o.constructor;switch(s){case Re:return kl(o);case le:case se:return new f(+o);case He:return Sb(o,c);case et:case ut:case Ct:case ce:case Ie:case qe:case dt:case Ge:case tt:return Gd(o,c);case A:return new f;case H:case ee:return new f(o);case ne:return Tb(o);case Q:return new f;case fe:return Bb(o)}}function Wb(o,s){var c=s.length;if(!c)return o;var f=c-1;return s[f]=(c>1?"& ":"")+s[f],s=s.join(c>2?", ":" "),o.replace(Vm,`{
/* [wrapped with `+s+`] */
`)}function qb(o){return De(o)||ti(o)||!!(vd&&o&&o[vd])}function io(o,s){var c=typeof o;return s=s??J,!!s&&(c=="number"||c!="symbol"&&ov.test(o))&&o>-1&&o%1==0&&o<s}function zt(o,s,c){if(!vt(c))return!1;var f=typeof s;return(f=="number"?Zt(c)&&io(s,c.length):f=="string"&&s in c)?Pn(c[s],o):!1}function Il(o,s){if(De(o))return!1;var c=typeof o;return c=="number"||c=="symbol"||c=="boolean"||o==null||ln(o)?!0:$m.test(o)||!zm.test(o)||s!=null&&o in lt(s)}function Vb(o){var s=typeof o;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?o!=="__proto__":o===null}function Ll(o){var s=Ls(o),c=x[s];if(typeof c!="function"||!(s in Ve.prototype))return!1;if(o===c)return!0;var f=Sl(c);return!!f&&o===f[0]}function Kb(o){return!!fd&&fd in o}var Gb=ss?ro:Kl;function fr(o){var s=o&&o.constructor,c=typeof s=="function"&&s.prototype||Ei;return o===c}function fh(o){return o===o&&!vt(o)}function ph(o,s){return function(c){return c==null?!1:c[o]===s&&(s!==t||o in lt(c))}}function Yb(o){var s=Ns(o,function(f){return c.size===h&&c.clear(),f}),c=s.cache;return s}function Xb(o,s){var c=o[1],f=s[1],y=c|f,C=y<(w|_|U),L=f==U&&c==S||f==U&&c==T&&o[7].length<=s[8]||f==(U|T)&&s[7].length<=s[8]&&c==S;if(!(C||L))return o;f&w&&(o[2]=s[2],y|=c&w?0:E);var R=s[3];if(R){var D=o[3];o[3]=D?Xd(D,R,s[4]):R,o[4]=D?ko(o[3],g):s[4]}return R=s[5],R&&(D=o[5],o[5]=D?Zd(D,R,s[6]):R,o[6]=D?ko(o[5],g):s[6]),R=s[7],R&&(o[7]=R),f&U&&(o[8]=o[8]==null?s[8]:Nt(o[8],s[8])),o[9]==null&&(o[9]=s[9]),o[0]=s[0],o[1]=y,o}function Zb(o){var s=[];if(o!=null)for(var c in lt(o))s.push(c);return s}function Jb(o){return ls.call(o)}function gh(o,s,c){return s=Tt(s===t?o.length-1:s,0),function(){for(var f=arguments,y=-1,C=Tt(f.length-s,0),L=$(C);++y<C;)L[y]=f[s+y];y=-1;for(var R=$(s+1);++y<s;)R[y]=f[y];return R[s]=c(L),rn(o,this,R)}}function mh(o,s){return s.length<2?o:Jo(o,_n(s,0,-1))}function Qb(o,s){for(var c=o.length,f=Nt(s.length,c),y=Xt(o);f--;){var C=s[f];o[f]=io(C,c)?y[C]:t}return o}function Al(o,s){if(!(s==="constructor"&&typeof o[s]=="function")&&s!="__proto__")return o[s]}var vh=yh(Ud),pr=p0||function(o,s){return Mt.setTimeout(o,s)},Ml=yh(xb);function bh(o,s,c){var f=s+"";return Ml(o,Wb(f,e1(zb(f),c)))}function yh(o){var s=0,c=0;return function(){var f=b0(),y=Z-(f-c);if(c=f,y>0){if(++s>=z)return arguments[0]}else s=0;return o.apply(t,arguments)}}function Ms(o,s){var c=-1,f=o.length,y=f-1;for(s=s===t?f:s;++c<s;){var C=pl(c,y),L=o[C];o[C]=o[c],o[c]=L}return o.length=s,o}var wh=Yb(function(o){var s=[];return o.charCodeAt(0)===46&&s.push(""),o.replace(jm,function(c,f,y,C){s.push(y?C.replace(Zm,"$1"):f||c)}),s});function qn(o){if(typeof o=="string"||ln(o))return o;var s=o+"";return s=="0"&&1/o==-we?"-0":s}function ei(o){if(o!=null){try{return as.call(o)}catch{}try{return o+""}catch{}}return""}function e1(o,s){return yn(ke,function(c){var f="_."+c[0];s&c[1]&&!ns(o,f)&&o.push(f)}),o.sort()}function kh(o){if(o instanceof Ve)return o.clone();var s=new kn(o.__wrapped__,o.__chain__);return s.__actions__=Xt(o.__actions__),s.__index__=o.__index__,s.__values__=o.__values__,s}function t1(o,s,c){(c?zt(o,s,c):s===t)?s=1:s=Tt(Ue(s),0);var f=o==null?0:o.length;if(!f||s<1)return[];for(var y=0,C=0,L=$(ps(f/s));y<f;)L[C++]=_n(o,y,y+=s);return L}function n1(o){for(var s=-1,c=o==null?0:o.length,f=0,y=[];++s<c;){var C=o[s];C&&(y[f++]=C)}return y}function o1(){var o=arguments.length;if(!o)return[];for(var s=$(o-1),c=arguments[0],f=o;f--;)s[f-1]=arguments[f];return wo(De(c)?Xt(c):[c],Ot(s,1))}var i1=$e(function(o,s){return kt(o)?lr(o,Ot(s,1,kt,!0)):[]}),r1=$e(function(o,s){var c=Cn(s);return kt(c)&&(c=t),kt(o)?lr(o,Ot(s,1,kt,!0),Ee(c,2)):[]}),s1=$e(function(o,s){var c=Cn(s);return kt(c)&&(c=t),kt(o)?lr(o,Ot(s,1,kt,!0),t,c):[]});function a1(o,s,c){var f=o==null?0:o.length;return f?(s=c||s===t?1:Ue(s),_n(o,s<0?0:s,f)):[]}function l1(o,s,c){var f=o==null?0:o.length;return f?(s=c||s===t?1:Ue(s),s=f-s,_n(o,0,s<0?0:s)):[]}function c1(o,s){return o&&o.length?Cs(o,Ee(s,3),!0,!0):[]}function u1(o,s){return o&&o.length?Cs(o,Ee(s,3),!0):[]}function d1(o,s,c,f){var y=o==null?0:o.length;return y?(c&&typeof c!="number"&&zt(o,s,c)&&(c=0,f=y),ob(o,s,c,f)):[]}function xh(o,s,c){var f=o==null?0:o.length;if(!f)return-1;var y=c==null?0:Ue(c);return y<0&&(y=Tt(f+y,0)),os(o,Ee(s,3),y)}function _h(o,s,c){var f=o==null?0:o.length;if(!f)return-1;var y=f-1;return c!==t&&(y=Ue(c),y=c<0?Tt(f+y,0):Nt(y,f-1)),os(o,Ee(s,3),y,!0)}function Ch(o){var s=o==null?0:o.length;return s?Ot(o,1):[]}function h1(o){var s=o==null?0:o.length;return s?Ot(o,we):[]}function f1(o,s){var c=o==null?0:o.length;return c?(s=s===t?1:Ue(s),Ot(o,s)):[]}function p1(o){for(var s=-1,c=o==null?0:o.length,f={};++s<c;){var y=o[s];f[y[0]]=y[1]}return f}function Eh(o){return o&&o.length?o[0]:t}function g1(o,s,c){var f=o==null?0:o.length;if(!f)return-1;var y=c==null?0:Ue(c);return y<0&&(y=Tt(f+y,0)),ki(o,s,y)}function m1(o){var s=o==null?0:o.length;return s?_n(o,0,-1):[]}var v1=$e(function(o){var s=pt(o,yl);return s.length&&s[0]===o[0]?cl(s):[]}),b1=$e(function(o){var s=Cn(o),c=pt(o,yl);return s===Cn(c)?s=t:c.pop(),c.length&&c[0]===o[0]?cl(c,Ee(s,2)):[]}),y1=$e(function(o){var s=Cn(o),c=pt(o,yl);return s=typeof s=="function"?s:t,s&&c.pop(),c.length&&c[0]===o[0]?cl(c,t,s):[]});function w1(o,s){return o==null?"":m0.call(o,s)}function Cn(o){var s=o==null?0:o.length;return s?o[s-1]:t}function k1(o,s,c){var f=o==null?0:o.length;if(!f)return-1;var y=f;return c!==t&&(y=Ue(c),y=y<0?Tt(f+y,0):Nt(y,f-1)),s===s?e0(o,s,y):os(o,rd,y,!0)}function x1(o,s){return o&&o.length?Nd(o,Ue(s)):t}var _1=$e(Sh);function Sh(o,s){return o&&o.length&&s&&s.length?fl(o,s):o}function C1(o,s,c){return o&&o.length&&s&&s.length?fl(o,s,Ee(c,2)):o}function E1(o,s,c){return o&&o.length&&s&&s.length?fl(o,s,t,c):o}var S1=oo(function(o,s){var c=o==null?0:o.length,f=rl(o,s);return Hd(o,pt(s,function(y){return io(y,c)?+y:y}).sort(Yd)),f});function T1(o,s){var c=[];if(!(o&&o.length))return c;var f=-1,y=[],C=o.length;for(s=Ee(s,3);++f<C;){var L=o[f];s(L,f,o)&&(c.push(L),y.push(f))}return Hd(o,y),c}function Ol(o){return o==null?o:w0.call(o)}function B1(o,s,c){var f=o==null?0:o.length;return f?(c&&typeof c!="number"&&zt(o,s,c)?(s=0,c=f):(s=s==null?0:Ue(s),c=c===t?f:Ue(c)),_n(o,s,c)):[]}function I1(o,s){return _s(o,s)}function L1(o,s,c){return ml(o,s,Ee(c,2))}function A1(o,s){var c=o==null?0:o.length;if(c){var f=_s(o,s);if(f<c&&Pn(o[f],s))return f}return-1}function M1(o,s){return _s(o,s,!0)}function O1(o,s,c){return ml(o,s,Ee(c,2),!0)}function R1(o,s){var c=o==null?0:o.length;if(c){var f=_s(o,s,!0)-1;if(Pn(o[f],s))return f}return-1}function P1(o){return o&&o.length?zd(o):[]}function N1(o,s){return o&&o.length?zd(o,Ee(s,2)):[]}function D1(o){var s=o==null?0:o.length;return s?_n(o,1,s):[]}function F1(o,s,c){return o&&o.length?(s=c||s===t?1:Ue(s),_n(o,0,s<0?0:s)):[]}function H1(o,s,c){var f=o==null?0:o.length;return f?(s=c||s===t?1:Ue(s),s=f-s,_n(o,s<0?0:s,f)):[]}function U1(o,s){return o&&o.length?Cs(o,Ee(s,3),!1,!0):[]}function z1(o,s){return o&&o.length?Cs(o,Ee(s,3)):[]}var $1=$e(function(o){return Co(Ot(o,1,kt,!0))}),j1=$e(function(o){var s=Cn(o);return kt(s)&&(s=t),Co(Ot(o,1,kt,!0),Ee(s,2))}),W1=$e(function(o){var s=Cn(o);return s=typeof s=="function"?s:t,Co(Ot(o,1,kt,!0),t,s)});function q1(o){return o&&o.length?Co(o):[]}function V1(o,s){return o&&o.length?Co(o,Ee(s,2)):[]}function K1(o,s){return s=typeof s=="function"?s:t,o&&o.length?Co(o,t,s):[]}function Rl(o){if(!(o&&o.length))return[];var s=0;return o=yo(o,function(c){if(kt(c))return s=Tt(c.length,s),!0}),Za(s,function(c){return pt(o,Ga(c))})}function Th(o,s){if(!(o&&o.length))return[];var c=Rl(o);return s==null?c:pt(c,function(f){return rn(s,t,f)})}var G1=$e(function(o,s){return kt(o)?lr(o,s):[]}),Y1=$e(function(o){return bl(yo(o,kt))}),X1=$e(function(o){var s=Cn(o);return kt(s)&&(s=t),bl(yo(o,kt),Ee(s,2))}),Z1=$e(function(o){var s=Cn(o);return s=typeof s=="function"?s:t,bl(yo(o,kt),t,s)}),J1=$e(Rl);function Q1(o,s){return qd(o||[],s||[],ar)}function ey(o,s){return qd(o||[],s||[],dr)}var ty=$e(function(o){var s=o.length,c=s>1?o[s-1]:t;return c=typeof c=="function"?(o.pop(),c):t,Th(o,c)});function Bh(o){var s=x(o);return s.__chain__=!0,s}function ny(o,s){return s(o),o}function Os(o,s){return s(o)}var oy=oo(function(o){var s=o.length,c=s?o[0]:0,f=this.__wrapped__,y=function(C){return rl(C,o)};return s>1||this.__actions__.length||!(f instanceof Ve)||!io(c)?this.thru(y):(f=f.slice(c,+c+(s?1:0)),f.__actions__.push({func:Os,args:[y],thisArg:t}),new kn(f,this.__chain__).thru(function(C){return s&&!C.length&&C.push(t),C}))});function iy(){return Bh(this)}function ry(){return new kn(this.value(),this.__chain__)}function sy(){this.__values__===t&&(this.__values__=$h(this.value()));var o=this.__index__>=this.__values__.length,s=o?t:this.__values__[this.__index__++];return{done:o,value:s}}function ay(){return this}function ly(o){for(var s,c=this;c instanceof bs;){var f=kh(c);f.__index__=0,f.__values__=t,s?y.__wrapped__=f:s=f;var y=f;c=c.__wrapped__}return y.__wrapped__=o,s}function cy(){var o=this.__wrapped__;if(o instanceof Ve){var s=o;return this.__actions__.length&&(s=new Ve(this)),s=s.reverse(),s.__actions__.push({func:Os,args:[Ol],thisArg:t}),new kn(s,this.__chain__)}return this.thru(Ol)}function uy(){return Wd(this.__wrapped__,this.__actions__)}var dy=Es(function(o,s,c){it.call(o,c)?++o[c]:to(o,c,1)});function hy(o,s,c){var f=De(o)?od:nb;return c&&zt(o,s,c)&&(s=t),f(o,Ee(s,3))}function fy(o,s){var c=De(o)?yo:Td;return c(o,Ee(s,3))}var py=th(xh),gy=th(_h);function my(o,s){return Ot(Rs(o,s),1)}function vy(o,s){return Ot(Rs(o,s),we)}function by(o,s,c){return c=c===t?1:Ue(c),Ot(Rs(o,s),c)}function Ih(o,s){var c=De(o)?yn:_o;return c(o,Ee(s,3))}function Lh(o,s){var c=De(o)?Dv:Sd;return c(o,Ee(s,3))}var yy=Es(function(o,s,c){it.call(o,c)?o[c].push(s):to(o,c,[s])});function wy(o,s,c,f){o=Zt(o)?o:Oi(o),c=c&&!f?Ue(c):0;var y=o.length;return c<0&&(c=Tt(y+c,0)),Hs(o)?c<=y&&o.indexOf(s,c)>-1:!!y&&ki(o,s,c)>-1}var ky=$e(function(o,s,c){var f=-1,y=typeof s=="function",C=Zt(o)?$(o.length):[];return _o(o,function(L){C[++f]=y?rn(s,L,c):cr(L,s,c)}),C}),xy=Es(function(o,s,c){to(o,c,s)});function Rs(o,s){var c=De(o)?pt:Od;return c(o,Ee(s,3))}function _y(o,s,c,f){return o==null?[]:(De(s)||(s=s==null?[]:[s]),c=f?t:c,De(c)||(c=c==null?[]:[c]),Dd(o,s,c))}var Cy=Es(function(o,s,c){o[c?0:1].push(s)},function(){return[[],[]]});function Ey(o,s,c){var f=De(o)?Va:ad,y=arguments.length<3;return f(o,Ee(s,4),c,y,_o)}function Sy(o,s,c){var f=De(o)?Fv:ad,y=arguments.length<3;return f(o,Ee(s,4),c,y,Sd)}function Ty(o,s){var c=De(o)?yo:Td;return c(o,Ds(Ee(s,3)))}function By(o){var s=De(o)?xd:wb;return s(o)}function Iy(o,s,c){(c?zt(o,s,c):s===t)?s=1:s=Ue(s);var f=De(o)?Z0:kb;return f(o,s)}function Ly(o){var s=De(o)?J0:_b;return s(o)}function Ay(o){if(o==null)return 0;if(Zt(o))return Hs(o)?_i(o):o.length;var s=Dt(o);return s==A||s==Q?o.size:dl(o).length}function My(o,s,c){var f=De(o)?Ka:Cb;return c&&zt(o,s,c)&&(s=t),f(o,Ee(s,3))}var Oy=$e(function(o,s){if(o==null)return[];var c=s.length;return c>1&&zt(o,s[0],s[1])?s=[]:c>2&&zt(s[0],s[1],s[2])&&(s=[s[0]]),Dd(o,Ot(s,1),[])}),Ps=f0||function(){return Mt.Date.now()};function Ry(o,s){if(typeof s!="function")throw new wn(l);return o=Ue(o),function(){if(--o<1)return s.apply(this,arguments)}}function Ah(o,s,c){return s=c?t:s,s=o&&s==null?o.length:s,no(o,U,t,t,t,t,s)}function Mh(o,s){var c;if(typeof s!="function")throw new wn(l);return o=Ue(o),function(){return--o>0&&(c=s.apply(this,arguments)),o<=1&&(s=t),c}}var Pl=$e(function(o,s,c){var f=w;if(c.length){var y=ko(c,Ai(Pl));f|=O}return no(o,f,s,c,y)}),Oh=$e(function(o,s,c){var f=w|_;if(c.length){var y=ko(c,Ai(Oh));f|=O}return no(s,f,o,c,y)});function Rh(o,s,c){s=c?t:s;var f=no(o,S,t,t,t,t,t,s);return f.placeholder=Rh.placeholder,f}function Ph(o,s,c){s=c?t:s;var f=no(o,M,t,t,t,t,t,s);return f.placeholder=Ph.placeholder,f}function Nh(o,s,c){var f,y,C,L,R,D,G=0,X=!1,te=!1,de=!0;if(typeof o!="function")throw new wn(l);s=En(s)||0,vt(c)&&(X=!!c.leading,te="maxWait"in c,C=te?Tt(En(c.maxWait)||0,s):C,de="trailing"in c?!!c.trailing:de);function ye(xt){var Nn=f,ao=y;return f=y=t,G=xt,L=o.apply(ao,Nn),L}function Se(xt){return G=xt,R=pr(We,s),X?ye(xt):L}function ze(xt){var Nn=xt-D,ao=xt-G,tf=s-Nn;return te?Nt(tf,C-ao):tf}function Te(xt){var Nn=xt-D,ao=xt-G;return D===t||Nn>=s||Nn<0||te&&ao>=C}function We(){var xt=Ps();if(Te(xt))return Ke(xt);R=pr(We,ze(xt))}function Ke(xt){return R=t,de&&f?ye(xt):(f=y=t,L)}function cn(){R!==t&&Vd(R),G=0,f=D=y=R=t}function $t(){return R===t?L:Ke(Ps())}function un(){var xt=Ps(),Nn=Te(xt);if(f=arguments,y=this,D=xt,Nn){if(R===t)return Se(D);if(te)return Vd(R),R=pr(We,s),ye(D)}return R===t&&(R=pr(We,s)),L}return un.cancel=cn,un.flush=$t,un}var Py=$e(function(o,s){return Ed(o,1,s)}),Ny=$e(function(o,s,c){return Ed(o,En(s)||0,c)});function Dy(o){return no(o,I)}function Ns(o,s){if(typeof o!="function"||s!=null&&typeof s!="function")throw new wn(l);var c=function(){var f=arguments,y=s?s.apply(this,f):f[0],C=c.cache;if(C.has(y))return C.get(y);var L=o.apply(this,f);return c.cache=C.set(y,L)||C,L};return c.cache=new(Ns.Cache||eo),c}Ns.Cache=eo;function Ds(o){if(typeof o!="function")throw new wn(l);return function(){var s=arguments;switch(s.length){case 0:return!o.call(this);case 1:return!o.call(this,s[0]);case 2:return!o.call(this,s[0],s[1]);case 3:return!o.call(this,s[0],s[1],s[2])}return!o.apply(this,s)}}function Fy(o){return Mh(2,o)}var Hy=Eb(function(o,s){s=s.length==1&&De(s[0])?pt(s[0],sn(Ee())):pt(Ot(s,1),sn(Ee()));var c=s.length;return $e(function(f){for(var y=-1,C=Nt(f.length,c);++y<C;)f[y]=s[y].call(this,f[y]);return rn(o,this,f)})}),Nl=$e(function(o,s){var c=ko(s,Ai(Nl));return no(o,O,t,s,c)}),Dh=$e(function(o,s){var c=ko(s,Ai(Dh));return no(o,P,t,s,c)}),Uy=oo(function(o,s){return no(o,T,t,t,t,s)});function zy(o,s){if(typeof o!="function")throw new wn(l);return s=s===t?s:Ue(s),$e(o,s)}function $y(o,s){if(typeof o!="function")throw new wn(l);return s=s==null?0:Tt(Ue(s),0),$e(function(c){var f=c[s],y=So(c,0,s);return f&&wo(y,f),rn(o,this,y)})}function jy(o,s,c){var f=!0,y=!0;if(typeof o!="function")throw new wn(l);return vt(c)&&(f="leading"in c?!!c.leading:f,y="trailing"in c?!!c.trailing:y),Nh(o,s,{leading:f,maxWait:s,trailing:y})}function Wy(o){return Ah(o,1)}function qy(o,s){return Nl(wl(s),o)}function Vy(){if(!arguments.length)return[];var o=arguments[0];return De(o)?o:[o]}function Ky(o){return xn(o,k)}function Gy(o,s){return s=typeof s=="function"?s:t,xn(o,k,s)}function Yy(o){return xn(o,p|k)}function Xy(o,s){return s=typeof s=="function"?s:t,xn(o,p|k,s)}function Zy(o,s){return s==null||Cd(o,s,At(s))}function Pn(o,s){return o===s||o!==o&&s!==s}var Jy=Is(ll),Qy=Is(function(o,s){return o>=s}),ti=Ld(function(){return arguments}())?Ld:function(o){return yt(o)&&it.call(o,"callee")&&!md.call(o,"callee")},De=$.isArray,ew=Zu?sn(Zu):lb;function Zt(o){return o!=null&&Fs(o.length)&&!ro(o)}function kt(o){return yt(o)&&Zt(o)}function tw(o){return o===!0||o===!1||yt(o)&&Ut(o)==le}var To=g0||Kl,nw=Ju?sn(Ju):cb;function ow(o){return yt(o)&&o.nodeType===1&&!gr(o)}function iw(o){if(o==null)return!0;if(Zt(o)&&(De(o)||typeof o=="string"||typeof o.splice=="function"||To(o)||Mi(o)||ti(o)))return!o.length;var s=Dt(o);if(s==A||s==Q)return!o.size;if(fr(o))return!dl(o).length;for(var c in o)if(it.call(o,c))return!1;return!0}function rw(o,s){return ur(o,s)}function sw(o,s,c){c=typeof c=="function"?c:t;var f=c?c(o,s):t;return f===t?ur(o,s,t,c):!!f}function Dl(o){if(!yt(o))return!1;var s=Ut(o);return s==je||s==ie||typeof o.message=="string"&&typeof o.name=="string"&&!gr(o)}function aw(o){return typeof o=="number"&&bd(o)}function ro(o){if(!vt(o))return!1;var s=Ut(o);return s==Qe||s==B||s==j||s==ue}function Fh(o){return typeof o=="number"&&o==Ue(o)}function Fs(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=J}function vt(o){var s=typeof o;return o!=null&&(s=="object"||s=="function")}function yt(o){return o!=null&&typeof o=="object"}var Hh=Qu?sn(Qu):db;function lw(o,s){return o===s||ul(o,s,Tl(s))}function cw(o,s,c){return c=typeof c=="function"?c:t,ul(o,s,Tl(s),c)}function uw(o){return Uh(o)&&o!=+o}function dw(o){if(Gb(o))throw new Pe(a);return Ad(o)}function hw(o){return o===null}function fw(o){return o==null}function Uh(o){return typeof o=="number"||yt(o)&&Ut(o)==H}function gr(o){if(!yt(o)||Ut(o)!=q)return!1;var s=ds(o);if(s===null)return!0;var c=it.call(s,"constructor")&&s.constructor;return typeof c=="function"&&c instanceof c&&as.call(c)==c0}var Fl=ed?sn(ed):hb;function pw(o){return Fh(o)&&o>=-J&&o<=J}var zh=td?sn(td):fb;function Hs(o){return typeof o=="string"||!De(o)&&yt(o)&&Ut(o)==ee}function ln(o){return typeof o=="symbol"||yt(o)&&Ut(o)==fe}var Mi=nd?sn(nd):pb;function gw(o){return o===t}function mw(o){return yt(o)&&Dt(o)==be}function vw(o){return yt(o)&&Ut(o)==Le}var bw=Is(hl),yw=Is(function(o,s){return o<=s});function $h(o){if(!o)return[];if(Zt(o))return Hs(o)?On(o):Xt(o);if(nr&&o[nr])return Zv(o[nr]());var s=Dt(o),c=s==A?Qa:s==Q?is:Oi;return c(o)}function so(o){if(!o)return o===0?o:0;if(o=En(o),o===we||o===-we){var s=o<0?-1:1;return s*ae}return o===o?o:0}function Ue(o){var s=so(o),c=s%1;return s===s?c?s-c:s:0}function jh(o){return o?Zo(Ue(o),0,_e):0}function En(o){if(typeof o=="number")return o;if(ln(o))return pe;if(vt(o)){var s=typeof o.valueOf=="function"?o.valueOf():o;o=vt(s)?s+"":s}if(typeof o!="string")return o===0?o:+o;o=ld(o);var c=ev.test(o);return c||nv.test(o)?Rv(o.slice(2),c?2:8):Qm.test(o)?pe:+o}function Wh(o){return Wn(o,Jt(o))}function ww(o){return o?Zo(Ue(o),-J,J):o===0?o:0}function nt(o){return o==null?"":an(o)}var kw=Ii(function(o,s){if(fr(s)||Zt(s)){Wn(s,At(s),o);return}for(var c in s)it.call(s,c)&&ar(o,c,s[c])}),qh=Ii(function(o,s){Wn(s,Jt(s),o)}),Us=Ii(function(o,s,c,f){Wn(s,Jt(s),o,f)}),xw=Ii(function(o,s,c,f){Wn(s,At(s),o,f)}),_w=oo(rl);function Cw(o,s){var c=Bi(o);return s==null?c:_d(c,s)}var Ew=$e(function(o,s){o=lt(o);var c=-1,f=s.length,y=f>2?s[2]:t;for(y&&zt(s[0],s[1],y)&&(f=1);++c<f;)for(var C=s[c],L=Jt(C),R=-1,D=L.length;++R<D;){var G=L[R],X=o[G];(X===t||Pn(X,Ei[G])&&!it.call(o,G))&&(o[G]=C[G])}return o}),Sw=$e(function(o){return o.push(t,lh),rn(Vh,t,o)});function Tw(o,s){return id(o,Ee(s,3),jn)}function Bw(o,s){return id(o,Ee(s,3),al)}function Iw(o,s){return o==null?o:sl(o,Ee(s,3),Jt)}function Lw(o,s){return o==null?o:Bd(o,Ee(s,3),Jt)}function Aw(o,s){return o&&jn(o,Ee(s,3))}function Mw(o,s){return o&&al(o,Ee(s,3))}function Ow(o){return o==null?[]:ks(o,At(o))}function Rw(o){return o==null?[]:ks(o,Jt(o))}function Hl(o,s,c){var f=o==null?t:Jo(o,s);return f===t?c:f}function Pw(o,s){return o!=null&&dh(o,s,ib)}function Ul(o,s){return o!=null&&dh(o,s,rb)}var Nw=oh(function(o,s,c){s!=null&&typeof s.toString!="function"&&(s=ls.call(s)),o[s]=c},$l(Qt)),Dw=oh(function(o,s,c){s!=null&&typeof s.toString!="function"&&(s=ls.call(s)),it.call(o,s)?o[s].push(c):o[s]=[c]},Ee),Fw=$e(cr);function At(o){return Zt(o)?kd(o):dl(o)}function Jt(o){return Zt(o)?kd(o,!0):gb(o)}function Hw(o,s){var c={};return s=Ee(s,3),jn(o,function(f,y,C){to(c,s(f,y,C),f)}),c}function Uw(o,s){var c={};return s=Ee(s,3),jn(o,function(f,y,C){to(c,y,s(f,y,C))}),c}var zw=Ii(function(o,s,c){xs(o,s,c)}),Vh=Ii(function(o,s,c,f){xs(o,s,c,f)}),$w=oo(function(o,s){var c={};if(o==null)return c;var f=!1;s=pt(s,function(C){return C=Eo(C,o),f||(f=C.length>1),C}),Wn(o,El(o),c),f&&(c=xn(c,p|m|k,Nb));for(var y=s.length;y--;)vl(c,s[y]);return c});function jw(o,s){return Kh(o,Ds(Ee(s)))}var Ww=oo(function(o,s){return o==null?{}:vb(o,s)});function Kh(o,s){if(o==null)return{};var c=pt(El(o),function(f){return[f]});return s=Ee(s),Fd(o,c,function(f,y){return s(f,y[0])})}function qw(o,s,c){s=Eo(s,o);var f=-1,y=s.length;for(y||(y=1,o=t);++f<y;){var C=o==null?t:o[qn(s[f])];C===t&&(f=y,C=c),o=ro(C)?C.call(o):C}return o}function Vw(o,s,c){return o==null?o:dr(o,s,c)}function Kw(o,s,c,f){return f=typeof f=="function"?f:t,o==null?o:dr(o,s,c,f)}var Gh=sh(At),Yh=sh(Jt);function Gw(o,s,c){var f=De(o),y=f||To(o)||Mi(o);if(s=Ee(s,4),c==null){var C=o&&o.constructor;y?c=f?new C:[]:vt(o)?c=ro(C)?Bi(ds(o)):{}:c={}}return(y?yn:jn)(o,function(L,R,D){return s(c,L,R,D)}),c}function Yw(o,s){return o==null?!0:vl(o,s)}function Xw(o,s,c){return o==null?o:jd(o,s,wl(c))}function Zw(o,s,c,f){return f=typeof f=="function"?f:t,o==null?o:jd(o,s,wl(c),f)}function Oi(o){return o==null?[]:Ja(o,At(o))}function Jw(o){return o==null?[]:Ja(o,Jt(o))}function Qw(o,s,c){return c===t&&(c=s,s=t),c!==t&&(c=En(c),c=c===c?c:0),s!==t&&(s=En(s),s=s===s?s:0),Zo(En(o),s,c)}function ek(o,s,c){return s=so(s),c===t?(c=s,s=0):c=so(c),o=En(o),sb(o,s,c)}function tk(o,s,c){if(c&&typeof c!="boolean"&&zt(o,s,c)&&(s=c=t),c===t&&(typeof s=="boolean"?(c=s,s=t):typeof o=="boolean"&&(c=o,o=t)),o===t&&s===t?(o=0,s=1):(o=so(o),s===t?(s=o,o=0):s=so(s)),o>s){var f=o;o=s,s=f}if(c||o%1||s%1){var y=yd();return Nt(o+y*(s-o+Ov("1e-"+((y+"").length-1))),s)}return pl(o,s)}var nk=Li(function(o,s,c){return s=s.toLowerCase(),o+(c?Xh(s):s)});function Xh(o){return zl(nt(o).toLowerCase())}function Zh(o){return o=nt(o),o&&o.replace(iv,Vv).replace(_v,"")}function ok(o,s,c){o=nt(o),s=an(s);var f=o.length;c=c===t?f:Zo(Ue(c),0,f);var y=c;return c-=s.length,c>=0&&o.slice(c,y)==s}function ik(o){return o=nt(o),o&&Yt.test(o)?o.replace($n,Kv):o}function rk(o){return o=nt(o),o&&Wm.test(o)?o.replace(Na,"\\$&"):o}var sk=Li(function(o,s,c){return o+(c?"-":"")+s.toLowerCase()}),ak=Li(function(o,s,c){return o+(c?" ":"")+s.toLowerCase()}),lk=eh("toLowerCase");function ck(o,s,c){o=nt(o),s=Ue(s);var f=s?_i(o):0;if(!s||f>=s)return o;var y=(s-f)/2;return Bs(gs(y),c)+o+Bs(ps(y),c)}function uk(o,s,c){o=nt(o),s=Ue(s);var f=s?_i(o):0;return s&&f<s?o+Bs(s-f,c):o}function dk(o,s,c){o=nt(o),s=Ue(s);var f=s?_i(o):0;return s&&f<s?Bs(s-f,c)+o:o}function hk(o,s,c){return c||s==null?s=0:s&&(s=+s),y0(nt(o).replace(Da,""),s||0)}function fk(o,s,c){return(c?zt(o,s,c):s===t)?s=1:s=Ue(s),gl(nt(o),s)}function pk(){var o=arguments,s=nt(o[0]);return o.length<3?s:s.replace(o[1],o[2])}var gk=Li(function(o,s,c){return o+(c?"_":"")+s.toLowerCase()});function mk(o,s,c){return c&&typeof c!="number"&&zt(o,s,c)&&(s=c=t),c=c===t?_e:c>>>0,c?(o=nt(o),o&&(typeof s=="string"||s!=null&&!Fl(s))&&(s=an(s),!s&&xi(o))?So(On(o),0,c):o.split(s,c)):[]}var vk=Li(function(o,s,c){return o+(c?" ":"")+zl(s)});function bk(o,s,c){return o=nt(o),c=c==null?0:Zo(Ue(c),0,o.length),s=an(s),o.slice(c,c+s.length)==s}function yk(o,s,c){var f=x.templateSettings;c&&zt(o,s,c)&&(s=t),o=nt(o),s=Us({},s,f,ah);var y=Us({},s.imports,f.imports,ah),C=At(y),L=Ja(y,C),R,D,G=0,X=s.interpolate||Qr,te="__p += '",de=el((s.escape||Qr).source+"|"+X.source+"|"+(X===Iu?Jm:Qr).source+"|"+(s.evaluate||Qr).source+"|$","g"),ye="//# sourceURL="+(it.call(s,"sourceURL")?(s.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Bv+"]")+`
`;o.replace(de,function(Te,We,Ke,cn,$t,un){return Ke||(Ke=cn),te+=o.slice(G,un).replace(rv,Gv),We&&(R=!0,te+=`' +
__e(`+We+`) +
'`),$t&&(D=!0,te+=`';
`+$t+`;
__p += '`),Ke&&(te+=`' +
((__t = (`+Ke+`)) == null ? '' : __t) +
'`),G=un+Te.length,Te}),te+=`';
`;var Se=it.call(s,"variable")&&s.variable;if(!Se)te=`with (obj) {
`+te+`
}
`;else if(Xm.test(Se))throw new Pe(u);te=(D?te.replace(Gt,""):te).replace(Mn,"$1").replace(zn,"$1;"),te="function("+(Se||"obj")+`) {
`+(Se?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(R?", __e = _.escape":"")+(D?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+te+`return __p
}`;var ze=Qh(function(){return Je(C,ye+"return "+te).apply(t,L)});if(ze.source=te,Dl(ze))throw ze;return ze}function wk(o){return nt(o).toLowerCase()}function kk(o){return nt(o).toUpperCase()}function xk(o,s,c){if(o=nt(o),o&&(c||s===t))return ld(o);if(!o||!(s=an(s)))return o;var f=On(o),y=On(s),C=cd(f,y),L=ud(f,y)+1;return So(f,C,L).join("")}function _k(o,s,c){if(o=nt(o),o&&(c||s===t))return o.slice(0,hd(o)+1);if(!o||!(s=an(s)))return o;var f=On(o),y=ud(f,On(s))+1;return So(f,0,y).join("")}function Ck(o,s,c){if(o=nt(o),o&&(c||s===t))return o.replace(Da,"");if(!o||!(s=an(s)))return o;var f=On(o),y=cd(f,On(s));return So(f,y).join("")}function Ek(o,s){var c=F,f=W;if(vt(s)){var y="separator"in s?s.separator:y;c="length"in s?Ue(s.length):c,f="omission"in s?an(s.omission):f}o=nt(o);var C=o.length;if(xi(o)){var L=On(o);C=L.length}if(c>=C)return o;var R=c-_i(f);if(R<1)return f;var D=L?So(L,0,R).join(""):o.slice(0,R);if(y===t)return D+f;if(L&&(R+=D.length-R),Fl(y)){if(o.slice(R).search(y)){var G,X=D;for(y.global||(y=el(y.source,nt(Lu.exec(y))+"g")),y.lastIndex=0;G=y.exec(X);)var te=G.index;D=D.slice(0,te===t?R:te)}}else if(o.indexOf(an(y),R)!=R){var de=D.lastIndexOf(y);de>-1&&(D=D.slice(0,de))}return D+f}function Sk(o){return o=nt(o),o&&bo.test(o)?o.replace(vn,t0):o}var Tk=Li(function(o,s,c){return o+(c?" ":"")+s.toUpperCase()}),zl=eh("toUpperCase");function Jh(o,s,c){return o=nt(o),s=c?t:s,s===t?Xv(o)?i0(o):zv(o):o.match(s)||[]}var Qh=$e(function(o,s){try{return rn(o,t,s)}catch(c){return Dl(c)?c:new Pe(c)}}),Bk=oo(function(o,s){return yn(s,function(c){c=qn(c),to(o,c,Pl(o[c],o))}),o});function Ik(o){var s=o==null?0:o.length,c=Ee();return o=s?pt(o,function(f){if(typeof f[1]!="function")throw new wn(l);return[c(f[0]),f[1]]}):[],$e(function(f){for(var y=-1;++y<s;){var C=o[y];if(rn(C[0],this,f))return rn(C[1],this,f)}})}function Lk(o){return tb(xn(o,p))}function $l(o){return function(){return o}}function Ak(o,s){return o==null||o!==o?s:o}var Mk=nh(),Ok=nh(!0);function Qt(o){return o}function jl(o){return Md(typeof o=="function"?o:xn(o,p))}function Rk(o){return Rd(xn(o,p))}function Pk(o,s){return Pd(o,xn(s,p))}var Nk=$e(function(o,s){return function(c){return cr(c,o,s)}}),Dk=$e(function(o,s){return function(c){return cr(o,c,s)}});function Wl(o,s,c){var f=At(s),y=ks(s,f);c==null&&!(vt(s)&&(y.length||!f.length))&&(c=s,s=o,o=this,y=ks(s,At(s)));var C=!(vt(c)&&"chain"in c)||!!c.chain,L=ro(o);return yn(y,function(R){var D=s[R];o[R]=D,L&&(o.prototype[R]=function(){var G=this.__chain__;if(C||G){var X=o(this.__wrapped__),te=X.__actions__=Xt(this.__actions__);return te.push({func:D,args:arguments,thisArg:o}),X.__chain__=G,X}return D.apply(o,wo([this.value()],arguments))})}),o}function Fk(){return Mt._===this&&(Mt._=u0),this}function ql(){}function Hk(o){return o=Ue(o),$e(function(s){return Nd(s,o)})}var Uk=xl(pt),zk=xl(od),$k=xl(Ka);function ef(o){return Il(o)?Ga(qn(o)):bb(o)}function jk(o){return function(s){return o==null?t:Jo(o,s)}}var Wk=ih(),qk=ih(!0);function Vl(){return[]}function Kl(){return!1}function Vk(){return{}}function Kk(){return""}function Gk(){return!0}function Yk(o,s){if(o=Ue(o),o<1||o>J)return[];var c=_e,f=Nt(o,_e);s=Ee(s),o-=_e;for(var y=Za(f,s);++c<o;)s(c);return y}function Xk(o){return De(o)?pt(o,qn):ln(o)?[o]:Xt(wh(nt(o)))}function Zk(o){var s=++l0;return nt(o)+s}var Jk=Ts(function(o,s){return o+s},0),Qk=_l("ceil"),ex=Ts(function(o,s){return o/s},1),tx=_l("floor");function nx(o){return o&&o.length?ws(o,Qt,ll):t}function ox(o,s){return o&&o.length?ws(o,Ee(s,2),ll):t}function ix(o){return sd(o,Qt)}function rx(o,s){return sd(o,Ee(s,2))}function sx(o){return o&&o.length?ws(o,Qt,hl):t}function ax(o,s){return o&&o.length?ws(o,Ee(s,2),hl):t}var lx=Ts(function(o,s){return o*s},1),cx=_l("round"),ux=Ts(function(o,s){return o-s},0);function dx(o){return o&&o.length?Xa(o,Qt):0}function hx(o,s){return o&&o.length?Xa(o,Ee(s,2)):0}return x.after=Ry,x.ary=Ah,x.assign=kw,x.assignIn=qh,x.assignInWith=Us,x.assignWith=xw,x.at=_w,x.before=Mh,x.bind=Pl,x.bindAll=Bk,x.bindKey=Oh,x.castArray=Vy,x.chain=Bh,x.chunk=t1,x.compact=n1,x.concat=o1,x.cond=Ik,x.conforms=Lk,x.constant=$l,x.countBy=dy,x.create=Cw,x.curry=Rh,x.curryRight=Ph,x.debounce=Nh,x.defaults=Ew,x.defaultsDeep=Sw,x.defer=Py,x.delay=Ny,x.difference=i1,x.differenceBy=r1,x.differenceWith=s1,x.drop=a1,x.dropRight=l1,x.dropRightWhile=c1,x.dropWhile=u1,x.fill=d1,x.filter=fy,x.flatMap=my,x.flatMapDeep=vy,x.flatMapDepth=by,x.flatten=Ch,x.flattenDeep=h1,x.flattenDepth=f1,x.flip=Dy,x.flow=Mk,x.flowRight=Ok,x.fromPairs=p1,x.functions=Ow,x.functionsIn=Rw,x.groupBy=yy,x.initial=m1,x.intersection=v1,x.intersectionBy=b1,x.intersectionWith=y1,x.invert=Nw,x.invertBy=Dw,x.invokeMap=ky,x.iteratee=jl,x.keyBy=xy,x.keys=At,x.keysIn=Jt,x.map=Rs,x.mapKeys=Hw,x.mapValues=Uw,x.matches=Rk,x.matchesProperty=Pk,x.memoize=Ns,x.merge=zw,x.mergeWith=Vh,x.method=Nk,x.methodOf=Dk,x.mixin=Wl,x.negate=Ds,x.nthArg=Hk,x.omit=$w,x.omitBy=jw,x.once=Fy,x.orderBy=_y,x.over=Uk,x.overArgs=Hy,x.overEvery=zk,x.overSome=$k,x.partial=Nl,x.partialRight=Dh,x.partition=Cy,x.pick=Ww,x.pickBy=Kh,x.property=ef,x.propertyOf=jk,x.pull=_1,x.pullAll=Sh,x.pullAllBy=C1,x.pullAllWith=E1,x.pullAt=S1,x.range=Wk,x.rangeRight=qk,x.rearg=Uy,x.reject=Ty,x.remove=T1,x.rest=zy,x.reverse=Ol,x.sampleSize=Iy,x.set=Vw,x.setWith=Kw,x.shuffle=Ly,x.slice=B1,x.sortBy=Oy,x.sortedUniq=P1,x.sortedUniqBy=N1,x.split=mk,x.spread=$y,x.tail=D1,x.take=F1,x.takeRight=H1,x.takeRightWhile=U1,x.takeWhile=z1,x.tap=ny,x.throttle=jy,x.thru=Os,x.toArray=$h,x.toPairs=Gh,x.toPairsIn=Yh,x.toPath=Xk,x.toPlainObject=Wh,x.transform=Gw,x.unary=Wy,x.union=$1,x.unionBy=j1,x.unionWith=W1,x.uniq=q1,x.uniqBy=V1,x.uniqWith=K1,x.unset=Yw,x.unzip=Rl,x.unzipWith=Th,x.update=Xw,x.updateWith=Zw,x.values=Oi,x.valuesIn=Jw,x.without=G1,x.words=Jh,x.wrap=qy,x.xor=Y1,x.xorBy=X1,x.xorWith=Z1,x.zip=J1,x.zipObject=Q1,x.zipObjectDeep=ey,x.zipWith=ty,x.entries=Gh,x.entriesIn=Yh,x.extend=qh,x.extendWith=Us,Wl(x,x),x.add=Jk,x.attempt=Qh,x.camelCase=nk,x.capitalize=Xh,x.ceil=Qk,x.clamp=Qw,x.clone=Ky,x.cloneDeep=Yy,x.cloneDeepWith=Xy,x.cloneWith=Gy,x.conformsTo=Zy,x.deburr=Zh,x.defaultTo=Ak,x.divide=ex,x.endsWith=ok,x.eq=Pn,x.escape=ik,x.escapeRegExp=rk,x.every=hy,x.find=py,x.findIndex=xh,x.findKey=Tw,x.findLast=gy,x.findLastIndex=_h,x.findLastKey=Bw,x.floor=tx,x.forEach=Ih,x.forEachRight=Lh,x.forIn=Iw,x.forInRight=Lw,x.forOwn=Aw,x.forOwnRight=Mw,x.get=Hl,x.gt=Jy,x.gte=Qy,x.has=Pw,x.hasIn=Ul,x.head=Eh,x.identity=Qt,x.includes=wy,x.indexOf=g1,x.inRange=ek,x.invoke=Fw,x.isArguments=ti,x.isArray=De,x.isArrayBuffer=ew,x.isArrayLike=Zt,x.isArrayLikeObject=kt,x.isBoolean=tw,x.isBuffer=To,x.isDate=nw,x.isElement=ow,x.isEmpty=iw,x.isEqual=rw,x.isEqualWith=sw,x.isError=Dl,x.isFinite=aw,x.isFunction=ro,x.isInteger=Fh,x.isLength=Fs,x.isMap=Hh,x.isMatch=lw,x.isMatchWith=cw,x.isNaN=uw,x.isNative=dw,x.isNil=fw,x.isNull=hw,x.isNumber=Uh,x.isObject=vt,x.isObjectLike=yt,x.isPlainObject=gr,x.isRegExp=Fl,x.isSafeInteger=pw,x.isSet=zh,x.isString=Hs,x.isSymbol=ln,x.isTypedArray=Mi,x.isUndefined=gw,x.isWeakMap=mw,x.isWeakSet=vw,x.join=w1,x.kebabCase=sk,x.last=Cn,x.lastIndexOf=k1,x.lowerCase=ak,x.lowerFirst=lk,x.lt=bw,x.lte=yw,x.max=nx,x.maxBy=ox,x.mean=ix,x.meanBy=rx,x.min=sx,x.minBy=ax,x.stubArray=Vl,x.stubFalse=Kl,x.stubObject=Vk,x.stubString=Kk,x.stubTrue=Gk,x.multiply=lx,x.nth=x1,x.noConflict=Fk,x.noop=ql,x.now=Ps,x.pad=ck,x.padEnd=uk,x.padStart=dk,x.parseInt=hk,x.random=tk,x.reduce=Ey,x.reduceRight=Sy,x.repeat=fk,x.replace=pk,x.result=qw,x.round=cx,x.runInContext=N,x.sample=By,x.size=Ay,x.snakeCase=gk,x.some=My,x.sortedIndex=I1,x.sortedIndexBy=L1,x.sortedIndexOf=A1,x.sortedLastIndex=M1,x.sortedLastIndexBy=O1,x.sortedLastIndexOf=R1,x.startCase=vk,x.startsWith=bk,x.subtract=ux,x.sum=dx,x.sumBy=hx,x.template=yk,x.times=Yk,x.toFinite=so,x.toInteger=Ue,x.toLength=jh,x.toLower=wk,x.toNumber=En,x.toSafeInteger=ww,x.toString=nt,x.toUpper=kk,x.trim=xk,x.trimEnd=_k,x.trimStart=Ck,x.truncate=Ek,x.unescape=Sk,x.uniqueId=Zk,x.upperCase=Tk,x.upperFirst=zl,x.each=Ih,x.eachRight=Lh,x.first=Eh,Wl(x,function(){var o={};return jn(x,function(s,c){it.call(x.prototype,c)||(o[c]=s)}),o}(),{chain:!1}),x.VERSION=i,yn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){x[o].placeholder=x}),yn(["drop","take"],function(o,s){Ve.prototype[o]=function(c){c=c===t?1:Tt(Ue(c),0);var f=this.__filtered__&&!s?new Ve(this):this.clone();return f.__filtered__?f.__takeCount__=Nt(c,f.__takeCount__):f.__views__.push({size:Nt(c,_e),type:o+(f.__dir__<0?"Right":"")}),f},Ve.prototype[o+"Right"]=function(c){return this.reverse()[o](c).reverse()}}),yn(["filter","map","takeWhile"],function(o,s){var c=s+1,f=c==he||c==me;Ve.prototype[o]=function(y){var C=this.clone();return C.__iteratees__.push({iteratee:Ee(y,3),type:c}),C.__filtered__=C.__filtered__||f,C}}),yn(["head","last"],function(o,s){var c="take"+(s?"Right":"");Ve.prototype[o]=function(){return this[c](1).value()[0]}}),yn(["initial","tail"],function(o,s){var c="drop"+(s?"":"Right");Ve.prototype[o]=function(){return this.__filtered__?new Ve(this):this[c](1)}}),Ve.prototype.compact=function(){return this.filter(Qt)},Ve.prototype.find=function(o){return this.filter(o).head()},Ve.prototype.findLast=function(o){return this.reverse().find(o)},Ve.prototype.invokeMap=$e(function(o,s){return typeof o=="function"?new Ve(this):this.map(function(c){return cr(c,o,s)})}),Ve.prototype.reject=function(o){return this.filter(Ds(Ee(o)))},Ve.prototype.slice=function(o,s){o=Ue(o);var c=this;return c.__filtered__&&(o>0||s<0)?new Ve(c):(o<0?c=c.takeRight(-o):o&&(c=c.drop(o)),s!==t&&(s=Ue(s),c=s<0?c.dropRight(-s):c.take(s-o)),c)},Ve.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},Ve.prototype.toArray=function(){return this.take(_e)},jn(Ve.prototype,function(o,s){var c=/^(?:filter|find|map|reject)|While$/.test(s),f=/^(?:head|last)$/.test(s),y=x[f?"take"+(s=="last"?"Right":""):s],C=f||/^find/.test(s);y&&(x.prototype[s]=function(){var L=this.__wrapped__,R=f?[1]:arguments,D=L instanceof Ve,G=R[0],X=D||De(L),te=function(We){var Ke=y.apply(x,wo([We],R));return f&&de?Ke[0]:Ke};X&&c&&typeof G=="function"&&G.length!=1&&(D=X=!1);var de=this.__chain__,ye=!!this.__actions__.length,Se=C&&!de,ze=D&&!ye;if(!C&&X){L=ze?L:new Ve(this);var Te=o.apply(L,R);return Te.__actions__.push({func:Os,args:[te],thisArg:t}),new kn(Te,de)}return Se&&ze?o.apply(this,R):(Te=this.thru(te),Se?f?Te.value()[0]:Te.value():Te)})}),yn(["pop","push","shift","sort","splice","unshift"],function(o){var s=rs[o],c=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",f=/^(?:pop|shift)$/.test(o);x.prototype[o]=function(){var y=arguments;if(f&&!this.__chain__){var C=this.value();return s.apply(De(C)?C:[],y)}return this[c](function(L){return s.apply(De(L)?L:[],y)})}}),jn(Ve.prototype,function(o,s){var c=x[s];if(c){var f=c.name+"";it.call(Ti,f)||(Ti[f]=[]),Ti[f].push({name:s,func:c})}}),Ti[Ss(t,_).name]=[{name:"wrapper",func:t}],Ve.prototype.clone=S0,Ve.prototype.reverse=T0,Ve.prototype.value=B0,x.prototype.at=oy,x.prototype.chain=iy,x.prototype.commit=ry,x.prototype.next=sy,x.prototype.plant=ly,x.prototype.reverse=cy,x.prototype.toJSON=x.prototype.valueOf=x.prototype.value=uy,x.prototype.first=x.prototype.head,nr&&(x.prototype[nr]=ay),x},Ci=r0();Ko?((Ko.exports=Ci)._=Ci,ja._=Ci):Mt._=Ci}).call(_r)})(va,va.exports);var zB=va.exports,jc=(n=>(n.HEADER="header",n.PARAGRAPH="paragraph",n.IMAGE="image",n))(jc||{}),ai=(n=>(n[n.HTML=1]="HTML",n[n.PREVIEW=2]="PREVIEW",n))(ai||{});const $B={class:"w-full"},jB={class:"export-template__toggles"},WB=yi({__name:"ExportTemplate",props:{savedData:{type:Object,default:()=>{}}},setup(n){const e=n,t=zo(ai.HTML),i=zo(""),r=l=>{t.value=l};return(()=>{zB.forEach(e.savedData.blocks,l=>{switch(l.type){case jc.HEADER:i.value+=`<div class="n-header_${l.data.level}">${l.data.text}</div>`;break;case jc.PARAGRAPH:i.value+=`<div class="n-paragraph">${l.data.text}</div>`;break}})})(),(l,u)=>(mn(),qo("div",$B,[It("div",jB,[at($c,{buttonType:nn(Vr).TOGGLE,isActive:t.value===nn(ai).HTML,onClick:u[0]||(u[0]=d=>r(nn(ai).HTML))},{default:pn(()=>[ho("HTML ")]),_:1},8,["buttonType","isActive"]),at($c,{buttonType:nn(Vr).TOGGLE,isActive:t.value===nn(ai).PREVIEW,onClick:u[1]||(u[1]=d=>r(nn(ai).PREVIEW))},{default:pn(()=>[ho("預覽 ")]),_:1},8,["buttonType","isActive"])]),k_(It("div",{class:"mt-5"},Ap(i.value),513),[[_C,t.value===nn(ai).HTML]])]))}}),qB=Ji(WB,[["__scopeId","data-v-6fd3a111"]]),VB={class:"w-full py-36"},KB={class:"pt-8"},GB=It("h1",{class:"w-full font-bold text-xl text-center pb-4"},"-內容-",-1),YB=yi({__name:"HomePage",setup(n){const e=zo(null),t=zo(null),i=zo(!1),r=()=>{e.value&&(t.value=e.value.getEditorData())},a=()=>{},l=async()=>{e.value&&(t.value=await e.value.getEditorData(),i.value=!0,console.log("savedData.value ",t.value.blocks))};return(u,d)=>(mn(),qo(hn,null,[at(i2,null,{default:pn(()=>[at(RB),at(SB,{onExportTemplate:l,onLoadTemplate:a,onSaveTemplate:r})]),_:1}),It("div",VB,[It("div",null,[It("div",KB,[GB,at(fB,{ref_key:"editorRef",ref:e},null,512)])])]),at(uu,null,{default:pn(()=>[i.value?(mn(),Gr(UB,{key:0,onClose:d[0]||(d[0]=h=>i.value=!1),title:"轉出模板"},{default:pn(()=>[at(qB,{savedData:t.value},null,8,["savedData"])]),_:1})):nC("",!0)]),_:1})],64))}}),XB=[{path:"/",name:"HomePage",component:YB,children:[]}],ZB=JE({history:pE(),routes:XB,scrollBehavior(){return{top:0}}});var vc={exports:{}},Cp;function Fm(){return Cp||(Cp=1,function(n){(function(e,t){var i=t(e,e.document,Date);e.lazySizes=i,n.exports&&(n.exports=i)})(typeof window<"u"?window:{},function(t,i,r){var a,l;if(function(){var J,ae={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",fastLoadedClass:"ls-is-cached",iframeLoadMode:0,srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};l=t.lazySizesConfig||t.lazysizesConfig||{};for(J in ae)J in l||(l[J]=ae[J])}(),!i||!i.getElementsByClassName)return{init:function(){},cfg:l,noSupport:!0};var u=i.documentElement,d=t.HTMLPictureElement,h="addEventListener",g="getAttribute",p=t[h].bind(t),m=t.setTimeout,k=t.requestAnimationFrame||m,v=t.requestIdleCallback,b=/^picture$/i,w=["load","error","lazyincluded","_lazyloaded"],_={},E=Array.prototype.forEach,S=function(J,ae){return _[ae]||(_[ae]=new RegExp("(\\s|^)"+ae+"(\\s|$)")),_[ae].test(J[g]("class")||"")&&_[ae]},M=function(J,ae){S(J,ae)||J.setAttribute("class",(J[g]("class")||"").trim()+" "+ae)},O=function(J,ae){var pe;(pe=S(J,ae))&&J.setAttribute("class",(J[g]("class")||"").replace(pe," "))},P=function(J,ae,pe){var _e=pe?h:"removeEventListener";pe&&P(J,ae),w.forEach(function(Be){J[_e](Be,ae)})},U=function(J,ae,pe,_e,Be){var Ce=i.createEvent("Event");return pe||(pe={}),pe.instance=a,Ce.initEvent(ae,!_e,!Be),Ce.detail=pe,J.dispatchEvent(Ce),Ce},T=function(J,ae){var pe;!d&&(pe=t.picturefill||l.pf)?(ae&&ae.src&&!J[g]("srcset")&&J.setAttribute("srcset",ae.src),pe({reevaluate:!0,elements:[J]})):ae&&ae.src&&(J.src=ae.src)},I=function(J,ae){return(getComputedStyle(J,null)||{})[ae]},F=function(J,ae,pe){for(pe=pe||J.offsetWidth;pe<l.minSize&&ae&&!J._lazysizesWidth;)pe=ae.offsetWidth,ae=ae.parentNode;return pe},W=function(){var J,ae,pe=[],_e=[],Be=pe,Ce=function(){var Oe=Be;for(Be=pe.length?_e:pe,J=!0,ae=!1;Oe.length;)Oe.shift()();J=!1},ke=function(Oe,ve){J&&!ve?Oe.apply(this,arguments):(Be.push(Oe),ae||(ae=!0,(i.hidden?m:k)(Ce)))};return ke._lsFlush=Ce,ke}(),z=function(J,ae){return ae?function(){W(J)}:function(){var pe=this,_e=arguments;W(function(){J.apply(pe,_e)})}},Z=function(J){var ae,pe=0,_e=l.throttleDelay,Be=l.ricTimeout,Ce=function(){ae=!1,pe=r.now(),J()},ke=v&&Be>49?function(){v(Ce,{timeout:Be}),Be!==l.ricTimeout&&(Be=l.ricTimeout)}:z(function(){m(Ce)},!0);return function(Oe){var ve;(Oe=Oe===!0)&&(Be=33),!ae&&(ae=!0,ve=_e-(r.now()-pe),ve<0&&(ve=0),Oe||ve<9?ke():m(ke,ve))}},he=function(J){var ae,pe,_e=99,Be=function(){ae=null,J()},Ce=function(){var ke=r.now()-pe;ke<_e?m(Ce,_e-ke):(v||Be)(Be)};return function(){pe=r.now(),ae||(ae=m(Ce,_e))}},oe=function(){var J,ae,pe,_e,Be,Ce,ke,Oe,ve,j,le,se,ie=/^img$/i,je=/^iframe$/i,Qe="onscroll"in t&&!/(gle|ing)bot/.test(navigator.userAgent),B=0,A=0,H=0,K=-1,q=function(ce){H--,(!ce||H<0||!ce.target)&&(H=0)},re=function(ce){return se==null&&(se=I(i.body,"visibility")=="hidden"),se||!(I(ce.parentNode,"visibility")=="hidden"&&I(ce,"visibility")=="hidden")},ue=function(ce,Ie){var qe,dt=ce,Ge=re(ce);for(Oe-=Ie,le+=Ie,ve-=Ie,j+=Ie;Ge&&(dt=dt.offsetParent)&&dt!=i.body&&dt!=u;)Ge=(I(dt,"opacity")||1)>0,Ge&&I(dt,"overflow")!="visible"&&(qe=dt.getBoundingClientRect(),Ge=j>qe.left&&ve<qe.right&&le>qe.top-1&&Oe<qe.bottom+1);return Ge},ne=function(){var ce,Ie,qe,dt,Ge,tt,Gt,Mn,zn,vn,$n,bo,Yt=a.elements;if((_e=l.loadMode)&&H<8&&(ce=Yt.length)){for(Ie=0,K++;Ie<ce;Ie++)if(!(!Yt[Ie]||Yt[Ie]._lazyRace)){if(!Qe||a.prematureUnveil&&a.prematureUnveil(Yt[Ie])){He(Yt[Ie]);continue}if((!(Mn=Yt[Ie][g]("data-expand"))||!(tt=Mn*1))&&(tt=A),vn||(vn=!l.expand||l.expand<1?u.clientHeight>500&&u.clientWidth>500?500:370:l.expand,a._defEx=vn,$n=vn*l.expFactor,bo=l.hFac,se=null,A<$n&&H<1&&K>2&&_e>2&&!i.hidden?(A=$n,K=0):_e>1&&K>1&&H<6?A=vn:A=B),zn!==tt&&(Ce=innerWidth+tt*bo,ke=innerHeight+tt,Gt=tt*-1,zn=tt),qe=Yt[Ie].getBoundingClientRect(),(le=qe.bottom)>=Gt&&(Oe=qe.top)<=ke&&(j=qe.right)>=Gt*bo&&(ve=qe.left)<=Ce&&(le||j||ve||Oe)&&(l.loadHidden||re(Yt[Ie]))&&(ae&&H<3&&!Mn&&(_e<3||K<4)||ue(Yt[Ie],tt))){if(He(Yt[Ie]),Ge=!0,H>9)break}else!Ge&&ae&&!dt&&H<4&&K<4&&_e>2&&(J[0]||l.preloadAfterLoad)&&(J[0]||!Mn&&(le||j||ve||Oe||Yt[Ie][g](l.sizesAttr)!="auto"))&&(dt=J[0]||Yt[Ie])}dt&&!Ge&&He(dt)}},Q=Z(ne),ee=function(ce){var Ie=ce.target;if(Ie._lazyCache){delete Ie._lazyCache;return}q(ce),M(Ie,l.loadedClass),O(Ie,l.loadingClass),P(Ie,xe),U(Ie,"lazyloaded")},fe=z(ee),xe=function(ce){fe({target:ce.target})},be=function(ce,Ie){var qe=ce.getAttribute("data-load-mode")||l.iframeLoadMode;qe==0?ce.contentWindow.location.replace(Ie):qe==1&&(ce.src=Ie)},Le=function(ce){var Ie,qe=ce[g](l.srcsetAttr);(Ie=l.customMedia[ce[g]("data-media")||ce[g]("media")])&&ce.setAttribute("media",Ie),qe&&ce.setAttribute("srcset",qe)},Re=z(function(ce,Ie,qe,dt,Ge){var tt,Gt,Mn,zn,vn,$n;(vn=U(ce,"lazybeforeunveil",Ie)).defaultPrevented||(dt&&(qe?M(ce,l.autosizesClass):ce.setAttribute("sizes",dt)),Gt=ce[g](l.srcsetAttr),tt=ce[g](l.srcAttr),Ge&&(Mn=ce.parentNode,zn=Mn&&b.test(Mn.nodeName||"")),$n=Ie.firesLoad||"src"in ce&&(Gt||tt||zn),vn={target:ce},M(ce,l.loadingClass),$n&&(clearTimeout(pe),pe=m(q,2500),P(ce,xe,!0)),zn&&E.call(Mn.getElementsByTagName("source"),Le),Gt?ce.setAttribute("srcset",Gt):tt&&!zn&&(je.test(ce.nodeName)?be(ce,tt):ce.src=tt),Ge&&(Gt||zn)&&T(ce,{src:tt})),ce._lazyRace&&delete ce._lazyRace,O(ce,l.lazyClass),W(function(){var bo=ce.complete&&ce.naturalWidth>1;(!$n||bo)&&(bo&&M(ce,l.fastLoadedClass),ee(vn),ce._lazyCache=!0,m(function(){"_lazyCache"in ce&&delete ce._lazyCache},9)),ce.loading=="lazy"&&H--},!0)}),He=function(ce){if(!ce._lazyRace){var Ie,qe=ie.test(ce.nodeName),dt=qe&&(ce[g](l.sizesAttr)||ce[g]("sizes")),Ge=dt=="auto";(Ge||!ae)&&qe&&(ce[g]("src")||ce.srcset)&&!ce.complete&&!S(ce,l.errorClass)&&S(ce,l.lazyClass)||(Ie=U(ce,"lazyunveilread").detail,Ge&&me.updateElem(ce,!0,ce.offsetWidth),ce._lazyRace=!0,H++,Re(ce,Ie,Ge,dt,qe))}},et=he(function(){l.loadMode=3,Q()}),ut=function(){l.loadMode==3&&(l.loadMode=2),et()},Ct=function(){if(!ae){if(r.now()-Be<999){m(Ct,999);return}ae=!0,l.loadMode=3,Q(),p("scroll",ut,!0)}};return{_:function(){Be=r.now(),a.elements=i.getElementsByClassName(l.lazyClass),J=i.getElementsByClassName(l.lazyClass+" "+l.preloadClass),p("scroll",Q,!0),p("resize",Q,!0),p("pageshow",function(ce){if(ce.persisted){var Ie=i.querySelectorAll("."+l.loadingClass);Ie.length&&Ie.forEach&&k(function(){Ie.forEach(function(qe){qe.complete&&He(qe)})})}}),t.MutationObserver?new MutationObserver(Q).observe(u,{childList:!0,subtree:!0,attributes:!0}):(u[h]("DOMNodeInserted",Q,!0),u[h]("DOMAttrModified",Q,!0),setInterval(Q,999)),p("hashchange",Q,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach(function(ce){i[h](ce,Q,!0)}),/d$|^c/.test(i.readyState)?Ct():(p("load",Ct),i[h]("DOMContentLoaded",Q),m(Ct,2e4)),a.elements.length?(ne(),W._lsFlush()):Q()},checkElems:Q,unveil:He,_aLSL:ut}}(),me=function(){var J,ae=z(function(Ce,ke,Oe,ve){var j,le,se;if(Ce._lazysizesWidth=ve,ve+="px",Ce.setAttribute("sizes",ve),b.test(ke.nodeName||""))for(j=ke.getElementsByTagName("source"),le=0,se=j.length;le<se;le++)j[le].setAttribute("sizes",ve);Oe.detail.dataAttr||T(Ce,Oe.detail)}),pe=function(Ce,ke,Oe){var ve,j=Ce.parentNode;j&&(Oe=F(Ce,j,Oe),ve=U(Ce,"lazybeforesizes",{width:Oe,dataAttr:!!ke}),ve.defaultPrevented||(Oe=ve.detail.width,Oe&&Oe!==Ce._lazysizesWidth&&ae(Ce,j,ve,Oe)))},_e=function(){var Ce,ke=J.length;if(ke)for(Ce=0;Ce<ke;Ce++)pe(J[Ce])},Be=he(_e);return{_:function(){J=i.getElementsByClassName(l.autosizesClass),p("resize",Be)},checkElems:Be,updateElem:pe}}(),we=function(){!we.i&&i.getElementsByClassName&&(we.i=!0,me._(),oe._())};return m(function(){l.init&&we()}),a={cfg:l,autoSizer:me,loader:oe,init:we,uP:T,aC:M,rC:O,hC:S,fire:U,gW:F,rAF:W},a})}(vc)),vc.exports}Fm();var JB={exports:{}};(function(n){(function(e,t){if(e){var i=function(){t(e.lazySizes),e.removeEventListener("lazyunveilread",i,!0)};t=t.bind(null,e,e.document),n.exports?t(Fm()):e.lazySizes?i():e.addEventListener("lazyunveilread",i,!0)}})(typeof window<"u"?window:0,function(e,t,i){if(e.addEventListener){var r=/\s+(\d+)(w|h)\s+(\d+)(w|h)/,a=/parent-fit["']*\s*:\s*["']*(contain|cover|width)/,l=/parent-container["']*\s*:\s*["']*(.+?)(?=(\s|$|,|'|"|;))/,u=/^picture$/i,d=i.cfg,h=function(p){return getComputedStyle(p,null)||{}},g={getParent:function(p,m){var k=p,v=p.parentNode;return(!m||m=="prev")&&v&&u.test(v.nodeName||"")&&(v=v.parentNode),m!="self"&&(m=="prev"?k=p.previousElementSibling:m&&(v.closest||e.jQuery)?k=(v.closest?v.closest(m):jQuery(v).closest(m)[0])||v:k=v),k},getFit:function(p){var m,k,v=h(p),b=v.content||v.fontFamily,w={fit:p._lazysizesParentFit||p.getAttribute("data-parent-fit")};return!w.fit&&b&&(m=b.match(a))&&(w.fit=m[1]),w.fit?(k=p._lazysizesParentContainer||p.getAttribute("data-parent-container"),!k&&b&&(m=b.match(l))&&(k=m[1]),w.parent=g.getParent(p,k)):w.fit=v.objectFit,w},getImageRatio:function(p){var m,k,v,b,w,_,E,S=p.parentNode,M=S&&u.test(S.nodeName||"")?S.querySelectorAll("source, img"):[p];for(m=0;m<M.length;m++)if(p=M[m],k=p.getAttribute(d.srcsetAttr)||p.getAttribute("srcset")||p.getAttribute("data-pfsrcset")||p.getAttribute("data-risrcset")||"",v=p._lsMedia||p.getAttribute("media"),v=d.customMedia[p.getAttribute("data-media")||v]||v,k&&(!v||(e.matchMedia&&matchMedia(v)||{}).matches)){b=parseFloat(p.getAttribute("data-aspectratio")),b||(w=k.match(r),w?w[2]=="w"?(_=w[1],E=w[3]):(_=w[3],E=w[1]):(_=p.getAttribute("width"),E=p.getAttribute("height")),b=_/E);break}return b},calculateSize:function(p,m){var k,v,b,w,_=this.getFit(p),E=_.fit,S=_.parent;return E!="width"&&(E!="contain"&&E!="cover"||!(b=this.getImageRatio(p)))?m:(S?m=S.clientWidth:S=p,w=m,E=="width"?w=m:(v=S.clientHeight,(k=m/v)&&(E=="cover"&&k<b||E=="contain"&&k>b)&&(w=m*(b/k))),w)}};i.parentFit=g,t.addEventListener("lazybeforesizes",function(p){if(!(p.defaultPrevented||p.detail.instance!=i)){var m=p.target;p.detail.width=g.calculateSize(m,p.detail.width)}})}})})(JB);const QB=$C(XC),eI=KC();QB.use(eI).use(ZB).mount("#app");
